var p$=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Pme=p$((Jme,e6)=>{function v$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N0={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jR;function m$(){if(jR)return Wl;jR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:o,ref:a!==void 0?a:null,props:i}}return Wl.Fragment=e,Wl.jsx=n,Wl.jsxs=n,Wl}var FR;function g$(){return FR||(FR=1,N0.exports=m$()),N0.exports}var de=g$(),k0={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UR;function y$(){if(UR)return et;UR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=d&&B[d]||B["@@iterator"],typeof B=="function"?B:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function b(B,K,J){this.props=B,this.context=K,this.refs=x,this.updater=J||m}b.prototype.isReactComponent={},b.prototype.setState=function(B,K){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,K,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=b.prototype;function S(B,K,J){this.props=B,this.context=K,this.refs=x,this.updater=J||m}var A=S.prototype=new w;A.constructor=S,y(A,b.prototype),A.isPureReactComponent=!0;var O=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function R(B,K,J,ne,ve,we){return J=we.ref,{$$typeof:t,type:B,key:K,ref:J!==void 0?J:null,props:we}}function D(B,K){return R(B.type,K,void 0,void 0,void 0,B.props)}function M(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function N(B){var K={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(J){return K[J]})}var k=/\/+/g;function I(B,K){return typeof B=="object"&&B!==null&&B.key!=null?N(""+B.key):K.toString(36)}function q(){}function W(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(q,q):(B.status="pending",B.then(function(K){B.status==="pending"&&(B.status="fulfilled",B.value=K)},function(K){B.status==="pending"&&(B.status="rejected",B.reason=K)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function $(B,K,J,ne,ve){var we=typeof B;(we==="undefined"||we==="boolean")&&(B=null);var xe=!1;if(B===null)xe=!0;else switch(we){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(B.$$typeof){case t:case e:xe=!0;break;case h:return xe=B._init,$(xe(B._payload),K,J,ne,ve)}}if(xe)return ve=ve(B),xe=ne===""?"."+I(B,0):ne,O(ve)?(J="",xe!=null&&(J=xe.replace(k,"$&/")+"/"),$(ve,K,J,"",function(ge){return ge})):ve!=null&&(M(ve)&&(ve=D(ve,J+(ve.key==null||B&&B.key===ve.key?"":(""+ve.key).replace(k,"$&/")+"/")+xe)),K.push(ve)),1;xe=0;var Fe=ne===""?".":ne+":";if(O(B))for(var Ae=0;Ae<B.length;Ae++)ne=B[Ae],we=Fe+I(ne,Ae),xe+=$(ne,K,J,we,ve);else if(Ae=v(B),typeof Ae=="function")for(B=Ae.call(B),Ae=0;!(ne=B.next()).done;)ne=ne.value,we=Fe+I(ne,Ae++),xe+=$(ne,K,J,we,ve);else if(we==="object"){if(typeof B.then=="function")return $(W(B),K,J,ne,ve);throw K=String(B),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xe}function j(B,K,J){if(B==null)return B;var ne=[],ve=0;return $(B,ne,"","",function(we){return K.call(J,we,ve++)}),ne}function U(B){if(B._status===-1){var K=B._result;K=K(),K.then(function(J){(B._status===0||B._status===-1)&&(B._status=1,B._result=J)},function(J){(B._status===0||B._status===-1)&&(B._status=2,B._result=J)}),B._status===-1&&(B._status=0,B._result=K)}if(B._status===1)return B._result.default;throw B._result}var H=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Y(){}return et.Children={map:j,forEach:function(B,K,J){j(B,function(){K.apply(this,arguments)},J)},count:function(B){var K=0;return j(B,function(){K++}),K},toArray:function(B){return j(B,function(K){return K})||[]},only:function(B){if(!M(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},et.Component=b,et.Fragment=n,et.Profiler=a,et.PureComponent=S,et.StrictMode=r,et.Suspense=c,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,et.__COMPILER_RUNTIME={__proto__:null,c:function(B){return E.H.useMemoCache(B)}},et.cache=function(B){return function(){return B.apply(null,arguments)}},et.cloneElement=function(B,K,J){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ne=y({},B.props),ve=B.key,we=void 0;if(K!=null)for(xe in K.ref!==void 0&&(we=void 0),K.key!==void 0&&(ve=""+K.key),K)!C.call(K,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&K.ref===void 0||(ne[xe]=K[xe]);var xe=arguments.length-2;if(xe===1)ne.children=J;else if(1<xe){for(var Fe=Array(xe),Ae=0;Ae<xe;Ae++)Fe[Ae]=arguments[Ae+2];ne.children=Fe}return R(B.type,ve,void 0,void 0,we,ne)},et.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:i,_context:B},B},et.createElement=function(B,K,J){var ne,ve={},we=null;if(K!=null)for(ne in K.key!==void 0&&(we=""+K.key),K)C.call(K,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ve[ne]=K[ne]);var xe=arguments.length-2;if(xe===1)ve.children=J;else if(1<xe){for(var Fe=Array(xe),Ae=0;Ae<xe;Ae++)Fe[Ae]=arguments[Ae+2];ve.children=Fe}if(B&&B.defaultProps)for(ne in xe=B.defaultProps,xe)ve[ne]===void 0&&(ve[ne]=xe[ne]);return R(B,we,void 0,void 0,null,ve)},et.createRef=function(){return{current:null}},et.forwardRef=function(B){return{$$typeof:u,render:B}},et.isValidElement=M,et.lazy=function(B){return{$$typeof:h,_payload:{_status:-1,_result:B},_init:U}},et.memo=function(B,K){return{$$typeof:l,type:B,compare:K===void 0?null:K}},et.startTransition=function(B){var K=E.T,J={};E.T=J;try{var ne=B(),ve=E.S;ve!==null&&ve(J,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Y,H)}catch(we){H(we)}finally{E.T=K}},et.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},et.use=function(B){return E.H.use(B)},et.useActionState=function(B,K,J){return E.H.useActionState(B,K,J)},et.useCallback=function(B,K){return E.H.useCallback(B,K)},et.useContext=function(B){return E.H.useContext(B)},et.useDebugValue=function(){},et.useDeferredValue=function(B,K){return E.H.useDeferredValue(B,K)},et.useEffect=function(B,K,J){var ne=E.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(B,K)},et.useId=function(){return E.H.useId()},et.useImperativeHandle=function(B,K,J){return E.H.useImperativeHandle(B,K,J)},et.useInsertionEffect=function(B,K){return E.H.useInsertionEffect(B,K)},et.useLayoutEffect=function(B,K){return E.H.useLayoutEffect(B,K)},et.useMemo=function(B,K){return E.H.useMemo(B,K)},et.useOptimistic=function(B,K){return E.H.useOptimistic(B,K)},et.useReducer=function(B,K,J){return E.H.useReducer(B,K,J)},et.useRef=function(B){return E.H.useRef(B)},et.useState=function(B){return E.H.useState(B)},et.useSyncExternalStore=function(B,K,J){return E.H.useSyncExternalStore(B,K,J)},et.useTransition=function(){return E.H.useTransition()},et.version="19.1.0",et}var qR;function am(){return qR||(qR=1,k0.exports=y$()),k0.exports}var Q=am();const V=gt(Q),b$=v$({__proto__:null,default:V},[Q]);var I0={exports:{}},Hl={},B0={exports:{}},L0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zR;function x$(){return zR||(zR=1,function(t){function e(j,U){var H=j.length;j.push(U);e:for(;0<H;){var Y=H-1>>>1,B=j[Y];if(0<a(B,U))j[Y]=U,j[H]=B,H=Y;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],H=j.pop();if(H!==U){j[0]=H;e:for(var Y=0,B=j.length,K=B>>>1;Y<K;){var J=2*(Y+1)-1,ne=j[J],ve=J+1,we=j[ve];if(0>a(ne,H))ve<B&&0>a(we,ne)?(j[Y]=we,j[ve]=H,Y=ve):(j[Y]=ne,j[J]=H,Y=J);else if(ve<B&&0>a(we,H))j[Y]=we,j[ve]=H,Y=ve;else break e}}return U}function a(j,U){var H=j.sortIndex-U.sortIndex;return H!==0?H:j.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],l=[],h=1,d=null,v=3,m=!1,y=!1,x=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(j){for(var U=n(l);U!==null;){if(U.callback===null)r(l);else if(U.startTime<=j)r(l),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(l)}}function E(j){if(x=!1,O(j),!y)if(n(c)!==null)y=!0,C||(C=!0,I());else{var U=n(l);U!==null&&$(E,U.startTime-j)}}var C=!1,R=-1,D=5,M=-1;function N(){return b?!0:!(t.unstable_now()-M<D)}function k(){if(b=!1,C){var j=t.unstable_now();M=j;var U=!0;try{e:{y=!1,x&&(x=!1,S(R),R=-1),m=!0;var H=v;try{t:{for(O(j),d=n(c);d!==null&&!(d.expirationTime>j&&N());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,v=d.priorityLevel;var B=Y(d.expirationTime<=j);if(j=t.unstable_now(),typeof B=="function"){d.callback=B,O(j),U=!0;break t}d===n(c)&&r(c),O(j)}else r(c);d=n(c)}if(d!==null)U=!0;else{var K=n(l);K!==null&&$(E,K.startTime-j),U=!1}}break e}finally{d=null,v=H,m=!1}U=void 0}}finally{U?I():C=!1}}}var I;if(typeof A=="function")I=function(){A(k)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,W=q.port2;q.port1.onmessage=k,I=function(){W.postMessage(null)}}else I=function(){w(k,0)};function $(j,U){R=w(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(j){switch(v){case 1:case 2:case 3:var U=3;break;default:U=v}var H=v;v=U;try{return j()}finally{v=H}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var H=v;v=j;try{return U()}finally{v=H}},t.unstable_scheduleCallback=function(j,U,H){var Y=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,j){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=H+B,j={id:h++,callback:U,priorityLevel:j,startTime:H,expirationTime:B,sortIndex:-1},H>Y?(j.sortIndex=H,e(l,j),n(c)===null&&j===n(l)&&(x?(S(R),R=-1):x=!0,$(E,H-Y))):(j.sortIndex=B,e(c,j),y||m||(y=!0,C||(C=!0,I()))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var U=v;return function(){var H=v;v=U;try{return j.apply(this,arguments)}finally{v=H}}}}(L0)),L0}var $R;function w$(){return $R||($R=1,B0.exports=x$()),B0.exports}var j0={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WR;function _$(){if(WR)return Wn;WR=1;var t=am();function e(c){var l="https://react.dev/errors/"+c;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(c,l,h){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:d==null?null:""+d,children:c,containerInfo:l,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,l){if(c==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wn.createPortal=function(c,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(e(299));return i(c,l,null,h)},Wn.flushSync=function(c){var l=o.T,h=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=l,r.p=h,r.d.f()}},Wn.preconnect=function(c,l){typeof c=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,r.d.C(c,l))},Wn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Wn.preinit=function(c,l){if(typeof c=="string"&&l&&typeof l.as=="string"){var h=l.as,d=u(h,l.crossOrigin),v=typeof l.integrity=="string"?l.integrity:void 0,m=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;h==="style"?r.d.S(c,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:d,integrity:v,fetchPriority:m}):h==="script"&&r.d.X(c,{crossOrigin:d,integrity:v,fetchPriority:m,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},Wn.preinitModule=function(c,l){if(typeof c=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var h=u(l.as,l.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&r.d.M(c)},Wn.preload=function(c,l){if(typeof c=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var h=l.as,d=u(h,l.crossOrigin);r.d.L(c,h,{crossOrigin:d,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},Wn.preloadModule=function(c,l){if(typeof c=="string")if(l){var h=u(l.as,l.crossOrigin);r.d.m(c,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:h,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else r.d.m(c)},Wn.requestFormReset=function(c){r.d.r(c)},Wn.unstable_batchedUpdates=function(c,l){return c(l)},Wn.useFormState=function(c,l,h){return o.H.useFormState(c,l,h)},Wn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var HR;function gB(){if(HR)return j0.exports;HR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),j0.exports=_$(),j0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR;function S$(){if(VR)return Hl;VR=1;var t=w$(),e=am(),n=gB();function r(s){var f="https://react.dev/errors/"+s;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+s+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function i(s){var f=s,p=s;if(s.alternate)for(;f.return;)f=f.return;else{s=f;do f=s,(f.flags&4098)!==0&&(p=f.return),s=f.return;while(s)}return f.tag===3?p:null}function o(s){if(s.tag===13){var f=s.memoizedState;if(f===null&&(s=s.alternate,s!==null&&(f=s.memoizedState)),f!==null)return f.dehydrated}return null}function u(s){if(i(s)!==s)throw Error(r(188))}function c(s){var f=s.alternate;if(!f){if(f=i(s),f===null)throw Error(r(188));return f!==s?null:s}for(var p=s,g=f;;){var _=p.return;if(_===null)break;var T=_.alternate;if(T===null){if(g=_.return,g!==null){p=g;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===p)return u(_),s;if(T===g)return u(_),f;T=T.sibling}throw Error(r(188))}if(p.return!==g.return)p=_,g=T;else{for(var P=!1,L=_.child;L;){if(L===p){P=!0,p=_,g=T;break}if(L===g){P=!0,g=_,p=T;break}L=L.sibling}if(!P){for(L=T.child;L;){if(L===p){P=!0,p=T,g=_;break}if(L===g){P=!0,g=T,p=_;break}L=L.sibling}if(!P)throw Error(r(189))}}if(p.alternate!==g)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?s:f}function l(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s;for(s=s.child;s!==null;){if(f=l(s),f!==null)return f;s=s.sibling}return null}var h=Object.assign,d=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function I(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var q=Symbol.for("react.client.reference");function W(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===q?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case y:return"Fragment";case b:return"Profiler";case x:return"StrictMode";case E:return"Suspense";case C:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case m:return"Portal";case A:return(s.displayName||"Context")+".Provider";case S:return(s._context.displayName||"Context")+".Consumer";case O:var f=s.render;return s=s.displayName,s||(s=f.displayName||f.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return f=s.displayName||null,f!==null?f:W(s.type)||"Memo";case D:f=s._payload,s=s._init;try{return W(s(f))}catch{}}return null}var $=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},Y=[],B=-1;function K(s){return{current:s}}function J(s){0>B||(s.current=Y[B],Y[B]=null,B--)}function ne(s,f){B++,Y[B]=s.current,s.current=f}var ve=K(null),we=K(null),xe=K(null),Fe=K(null);function Ae(s,f){switch(ne(xe,f),ne(we,s),ne(ve,null),f.nodeType){case 9:case 11:s=(s=f.documentElement)&&(s=s.namespaceURI)?hR(s):0;break;default:if(s=f.tagName,f=f.namespaceURI)f=hR(f),s=dR(f,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(ve),ne(ve,s)}function ge(){J(ve),J(we),J(xe)}function Te(s){s.memoizedState!==null&&ne(Fe,s);var f=ve.current,p=dR(f,s.type);f!==p&&(ne(we,s),ne(ve,p))}function Se(s){we.current===s&&(J(ve),J(we)),Fe.current===s&&(J(Fe),Fl._currentValue=H)}var le=Object.prototype.hasOwnProperty,Le=t.unstable_scheduleCallback,Ie=t.unstable_cancelCallback,Ge=t.unstable_shouldYield,Ke=t.unstable_requestPaint,ct=t.unstable_now,Xt=t.unstable_getCurrentPriorityLevel,Ft=t.unstable_ImmediatePriority,ur=t.unstable_UserBlockingPriority,Wt=t.unstable_NormalPriority,wn=t.unstable_LowPriority,qn=t.unstable_IdlePriority,sa=t.log,sr=t.unstable_setDisableYieldValue,ti=null,tn=null;function cn(s){if(typeof sa=="function"&&sr(s),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(ti,s)}catch{}}var Pn=Math.clz32?Math.clz32:wg,bg=Math.log,xg=Math.LN2;function wg(s){return s>>>=0,s===0?32:31-(bg(s)/xg|0)|0}var qi=256,zi=4194304;function ca(s){var f=s&42;if(f!==0)return f;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function jh(s,f,p){var g=s.pendingLanes;if(g===0)return 0;var _=0,T=s.suspendedLanes,P=s.pingedLanes;s=s.warmLanes;var L=g&134217727;return L!==0?(g=L&~T,g!==0?_=ca(g):(P&=L,P!==0?_=ca(P):p||(p=L&~s,p!==0&&(_=ca(p))))):(L=g&~T,L!==0?_=ca(L):P!==0?_=ca(P):p||(p=g&~s,p!==0&&(_=ca(p)))),_===0?0:f!==0&&f!==_&&(f&T)===0&&(T=_&-_,p=f&-f,T>=p||T===32&&(p&4194048)!==0)?f:_}function Kc(s,f){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&f)===0}function t6(s,f){switch(s){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XA(){var s=qi;return qi<<=1,(qi&4194048)===0&&(qi=256),s}function YA(){var s=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),s}function _g(s){for(var f=[],p=0;31>p;p++)f.push(s);return f}function Xc(s,f){s.pendingLanes|=f,f!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function n6(s,f,p,g,_,T){var P=s.pendingLanes;s.pendingLanes=p,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=p,s.entangledLanes&=p,s.errorRecoveryDisabledLanes&=p,s.shellSuspendCounter=0;var L=s.entanglements,G=s.expirationTimes,ae=s.hiddenUpdates;for(p=P&~p;0<p;){var pe=31-Pn(p),ye=1<<pe;L[pe]=0,G[pe]=-1;var ie=ae[pe];if(ie!==null)for(ae[pe]=null,pe=0;pe<ie.length;pe++){var oe=ie[pe];oe!==null&&(oe.lane&=-536870913)}p&=~ye}g!==0&&QA(s,g,0),T!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=T&~(P&~f))}function QA(s,f,p){s.pendingLanes|=f,s.suspendedLanes&=~f;var g=31-Pn(f);s.entangledLanes|=f,s.entanglements[g]=s.entanglements[g]|1073741824|p&4194090}function ZA(s,f){var p=s.entangledLanes|=f;for(s=s.entanglements;p;){var g=31-Pn(p),_=1<<g;_&f|s[g]&f&&(s[g]|=f),p&=~_}}function Sg(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Eg(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function JA(){var s=U.p;return s!==0?s:(s=window.event,s===void 0?32:PR(s.type))}function r6(s,f){var p=U.p;try{return U.p=s,f()}finally{U.p=p}}var $i=Math.random().toString(36).slice(2),zn="__reactFiber$"+$i,cr="__reactProps$"+$i,Wu="__reactContainer$"+$i,Ag="__reactEvents$"+$i,a6="__reactListeners$"+$i,i6="__reactHandles$"+$i,eO="__reactResources$"+$i,Yc="__reactMarker$"+$i;function Og(s){delete s[zn],delete s[cr],delete s[Ag],delete s[a6],delete s[i6]}function Hu(s){var f=s[zn];if(f)return f;for(var p=s.parentNode;p;){if(f=p[Wu]||p[zn]){if(p=f.alternate,f.child!==null||p!==null&&p.child!==null)for(s=gR(s);s!==null;){if(p=s[zn])return p;s=gR(s)}return f}s=p,p=s.parentNode}return null}function Vu(s){if(s=s[zn]||s[Wu]){var f=s.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return s}return null}function Qc(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s.stateNode;throw Error(r(33))}function Gu(s){var f=s[eO];return f||(f=s[eO]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function _n(s){s[Yc]=!0}var tO=new Set,nO={};function qo(s,f){Ku(s,f),Ku(s+"Capture",f)}function Ku(s,f){for(nO[s]=f,s=0;s<f.length;s++)tO.add(f[s])}var o6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rO={},aO={};function u6(s){return le.call(aO,s)?!0:le.call(rO,s)?!1:o6.test(s)?aO[s]=!0:(rO[s]=!0,!1)}function Fh(s,f,p){if(u6(f))if(p===null)s.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":s.removeAttribute(f);return;case"boolean":var g=f.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(f);return}}s.setAttribute(f,""+p)}}function Uh(s,f,p){if(p===null)s.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttribute(f,""+p)}}function ni(s,f,p,g){if(g===null)s.removeAttribute(p);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(p);return}s.setAttributeNS(f,p,""+g)}}var Tg,iO;function Xu(s){if(Tg===void 0)try{throw Error()}catch(p){var f=p.stack.trim().match(/\n( *(at )?)/);Tg=f&&f[1]||"",iO=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tg+s+iO}var Cg=!1;function Rg(s,f){if(!s||Cg)return"";Cg=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(f){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(oe){var ie=oe}Reflect.construct(s,[],ye)}else{try{ye.call()}catch(oe){ie=oe}s.call(ye.prototype)}}else{try{throw Error()}catch(oe){ie=oe}(ye=s())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(oe){if(oe&&ie&&typeof oe.stack=="string")return[oe.stack,ie.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=g.DetermineComponentFrameRoot(),P=T[0],L=T[1];if(P&&L){var G=P.split(`
`),ae=L.split(`
`);for(_=g=0;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;for(;_<ae.length&&!ae[_].includes("DetermineComponentFrameRoot");)_++;if(g===G.length||_===ae.length)for(g=G.length-1,_=ae.length-1;1<=g&&0<=_&&G[g]!==ae[_];)_--;for(;1<=g&&0<=_;g--,_--)if(G[g]!==ae[_]){if(g!==1||_!==1)do if(g--,_--,0>_||G[g]!==ae[_]){var pe=`
`+G[g].replace(" at new "," at ");return s.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",s.displayName)),pe}while(1<=g&&0<=_);break}}}finally{Cg=!1,Error.prepareStackTrace=p}return(p=s?s.displayName||s.name:"")?Xu(p):""}function s6(s){switch(s.tag){case 26:case 27:case 5:return Xu(s.type);case 16:return Xu("Lazy");case 13:return Xu("Suspense");case 19:return Xu("SuspenseList");case 0:case 15:return Rg(s.type,!1);case 11:return Rg(s.type.render,!1);case 1:return Rg(s.type,!0);case 31:return Xu("Activity");default:return""}}function oO(s){try{var f="";do f+=s6(s),s=s.return;while(s);return f}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Ur(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function uO(s){var f=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function c6(s){var f=uO(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,f),g=""+s[f];if(!s.hasOwnProperty(f)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,T=p.set;return Object.defineProperty(s,f,{configurable:!0,get:function(){return _.call(this)},set:function(P){g=""+P,T.call(this,P)}}),Object.defineProperty(s,f,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(P){g=""+P},stopTracking:function(){s._valueTracker=null,delete s[f]}}}}function qh(s){s._valueTracker||(s._valueTracker=c6(s))}function sO(s){if(!s)return!1;var f=s._valueTracker;if(!f)return!0;var p=f.getValue(),g="";return s&&(g=uO(s)?s.checked?"true":"false":s.value),s=g,s!==p?(f.setValue(s),!0):!1}function zh(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var l6=/[\n"\\]/g;function qr(s){return s.replace(l6,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Dg(s,f,p,g,_,T,P,L){s.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.type=P:s.removeAttribute("type"),f!=null?P==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+Ur(f)):s.value!==""+Ur(f)&&(s.value=""+Ur(f)):P!=="submit"&&P!=="reset"||s.removeAttribute("value"),f!=null?Mg(s,P,Ur(f)):p!=null?Mg(s,P,Ur(p)):g!=null&&s.removeAttribute("value"),_==null&&T!=null&&(s.defaultChecked=!!T),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.name=""+Ur(L):s.removeAttribute("name")}function cO(s,f,p,g,_,T,P,L){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.type=T),f!=null||p!=null){if(!(T!=="submit"&&T!=="reset"||f!=null))return;p=p!=null?""+Ur(p):"",f=f!=null?""+Ur(f):p,L||f===s.value||(s.value=f),s.defaultValue=f}g=g??_,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=L?s.checked:!!g,s.defaultChecked=!!g,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(s.name=P)}function Mg(s,f,p){f==="number"&&zh(s.ownerDocument)===s||s.defaultValue===""+p||(s.defaultValue=""+p)}function Yu(s,f,p,g){if(s=s.options,f){f={};for(var _=0;_<p.length;_++)f["$"+p[_]]=!0;for(p=0;p<s.length;p++)_=f.hasOwnProperty("$"+s[p].value),s[p].selected!==_&&(s[p].selected=_),_&&g&&(s[p].defaultSelected=!0)}else{for(p=""+Ur(p),f=null,_=0;_<s.length;_++){if(s[_].value===p){s[_].selected=!0,g&&(s[_].defaultSelected=!0);return}f!==null||s[_].disabled||(f=s[_])}f!==null&&(f.selected=!0)}}function lO(s,f,p){if(f!=null&&(f=""+Ur(f),f!==s.value&&(s.value=f),p==null)){s.defaultValue!==f&&(s.defaultValue=f);return}s.defaultValue=p!=null?""+Ur(p):""}function fO(s,f,p,g){if(f==null){if(g!=null){if(p!=null)throw Error(r(92));if($(g)){if(1<g.length)throw Error(r(93));g=g[0]}p=g}p==null&&(p=""),f=p}p=Ur(f),s.defaultValue=p,g=s.textContent,g===p&&g!==""&&g!==null&&(s.value=g)}function Qu(s,f){if(f){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=f;return}}s.textContent=f}var f6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hO(s,f,p){var g=f.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?g?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="":g?s.setProperty(f,p):typeof p!="number"||p===0||f6.has(f)?f==="float"?s.cssFloat=p:s[f]=(""+p).trim():s[f]=p+"px"}function dO(s,f,p){if(f!=null&&typeof f!="object")throw Error(r(62));if(s=s.style,p!=null){for(var g in p)!p.hasOwnProperty(g)||f!=null&&f.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var _ in f)g=f[_],f.hasOwnProperty(_)&&p[_]!==g&&hO(s,_,g)}else for(var T in f)f.hasOwnProperty(T)&&hO(s,T,f[T])}function Pg(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),d6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $h(s){return d6.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ng=null;function kg(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Zu=null,Ju=null;function pO(s){var f=Vu(s);if(f&&(s=f.stateNode)){var p=s[cr]||null;e:switch(s=f.stateNode,f.type){case"input":if(Dg(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),f=p.name,p.type==="radio"&&f!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+qr(""+f)+'"][type="radio"]'),f=0;f<p.length;f++){var g=p[f];if(g!==s&&g.form===s.form){var _=g[cr]||null;if(!_)throw Error(r(90));Dg(g,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(f=0;f<p.length;f++)g=p[f],g.form===s.form&&sO(g)}break e;case"textarea":lO(s,p.value,p.defaultValue);break e;case"select":f=p.value,f!=null&&Yu(s,!!p.multiple,f,!1)}}}var Ig=!1;function vO(s,f,p){if(Ig)return s(f,p);Ig=!0;try{var g=s(f);return g}finally{if(Ig=!1,(Zu!==null||Ju!==null)&&(Cd(),Zu&&(f=Zu,s=Ju,Ju=Zu=null,pO(f),s)))for(f=0;f<s.length;f++)pO(s[f])}}function Zc(s,f){var p=s.stateNode;if(p===null)return null;var g=p[cr]||null;if(g===null)return null;p=g[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(r(231,f,typeof p));return p}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bg=!1;if(ri)try{var Jc={};Object.defineProperty(Jc,"passive",{get:function(){Bg=!0}}),window.addEventListener("test",Jc,Jc),window.removeEventListener("test",Jc,Jc)}catch{Bg=!1}var Wi=null,Lg=null,Wh=null;function mO(){if(Wh)return Wh;var s,f=Lg,p=f.length,g,_="value"in Wi?Wi.value:Wi.textContent,T=_.length;for(s=0;s<p&&f[s]===_[s];s++);var P=p-s;for(g=1;g<=P&&f[p-g]===_[T-g];g++);return Wh=_.slice(s,1<g?1-g:void 0)}function Hh(s){var f=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&f===13&&(s=13)):s=f,s===10&&(s=13),32<=s||s===13?s:0}function Vh(){return!0}function gO(){return!1}function lr(s){function f(p,g,_,T,P){this._reactName=p,this._targetInst=_,this.type=g,this.nativeEvent=T,this.target=P,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(p=s[L],this[L]=p?p(T):T[L]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Vh:gO,this.isPropagationStopped=gO,this}return h(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Vh)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Vh)},persist:function(){},isPersistent:Vh}),f}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gh=lr(zo),el=h({},zo,{view:0,detail:0}),p6=lr(el),jg,Fg,tl,Kh=h({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qg,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==tl&&(tl&&s.type==="mousemove"?(jg=s.screenX-tl.screenX,Fg=s.screenY-tl.screenY):Fg=jg=0,tl=s),jg)},movementY:function(s){return"movementY"in s?s.movementY:Fg}}),yO=lr(Kh),v6=h({},Kh,{dataTransfer:0}),m6=lr(v6),g6=h({},el,{relatedTarget:0}),Ug=lr(g6),y6=h({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),b6=lr(y6),x6=h({},zo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),w6=lr(x6),_6=h({},zo,{data:0}),bO=lr(_6),S6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O6(s){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(s):(s=A6[s])?!!f[s]:!1}function qg(){return O6}var T6=h({},el,{key:function(s){if(s.key){var f=S6[s.key]||s.key;if(f!=="Unidentified")return f}return s.type==="keypress"?(s=Hh(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?E6[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qg,charCode:function(s){return s.type==="keypress"?Hh(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Hh(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),C6=lr(T6),R6=h({},Kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xO=lr(R6),D6=h({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qg}),M6=lr(D6),P6=h({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),N6=lr(P6),k6=h({},Kh,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),I6=lr(k6),B6=h({},zo,{newState:0,oldState:0}),L6=lr(B6),j6=[9,13,27,32],zg=ri&&"CompositionEvent"in window,nl=null;ri&&"documentMode"in document&&(nl=document.documentMode);var F6=ri&&"TextEvent"in window&&!nl,wO=ri&&(!zg||nl&&8<nl&&11>=nl),_O=" ",SO=!1;function EO(s,f){switch(s){case"keyup":return j6.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AO(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var es=!1;function U6(s,f){switch(s){case"compositionend":return AO(f);case"keypress":return f.which!==32?null:(SO=!0,_O);case"textInput":return s=f.data,s===_O&&SO?null:s;default:return null}}function q6(s,f){if(es)return s==="compositionend"||!zg&&EO(s,f)?(s=mO(),Wh=Lg=Wi=null,es=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return wO&&f.locale!=="ko"?null:f.data;default:return null}}var z6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OO(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f==="input"?!!z6[s.type]:f==="textarea"}function TO(s,f,p,g){Zu?Ju?Ju.push(g):Ju=[g]:Zu=g,f=kd(f,"onChange"),0<f.length&&(p=new Gh("onChange","change",null,p,g),s.push({event:p,listeners:f}))}var rl=null,al=null;function $6(s){uR(s,0)}function Xh(s){var f=Qc(s);if(sO(f))return s}function CO(s,f){if(s==="change")return f}var RO=!1;if(ri){var $g;if(ri){var Wg="oninput"in document;if(!Wg){var DO=document.createElement("div");DO.setAttribute("oninput","return;"),Wg=typeof DO.oninput=="function"}$g=Wg}else $g=!1;RO=$g&&(!document.documentMode||9<document.documentMode)}function MO(){rl&&(rl.detachEvent("onpropertychange",PO),al=rl=null)}function PO(s){if(s.propertyName==="value"&&Xh(al)){var f=[];TO(f,al,s,kg(s)),vO($6,f)}}function W6(s,f,p){s==="focusin"?(MO(),rl=f,al=p,rl.attachEvent("onpropertychange",PO)):s==="focusout"&&MO()}function H6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xh(al)}function V6(s,f){if(s==="click")return Xh(f)}function G6(s,f){if(s==="input"||s==="change")return Xh(f)}function K6(s,f){return s===f&&(s!==0||1/s===1/f)||s!==s&&f!==f}var _r=typeof Object.is=="function"?Object.is:K6;function il(s,f){if(_r(s,f))return!0;if(typeof s!="object"||s===null||typeof f!="object"||f===null)return!1;var p=Object.keys(s),g=Object.keys(f);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var _=p[g];if(!le.call(f,_)||!_r(s[_],f[_]))return!1}return!0}function NO(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function kO(s,f){var p=NO(s);s=0;for(var g;p;){if(p.nodeType===3){if(g=s+p.textContent.length,s<=f&&g>=f)return{node:p,offset:f-s};s=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=NO(p)}}function IO(s,f){return s&&f?s===f?!0:s&&s.nodeType===3?!1:f&&f.nodeType===3?IO(s,f.parentNode):"contains"in s?s.contains(f):s.compareDocumentPosition?!!(s.compareDocumentPosition(f)&16):!1:!1}function BO(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var f=zh(s.document);f instanceof s.HTMLIFrameElement;){try{var p=typeof f.contentWindow.location.href=="string"}catch{p=!1}if(p)s=f.contentWindow;else break;f=zh(s.document)}return f}function Hg(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f&&(f==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||f==="textarea"||s.contentEditable==="true")}var X6=ri&&"documentMode"in document&&11>=document.documentMode,ts=null,Vg=null,ol=null,Gg=!1;function LO(s,f,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Gg||ts==null||ts!==zh(g)||(g=ts,"selectionStart"in g&&Hg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ol&&il(ol,g)||(ol=g,g=kd(Vg,"onSelect"),0<g.length&&(f=new Gh("onSelect","select",null,f,p),s.push({event:f,listeners:g}),f.target=ts)))}function $o(s,f){var p={};return p[s.toLowerCase()]=f.toLowerCase(),p["Webkit"+s]="webkit"+f,p["Moz"+s]="moz"+f,p}var ns={animationend:$o("Animation","AnimationEnd"),animationiteration:$o("Animation","AnimationIteration"),animationstart:$o("Animation","AnimationStart"),transitionrun:$o("Transition","TransitionRun"),transitionstart:$o("Transition","TransitionStart"),transitioncancel:$o("Transition","TransitionCancel"),transitionend:$o("Transition","TransitionEnd")},Kg={},jO={};ri&&(jO=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function Wo(s){if(Kg[s])return Kg[s];if(!ns[s])return s;var f=ns[s],p;for(p in f)if(f.hasOwnProperty(p)&&p in jO)return Kg[s]=f[p];return s}var FO=Wo("animationend"),UO=Wo("animationiteration"),qO=Wo("animationstart"),Y6=Wo("transitionrun"),Q6=Wo("transitionstart"),Z6=Wo("transitioncancel"),zO=Wo("transitionend"),$O=new Map,Xg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xg.push("scrollEnd");function la(s,f){$O.set(s,f),qo(f,[s])}var WO=new WeakMap;function zr(s,f){if(typeof s=="object"&&s!==null){var p=WO.get(s);return p!==void 0?p:(f={value:s,source:f,stack:oO(f)},WO.set(s,f),f)}return{value:s,source:f,stack:oO(f)}}var $r=[],rs=0,Yg=0;function Yh(){for(var s=rs,f=Yg=rs=0;f<s;){var p=$r[f];$r[f++]=null;var g=$r[f];$r[f++]=null;var _=$r[f];$r[f++]=null;var T=$r[f];if($r[f++]=null,g!==null&&_!==null){var P=g.pending;P===null?_.next=_:(_.next=P.next,P.next=_),g.pending=_}T!==0&&HO(p,_,T)}}function Qh(s,f,p,g){$r[rs++]=s,$r[rs++]=f,$r[rs++]=p,$r[rs++]=g,Yg|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function Qg(s,f,p,g){return Qh(s,f,p,g),Zh(s)}function as(s,f){return Qh(s,null,null,f),Zh(s)}function HO(s,f,p){s.lanes|=p;var g=s.alternate;g!==null&&(g.lanes|=p);for(var _=!1,T=s.return;T!==null;)T.childLanes|=p,g=T.alternate,g!==null&&(g.childLanes|=p),T.tag===22&&(s=T.stateNode,s===null||s._visibility&1||(_=!0)),s=T,T=T.return;return s.tag===3?(T=s.stateNode,_&&f!==null&&(_=31-Pn(p),s=T.hiddenUpdates,g=s[_],g===null?s[_]=[f]:g.push(f),f.lane=p|536870912),T):null}function Zh(s){if(50<Ml)throw Ml=0,r0=null,Error(r(185));for(var f=s.return;f!==null;)s=f,f=s.return;return s.tag===3?s.stateNode:null}var is={};function J6(s,f,p,g){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(s,f,p,g){return new J6(s,f,p,g)}function Zg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ai(s,f){var p=s.alternate;return p===null?(p=Sr(s.tag,f,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=f,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&65011712,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,f=s.dependencies,p.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p.refCleanup=s.refCleanup,p}function VO(s,f){s.flags&=65011714;var p=s.alternate;return p===null?(s.childLanes=0,s.lanes=f,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=p.childLanes,s.lanes=p.lanes,s.child=p.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=p.memoizedProps,s.memoizedState=p.memoizedState,s.updateQueue=p.updateQueue,s.type=p.type,f=p.dependencies,s.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),s}function Jh(s,f,p,g,_,T){var P=0;if(g=s,typeof s=="function")Zg(s)&&(P=1);else if(typeof s=="string")P=t$(s,p,ve.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=Sr(31,p,f,_),s.elementType=M,s.lanes=T,s;case y:return Ho(p.children,_,T,f);case x:P=8,_|=24;break;case b:return s=Sr(12,p,f,_|2),s.elementType=b,s.lanes=T,s;case E:return s=Sr(13,p,f,_),s.elementType=E,s.lanes=T,s;case C:return s=Sr(19,p,f,_),s.elementType=C,s.lanes=T,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case w:case A:P=10;break e;case S:P=9;break e;case O:P=11;break e;case R:P=14;break e;case D:P=16,g=null;break e}P=29,p=Error(r(130,s===null?"null":typeof s,"")),g=null}return f=Sr(P,p,f,_),f.elementType=s,f.type=g,f.lanes=T,f}function Ho(s,f,p,g){return s=Sr(7,s,g,f),s.lanes=p,s}function Jg(s,f,p){return s=Sr(6,s,null,f),s.lanes=p,s}function ey(s,f,p){return f=Sr(4,s.children!==null?s.children:[],s.key,f),f.lanes=p,f.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},f}var os=[],us=0,ed=null,td=0,Wr=[],Hr=0,Vo=null,ii=1,oi="";function Go(s,f){os[us++]=td,os[us++]=ed,ed=s,td=f}function GO(s,f,p){Wr[Hr++]=ii,Wr[Hr++]=oi,Wr[Hr++]=Vo,Vo=s;var g=ii;s=oi;var _=32-Pn(g)-1;g&=~(1<<_),p+=1;var T=32-Pn(f)+_;if(30<T){var P=_-_%5;T=(g&(1<<P)-1).toString(32),g>>=P,_-=P,ii=1<<32-Pn(f)+_|p<<_|g,oi=T+s}else ii=1<<T|p<<_|g,oi=s}function ty(s){s.return!==null&&(Go(s,1),GO(s,1,0))}function ny(s){for(;s===ed;)ed=os[--us],os[us]=null,td=os[--us],os[us]=null;for(;s===Vo;)Vo=Wr[--Hr],Wr[Hr]=null,oi=Wr[--Hr],Wr[Hr]=null,ii=Wr[--Hr],Wr[Hr]=null}var er=null,Ht=null,vt=!1,Ko=null,Ta=!1,ry=Error(r(519));function Xo(s){var f=Error(r(418,""));throw cl(zr(f,s)),ry}function KO(s){var f=s.stateNode,p=s.type,g=s.memoizedProps;switch(f[zn]=s,f[cr]=g,p){case"dialog":ot("cancel",f),ot("close",f);break;case"iframe":case"object":case"embed":ot("load",f);break;case"video":case"audio":for(p=0;p<Nl.length;p++)ot(Nl[p],f);break;case"source":ot("error",f);break;case"img":case"image":case"link":ot("error",f),ot("load",f);break;case"details":ot("toggle",f);break;case"input":ot("invalid",f),cO(f,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),qh(f);break;case"select":ot("invalid",f);break;case"textarea":ot("invalid",f),fO(f,g.value,g.defaultValue,g.children),qh(f)}p=g.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||f.textContent===""+p||g.suppressHydrationWarning===!0||fR(f.textContent,p)?(g.popover!=null&&(ot("beforetoggle",f),ot("toggle",f)),g.onScroll!=null&&ot("scroll",f),g.onScrollEnd!=null&&ot("scrollend",f),g.onClick!=null&&(f.onclick=Id),f=!0):f=!1,f||Xo(s)}function XO(s){for(er=s.return;er;)switch(er.tag){case 5:case 13:Ta=!1;return;case 27:case 3:Ta=!0;return;default:er=er.return}}function ul(s){if(s!==er)return!1;if(!vt)return XO(s),vt=!0,!1;var f=s.tag,p;if((p=f!==3&&f!==27)&&((p=f===5)&&(p=s.type,p=!(p!=="form"&&p!=="button")||b0(s.type,s.memoizedProps)),p=!p),p&&Ht&&Xo(s),XO(s),f===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,f=0;s;){if(s.nodeType===8)if(p=s.data,p==="/$"){if(f===0){Ht=ha(s.nextSibling);break e}f--}else p!=="$"&&p!=="$!"&&p!=="$?"||f++;s=s.nextSibling}Ht=null}}else f===27?(f=Ht,oo(s.type)?(s=S0,S0=null,Ht=s):Ht=f):Ht=er?ha(s.stateNode.nextSibling):null;return!0}function sl(){Ht=er=null,vt=!1}function YO(){var s=Ko;return s!==null&&(dr===null?dr=s:dr.push.apply(dr,s),Ko=null),s}function cl(s){Ko===null?Ko=[s]:Ko.push(s)}var ay=K(null),Yo=null,ui=null;function Hi(s,f,p){ne(ay,f._currentValue),f._currentValue=p}function si(s){s._currentValue=ay.current,J(ay)}function iy(s,f,p){for(;s!==null;){var g=s.alternate;if((s.childLanes&f)!==f?(s.childLanes|=f,g!==null&&(g.childLanes|=f)):g!==null&&(g.childLanes&f)!==f&&(g.childLanes|=f),s===p)break;s=s.return}}function oy(s,f,p,g){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var T=_.dependencies;if(T!==null){var P=_.child;T=T.firstContext;e:for(;T!==null;){var L=T;T=_;for(var G=0;G<f.length;G++)if(L.context===f[G]){T.lanes|=p,L=T.alternate,L!==null&&(L.lanes|=p),iy(T.return,p,s),g||(P=null);break e}T=L.next}}else if(_.tag===18){if(P=_.return,P===null)throw Error(r(341));P.lanes|=p,T=P.alternate,T!==null&&(T.lanes|=p),iy(P,p,s),P=null}else P=_.child;if(P!==null)P.return=_;else for(P=_;P!==null;){if(P===s){P=null;break}if(_=P.sibling,_!==null){_.return=P.return,P=_;break}P=P.return}_=P}}function ll(s,f,p,g){s=null;for(var _=f,T=!1;_!==null;){if(!T){if((_.flags&524288)!==0)T=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var P=_.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var L=_.type;_r(_.pendingProps.value,P.value)||(s!==null?s.push(L):s=[L])}}else if(_===Fe.current){if(P=_.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(Fl):s=[Fl])}_=_.return}s!==null&&oy(f,s,p,g),f.flags|=262144}function nd(s){for(s=s.firstContext;s!==null;){if(!_r(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Qo(s){Yo=s,ui=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function $n(s){return QO(Yo,s)}function rd(s,f){return Yo===null&&Qo(s),QO(s,f)}function QO(s,f){var p=f._currentValue;if(f={context:f,memoizedValue:p,next:null},ui===null){if(s===null)throw Error(r(308));ui=f,s.dependencies={lanes:0,firstContext:f},s.flags|=524288}else ui=ui.next=f;return p}var e5=typeof AbortController<"u"?AbortController:function(){var s=[],f=this.signal={aborted:!1,addEventListener:function(p,g){s.push(g)}};this.abort=function(){f.aborted=!0,s.forEach(function(p){return p()})}},t5=t.unstable_scheduleCallback,n5=t.unstable_NormalPriority,ln={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uy(){return{controller:new e5,data:new Map,refCount:0}}function fl(s){s.refCount--,s.refCount===0&&t5(n5,function(){s.controller.abort()})}var hl=null,sy=0,ss=0,cs=null;function r5(s,f){if(hl===null){var p=hl=[];sy=0,ss=l0(),cs={status:"pending",value:void 0,then:function(g){p.push(g)}}}return sy++,f.then(ZO,ZO),f}function ZO(){if(--sy===0&&hl!==null){cs!==null&&(cs.status="fulfilled");var s=hl;hl=null,ss=0,cs=null;for(var f=0;f<s.length;f++)(0,s[f])()}}function a5(s,f){var p=[],g={status:"pending",value:null,reason:null,then:function(_){p.push(_)}};return s.then(function(){g.status="fulfilled",g.value=f;for(var _=0;_<p.length;_++)(0,p[_])(f)},function(_){for(g.status="rejected",g.reason=_,_=0;_<p.length;_++)(0,p[_])(void 0)}),g}var JO=j.S;j.S=function(s,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&r5(s,f),JO!==null&&JO(s,f)};var Zo=K(null);function cy(){var s=Zo.current;return s!==null?s:Dt.pooledCache}function ad(s,f){f===null?ne(Zo,Zo.current):ne(Zo,f.pool)}function eT(){var s=cy();return s===null?null:{parent:ln._currentValue,pool:s}}var dl=Error(r(460)),tT=Error(r(474)),id=Error(r(542)),ly={then:function(){}};function nT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function od(){}function rT(s,f,p){switch(p=s[p],p===void 0?s.push(f):p!==f&&(f.then(od,od),f=p),f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,iT(s),s;default:if(typeof f.status=="string")f.then(od,od);else{if(s=Dt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=f,s.status="pending",s.then(function(g){if(f.status==="pending"){var _=f;_.status="fulfilled",_.value=g}},function(g){if(f.status==="pending"){var _=f;_.status="rejected",_.reason=g}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,iT(s),s}throw pl=f,dl}}var pl=null;function aT(){if(pl===null)throw Error(r(459));var s=pl;return pl=null,s}function iT(s){if(s===dl||s===id)throw Error(r(483))}var Vi=!1;function fy(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hy(s,f){s=s.updateQueue,f.updateQueue===s&&(f.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Gi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ki(s,f,p){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(wt&2)!==0){var _=g.pending;return _===null?f.next=f:(f.next=_.next,_.next=f),g.pending=f,f=Zh(s),HO(s,null,p),f}return Qh(s,g,f,p),Zh(s)}function vl(s,f,p){if(f=f.updateQueue,f!==null&&(f=f.shared,(p&4194048)!==0)){var g=f.lanes;g&=s.pendingLanes,p|=g,f.lanes=p,ZA(s,p)}}function dy(s,f){var p=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var _=null,T=null;if(p=p.firstBaseUpdate,p!==null){do{var P={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};T===null?_=T=P:T=T.next=P,p=p.next}while(p!==null);T===null?_=T=f:T=T.next=f}else _=T=f;p={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:g.shared,callbacks:g.callbacks},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=f:s.next=f,p.lastBaseUpdate=f}var py=!1;function ml(){if(py){var s=cs;if(s!==null)throw s}}function gl(s,f,p,g){py=!1;var _=s.updateQueue;Vi=!1;var T=_.firstBaseUpdate,P=_.lastBaseUpdate,L=_.shared.pending;if(L!==null){_.shared.pending=null;var G=L,ae=G.next;G.next=null,P===null?T=ae:P.next=ae,P=G;var pe=s.alternate;pe!==null&&(pe=pe.updateQueue,L=pe.lastBaseUpdate,L!==P&&(L===null?pe.firstBaseUpdate=ae:L.next=ae,pe.lastBaseUpdate=G))}if(T!==null){var ye=_.baseState;P=0,pe=ae=G=null,L=T;do{var ie=L.lane&-536870913,oe=ie!==L.lane;if(oe?(ft&ie)===ie:(g&ie)===ie){ie!==0&&ie===ss&&(py=!0),pe!==null&&(pe=pe.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var $e=s,Ue=L;ie=f;var Ot=p;switch(Ue.tag){case 1:if($e=Ue.payload,typeof $e=="function"){ye=$e.call(Ot,ye,ie);break e}ye=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Ue.payload,ie=typeof $e=="function"?$e.call(Ot,ye,ie):$e,ie==null)break e;ye=h({},ye,ie);break e;case 2:Vi=!0}}ie=L.callback,ie!==null&&(s.flags|=64,oe&&(s.flags|=8192),oe=_.callbacks,oe===null?_.callbacks=[ie]:oe.push(ie))}else oe={lane:ie,tag:L.tag,payload:L.payload,callback:L.callback,next:null},pe===null?(ae=pe=oe,G=ye):pe=pe.next=oe,P|=ie;if(L=L.next,L===null){if(L=_.shared.pending,L===null)break;oe=L,L=oe.next,oe.next=null,_.lastBaseUpdate=oe,_.shared.pending=null}}while(!0);pe===null&&(G=ye),_.baseState=G,_.firstBaseUpdate=ae,_.lastBaseUpdate=pe,T===null&&(_.shared.lanes=0),no|=P,s.lanes=P,s.memoizedState=ye}}function oT(s,f){if(typeof s!="function")throw Error(r(191,s));s.call(f)}function uT(s,f){var p=s.callbacks;if(p!==null)for(s.callbacks=null,s=0;s<p.length;s++)oT(p[s],f)}var ls=K(null),ud=K(0);function sT(s,f){s=vi,ne(ud,s),ne(ls,f),vi=s|f.baseLanes}function vy(){ne(ud,vi),ne(ls,ls.current)}function my(){vi=ud.current,J(ls),J(ud)}var Xi=0,nt=null,Et=null,nn=null,sd=!1,fs=!1,Jo=!1,cd=0,yl=0,hs=null,i5=0;function Yt(){throw Error(r(321))}function gy(s,f){if(f===null)return!1;for(var p=0;p<f.length&&p<s.length;p++)if(!_r(s[p],f[p]))return!1;return!0}function yy(s,f,p,g,_,T){return Xi=T,nt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,j.H=s===null||s.memoizedState===null?HT:VT,Jo=!1,T=p(g,_),Jo=!1,fs&&(T=lT(f,p,g,_)),cT(s),T}function cT(s){j.H=vd;var f=Et!==null&&Et.next!==null;if(Xi=0,nn=Et=nt=null,sd=!1,yl=0,hs=null,f)throw Error(r(300));s===null||Sn||(s=s.dependencies,s!==null&&nd(s)&&(Sn=!0))}function lT(s,f,p,g){nt=s;var _=0;do{if(fs&&(hs=null),yl=0,fs=!1,25<=_)throw Error(r(301));if(_+=1,nn=Et=null,s.updateQueue!=null){var T=s.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}j.H=h5,T=f(p,g)}while(fs);return T}function o5(){var s=j.H,f=s.useState()[0];return f=typeof f.then=="function"?bl(f):f,s=s.useState()[0],(Et!==null?Et.memoizedState:null)!==s&&(nt.flags|=1024),f}function by(){var s=cd!==0;return cd=0,s}function xy(s,f,p){f.updateQueue=s.updateQueue,f.flags&=-2053,s.lanes&=~p}function wy(s){if(sd){for(s=s.memoizedState;s!==null;){var f=s.queue;f!==null&&(f.pending=null),s=s.next}sd=!1}Xi=0,nn=Et=nt=null,fs=!1,yl=cd=0,hs=null}function fr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?nt.memoizedState=nn=s:nn=nn.next=s,nn}function rn(){if(Et===null){var s=nt.alternate;s=s!==null?s.memoizedState:null}else s=Et.next;var f=nn===null?nt.memoizedState:nn.next;if(f!==null)nn=f,Et=s;else{if(s===null)throw nt.alternate===null?Error(r(467)):Error(r(310));Et=s,s={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},nn===null?nt.memoizedState=nn=s:nn=nn.next=s}return nn}function _y(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(s){var f=yl;return yl+=1,hs===null&&(hs=[]),s=rT(hs,s,f),f=nt,(nn===null?f.memoizedState:nn.next)===null&&(f=f.alternate,j.H=f===null||f.memoizedState===null?HT:VT),s}function ld(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return bl(s);if(s.$$typeof===A)return $n(s)}throw Error(r(438,String(s)))}function Sy(s){var f=null,p=nt.updateQueue;if(p!==null&&(f=p.memoCache),f==null){var g=nt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(f={data:g.data.map(function(_){return _.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),p===null&&(p=_y(),nt.updateQueue=p),p.memoCache=f,p=f.data[f.index],p===void 0)for(p=f.data[f.index]=Array(s),g=0;g<s;g++)p[g]=N;return f.index++,p}function ci(s,f){return typeof f=="function"?f(s):f}function fd(s){var f=rn();return Ey(f,Et,s)}function Ey(s,f,p){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=p;var _=s.baseQueue,T=g.pending;if(T!==null){if(_!==null){var P=_.next;_.next=T.next,T.next=P}f.baseQueue=_=T,g.pending=null}if(T=s.baseState,_===null)s.memoizedState=T;else{f=_.next;var L=P=null,G=null,ae=f,pe=!1;do{var ye=ae.lane&-536870913;if(ye!==ae.lane?(ft&ye)===ye:(Xi&ye)===ye){var ie=ae.revertLane;if(ie===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ye===ss&&(pe=!0);else if((Xi&ie)===ie){ae=ae.next,ie===ss&&(pe=!0);continue}else ye={lane:0,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?(L=G=ye,P=T):G=G.next=ye,nt.lanes|=ie,no|=ie;ye=ae.action,Jo&&p(T,ye),T=ae.hasEagerState?ae.eagerState:p(T,ye)}else ie={lane:ye,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?(L=G=ie,P=T):G=G.next=ie,nt.lanes|=ye,no|=ye;ae=ae.next}while(ae!==null&&ae!==f);if(G===null?P=T:G.next=L,!_r(T,s.memoizedState)&&(Sn=!0,pe&&(p=cs,p!==null)))throw p;s.memoizedState=T,s.baseState=P,s.baseQueue=G,g.lastRenderedState=T}return _===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Ay(s){var f=rn(),p=f.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var g=p.dispatch,_=p.pending,T=f.memoizedState;if(_!==null){p.pending=null;var P=_=_.next;do T=s(T,P.action),P=P.next;while(P!==_);_r(T,f.memoizedState)||(Sn=!0),f.memoizedState=T,f.baseQueue===null&&(f.baseState=T),p.lastRenderedState=T}return[T,g]}function fT(s,f,p){var g=nt,_=rn(),T=vt;if(T){if(p===void 0)throw Error(r(407));p=p()}else p=f();var P=!_r((Et||_).memoizedState,p);P&&(_.memoizedState=p,Sn=!0),_=_.queue;var L=pT.bind(null,g,_,s);if(xl(2048,8,L,[s]),_.getSnapshot!==f||P||nn!==null&&nn.memoizedState.tag&1){if(g.flags|=2048,ds(9,hd(),dT.bind(null,g,_,p,f),null),Dt===null)throw Error(r(349));T||(Xi&124)!==0||hT(g,f,p)}return p}function hT(s,f,p){s.flags|=16384,s={getSnapshot:f,value:p},f=nt.updateQueue,f===null?(f=_y(),nt.updateQueue=f,f.stores=[s]):(p=f.stores,p===null?f.stores=[s]:p.push(s))}function dT(s,f,p,g){f.value=p,f.getSnapshot=g,vT(f)&&mT(s)}function pT(s,f,p){return p(function(){vT(f)&&mT(s)})}function vT(s){var f=s.getSnapshot;s=s.value;try{var p=f();return!_r(s,p)}catch{return!0}}function mT(s){var f=as(s,2);f!==null&&Cr(f,s,2)}function Oy(s){var f=fr();if(typeof s=="function"){var p=s;if(s=p(),Jo){cn(!0);try{p()}finally{cn(!1)}}}return f.memoizedState=f.baseState=s,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:s},f}function gT(s,f,p,g){return s.baseState=p,Ey(s,Et,typeof g=="function"?g:ci)}function u5(s,f,p,g,_){if(pd(s))throw Error(r(485));if(s=f.action,s!==null){var T={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){T.listeners.push(P)}};j.T!==null?p(!0):T.isTransition=!1,g(T),p=f.pending,p===null?(T.next=f.pending=T,yT(f,T)):(T.next=p.next,f.pending=p.next=T)}}function yT(s,f){var p=f.action,g=f.payload,_=s.state;if(f.isTransition){var T=j.T,P={};j.T=P;try{var L=p(_,g),G=j.S;G!==null&&G(P,L),bT(s,f,L)}catch(ae){Ty(s,f,ae)}finally{j.T=T}}else try{T=p(_,g),bT(s,f,T)}catch(ae){Ty(s,f,ae)}}function bT(s,f,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(g){xT(s,f,g)},function(g){return Ty(s,f,g)}):xT(s,f,p)}function xT(s,f,p){f.status="fulfilled",f.value=p,wT(f),s.state=p,f=s.pending,f!==null&&(p=f.next,p===f?s.pending=null:(p=p.next,f.next=p,yT(s,p)))}function Ty(s,f,p){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do f.status="rejected",f.reason=p,wT(f),f=f.next;while(f!==g)}s.action=null}function wT(s){s=s.listeners;for(var f=0;f<s.length;f++)(0,s[f])()}function _T(s,f){return f}function ST(s,f){if(vt){var p=Dt.formState;if(p!==null){e:{var g=nt;if(vt){if(Ht){t:{for(var _=Ht,T=Ta;_.nodeType!==8;){if(!T){_=null;break t}if(_=ha(_.nextSibling),_===null){_=null;break t}}T=_.data,_=T==="F!"||T==="F"?_:null}if(_){Ht=ha(_.nextSibling),g=_.data==="F!";break e}}Xo(g)}g=!1}g&&(f=p[0])}}return p=fr(),p.memoizedState=p.baseState=f,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_T,lastRenderedState:f},p.queue=g,p=zT.bind(null,nt,g),g.dispatch=p,g=Oy(!1),T=Py.bind(null,nt,!1,g.queue),g=fr(),_={state:f,dispatch:null,action:s,pending:null},g.queue=_,p=u5.bind(null,nt,_,T,p),_.dispatch=p,g.memoizedState=s,[f,p,!1]}function ET(s){var f=rn();return AT(f,Et,s)}function AT(s,f,p){if(f=Ey(s,f,_T)[0],s=fd(ci)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var g=bl(f)}catch(P){throw P===dl?id:P}else g=f;f=rn();var _=f.queue,T=_.dispatch;return p!==f.memoizedState&&(nt.flags|=2048,ds(9,hd(),s5.bind(null,_,p),null)),[g,T,s]}function s5(s,f){s.action=f}function OT(s){var f=rn(),p=Et;if(p!==null)return AT(f,p,s);rn(),f=f.memoizedState,p=rn();var g=p.queue.dispatch;return p.memoizedState=s,[f,g,!1]}function ds(s,f,p,g){return s={tag:s,create:p,deps:g,inst:f,next:null},f=nt.updateQueue,f===null&&(f=_y(),nt.updateQueue=f),p=f.lastEffect,p===null?f.lastEffect=s.next=s:(g=p.next,p.next=s,s.next=g,f.lastEffect=s),s}function hd(){return{destroy:void 0,resource:void 0}}function TT(){return rn().memoizedState}function dd(s,f,p,g){var _=fr();g=g===void 0?null:g,nt.flags|=s,_.memoizedState=ds(1|f,hd(),p,g)}function xl(s,f,p,g){var _=rn();g=g===void 0?null:g;var T=_.memoizedState.inst;Et!==null&&g!==null&&gy(g,Et.memoizedState.deps)?_.memoizedState=ds(f,T,p,g):(nt.flags|=s,_.memoizedState=ds(1|f,T,p,g))}function CT(s,f){dd(8390656,8,s,f)}function RT(s,f){xl(2048,8,s,f)}function DT(s,f){return xl(4,2,s,f)}function MT(s,f){return xl(4,4,s,f)}function PT(s,f){if(typeof f=="function"){s=s();var p=f(s);return function(){typeof p=="function"?p():f(null)}}if(f!=null)return s=s(),f.current=s,function(){f.current=null}}function NT(s,f,p){p=p!=null?p.concat([s]):null,xl(4,4,PT.bind(null,f,s),p)}function Cy(){}function kT(s,f){var p=rn();f=f===void 0?null:f;var g=p.memoizedState;return f!==null&&gy(f,g[1])?g[0]:(p.memoizedState=[s,f],s)}function IT(s,f){var p=rn();f=f===void 0?null:f;var g=p.memoizedState;if(f!==null&&gy(f,g[1]))return g[0];if(g=s(),Jo){cn(!0);try{s()}finally{cn(!1)}}return p.memoizedState=[g,f],g}function Ry(s,f,p){return p===void 0||(Xi&1073741824)!==0?s.memoizedState=f:(s.memoizedState=p,s=jC(),nt.lanes|=s,no|=s,p)}function BT(s,f,p,g){return _r(p,f)?p:ls.current!==null?(s=Ry(s,p,g),_r(s,f)||(Sn=!0),s):(Xi&42)===0?(Sn=!0,s.memoizedState=p):(s=jC(),nt.lanes|=s,no|=s,f)}function LT(s,f,p,g,_){var T=U.p;U.p=T!==0&&8>T?T:8;var P=j.T,L={};j.T=L,Py(s,!1,f,p);try{var G=_(),ae=j.S;if(ae!==null&&ae(L,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var pe=a5(G,g);wl(s,f,pe,Tr(s))}else wl(s,f,g,Tr(s))}catch(ye){wl(s,f,{then:function(){},status:"rejected",reason:ye},Tr())}finally{U.p=T,j.T=P}}function c5(){}function Dy(s,f,p,g){if(s.tag!==5)throw Error(r(476));var _=jT(s).queue;LT(s,_,f,H,p===null?c5:function(){return FT(s),p(g)})}function jT(s){var f=s.memoizedState;if(f!==null)return f;f={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:H},next:null};var p={};return f.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:p},next:null},s.memoizedState=f,s=s.alternate,s!==null&&(s.memoizedState=f),f}function FT(s){var f=jT(s).next.queue;wl(s,f,{},Tr())}function My(){return $n(Fl)}function UT(){return rn().memoizedState}function qT(){return rn().memoizedState}function l5(s){for(var f=s.return;f!==null;){switch(f.tag){case 24:case 3:var p=Tr();s=Gi(p);var g=Ki(f,s,p);g!==null&&(Cr(g,f,p),vl(g,f,p)),f={cache:uy()},s.payload=f;return}f=f.return}}function f5(s,f,p){var g=Tr();p={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},pd(s)?$T(f,p):(p=Qg(s,f,p,g),p!==null&&(Cr(p,s,g),WT(p,f,g)))}function zT(s,f,p){var g=Tr();wl(s,f,p,g)}function wl(s,f,p,g){var _={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(pd(s))$T(f,_);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=f.lastRenderedReducer,T!==null))try{var P=f.lastRenderedState,L=T(P,p);if(_.hasEagerState=!0,_.eagerState=L,_r(L,P))return Qh(s,f,_,0),Dt===null&&Yh(),!1}catch{}finally{}if(p=Qg(s,f,_,g),p!==null)return Cr(p,s,g),WT(p,f,g),!0}return!1}function Py(s,f,p,g){if(g={lane:2,revertLane:l0(),action:g,hasEagerState:!1,eagerState:null,next:null},pd(s)){if(f)throw Error(r(479))}else f=Qg(s,p,g,2),f!==null&&Cr(f,s,2)}function pd(s){var f=s.alternate;return s===nt||f!==null&&f===nt}function $T(s,f){fs=sd=!0;var p=s.pending;p===null?f.next=f:(f.next=p.next,p.next=f),s.pending=f}function WT(s,f,p){if((p&4194048)!==0){var g=f.lanes;g&=s.pendingLanes,p|=g,f.lanes=p,ZA(s,p)}}var vd={readContext:$n,use:ld,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},HT={readContext:$n,use:ld,useCallback:function(s,f){return fr().memoizedState=[s,f===void 0?null:f],s},useContext:$n,useEffect:CT,useImperativeHandle:function(s,f,p){p=p!=null?p.concat([s]):null,dd(4194308,4,PT.bind(null,f,s),p)},useLayoutEffect:function(s,f){return dd(4194308,4,s,f)},useInsertionEffect:function(s,f){dd(4,2,s,f)},useMemo:function(s,f){var p=fr();f=f===void 0?null:f;var g=s();if(Jo){cn(!0);try{s()}finally{cn(!1)}}return p.memoizedState=[g,f],g},useReducer:function(s,f,p){var g=fr();if(p!==void 0){var _=p(f);if(Jo){cn(!0);try{p(f)}finally{cn(!1)}}}else _=f;return g.memoizedState=g.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},g.queue=s,s=s.dispatch=f5.bind(null,nt,s),[g.memoizedState,s]},useRef:function(s){var f=fr();return s={current:s},f.memoizedState=s},useState:function(s){s=Oy(s);var f=s.queue,p=zT.bind(null,nt,f);return f.dispatch=p,[s.memoizedState,p]},useDebugValue:Cy,useDeferredValue:function(s,f){var p=fr();return Ry(p,s,f)},useTransition:function(){var s=Oy(!1);return s=LT.bind(null,nt,s.queue,!0,!1),fr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,f,p){var g=nt,_=fr();if(vt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=f(),Dt===null)throw Error(r(349));(ft&124)!==0||hT(g,f,p)}_.memoizedState=p;var T={value:p,getSnapshot:f};return _.queue=T,CT(pT.bind(null,g,T,s),[s]),g.flags|=2048,ds(9,hd(),dT.bind(null,g,T,p,f),null),p},useId:function(){var s=fr(),f=Dt.identifierPrefix;if(vt){var p=oi,g=ii;p=(g&~(1<<32-Pn(g)-1)).toString(32)+p,f=""+f+"R"+p,p=cd++,0<p&&(f+="H"+p.toString(32)),f+=""}else p=i5++,f=""+f+"r"+p.toString(32)+"";return s.memoizedState=f},useHostTransitionStatus:My,useFormState:ST,useActionState:ST,useOptimistic:function(s){var f=fr();f.memoizedState=f.baseState=s;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=p,f=Py.bind(null,nt,!0,p),p.dispatch=f,[s,f]},useMemoCache:Sy,useCacheRefresh:function(){return fr().memoizedState=l5.bind(null,nt)}},VT={readContext:$n,use:ld,useCallback:kT,useContext:$n,useEffect:RT,useImperativeHandle:NT,useInsertionEffect:DT,useLayoutEffect:MT,useMemo:IT,useReducer:fd,useRef:TT,useState:function(){return fd(ci)},useDebugValue:Cy,useDeferredValue:function(s,f){var p=rn();return BT(p,Et.memoizedState,s,f)},useTransition:function(){var s=fd(ci)[0],f=rn().memoizedState;return[typeof s=="boolean"?s:bl(s),f]},useSyncExternalStore:fT,useId:UT,useHostTransitionStatus:My,useFormState:ET,useActionState:ET,useOptimistic:function(s,f){var p=rn();return gT(p,Et,s,f)},useMemoCache:Sy,useCacheRefresh:qT},h5={readContext:$n,use:ld,useCallback:kT,useContext:$n,useEffect:RT,useImperativeHandle:NT,useInsertionEffect:DT,useLayoutEffect:MT,useMemo:IT,useReducer:Ay,useRef:TT,useState:function(){return Ay(ci)},useDebugValue:Cy,useDeferredValue:function(s,f){var p=rn();return Et===null?Ry(p,s,f):BT(p,Et.memoizedState,s,f)},useTransition:function(){var s=Ay(ci)[0],f=rn().memoizedState;return[typeof s=="boolean"?s:bl(s),f]},useSyncExternalStore:fT,useId:UT,useHostTransitionStatus:My,useFormState:OT,useActionState:OT,useOptimistic:function(s,f){var p=rn();return Et!==null?gT(p,Et,s,f):(p.baseState=s,[s,p.queue.dispatch])},useMemoCache:Sy,useCacheRefresh:qT},ps=null,_l=0;function md(s){var f=_l;return _l+=1,ps===null&&(ps=[]),rT(ps,s,f)}function Sl(s,f){f=f.props.ref,s.ref=f!==void 0?f:null}function gd(s,f){throw f.$$typeof===d?Error(r(525)):(s=Object.prototype.toString.call(f),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":s)))}function GT(s){var f=s._init;return f(s._payload)}function KT(s){function f(te,Z){if(s){var re=te.deletions;re===null?(te.deletions=[Z],te.flags|=16):re.push(Z)}}function p(te,Z){if(!s)return null;for(;Z!==null;)f(te,Z),Z=Z.sibling;return null}function g(te){for(var Z=new Map;te!==null;)te.key!==null?Z.set(te.key,te):Z.set(te.index,te),te=te.sibling;return Z}function _(te,Z){return te=ai(te,Z),te.index=0,te.sibling=null,te}function T(te,Z,re){return te.index=re,s?(re=te.alternate,re!==null?(re=re.index,re<Z?(te.flags|=67108866,Z):re):(te.flags|=67108866,Z)):(te.flags|=1048576,Z)}function P(te){return s&&te.alternate===null&&(te.flags|=67108866),te}function L(te,Z,re,me){return Z===null||Z.tag!==6?(Z=Jg(re,te.mode,me),Z.return=te,Z):(Z=_(Z,re),Z.return=te,Z)}function G(te,Z,re,me){var Re=re.type;return Re===y?pe(te,Z,re.props.children,me,re.key):Z!==null&&(Z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===D&&GT(Re)===Z.type)?(Z=_(Z,re.props),Sl(Z,re),Z.return=te,Z):(Z=Jh(re.type,re.key,re.props,null,te.mode,me),Sl(Z,re),Z.return=te,Z)}function ae(te,Z,re,me){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==re.containerInfo||Z.stateNode.implementation!==re.implementation?(Z=ey(re,te.mode,me),Z.return=te,Z):(Z=_(Z,re.children||[]),Z.return=te,Z)}function pe(te,Z,re,me,Re){return Z===null||Z.tag!==7?(Z=Ho(re,te.mode,me,Re),Z.return=te,Z):(Z=_(Z,re),Z.return=te,Z)}function ye(te,Z,re){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Jg(""+Z,te.mode,re),Z.return=te,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return re=Jh(Z.type,Z.key,Z.props,null,te.mode,re),Sl(re,Z),re.return=te,re;case m:return Z=ey(Z,te.mode,re),Z.return=te,Z;case D:var me=Z._init;return Z=me(Z._payload),ye(te,Z,re)}if($(Z)||I(Z))return Z=Ho(Z,te.mode,re,null),Z.return=te,Z;if(typeof Z.then=="function")return ye(te,md(Z),re);if(Z.$$typeof===A)return ye(te,rd(te,Z),re);gd(te,Z)}return null}function ie(te,Z,re,me){var Re=Z!==null?Z.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Re!==null?null:L(te,Z,""+re,me);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case v:return re.key===Re?G(te,Z,re,me):null;case m:return re.key===Re?ae(te,Z,re,me):null;case D:return Re=re._init,re=Re(re._payload),ie(te,Z,re,me)}if($(re)||I(re))return Re!==null?null:pe(te,Z,re,me,null);if(typeof re.then=="function")return ie(te,Z,md(re),me);if(re.$$typeof===A)return ie(te,Z,rd(te,re),me);gd(te,re)}return null}function oe(te,Z,re,me,Re){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return te=te.get(re)||null,L(Z,te,""+me,Re);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case v:return te=te.get(me.key===null?re:me.key)||null,G(Z,te,me,Re);case m:return te=te.get(me.key===null?re:me.key)||null,ae(Z,te,me,Re);case D:var rt=me._init;return me=rt(me._payload),oe(te,Z,re,me,Re)}if($(me)||I(me))return te=te.get(re)||null,pe(Z,te,me,Re,null);if(typeof me.then=="function")return oe(te,Z,re,md(me),Re);if(me.$$typeof===A)return oe(te,Z,re,rd(Z,me),Re);gd(Z,me)}return null}function $e(te,Z,re,me){for(var Re=null,rt=null,je=Z,qe=Z=0,An=null;je!==null&&qe<re.length;qe++){je.index>qe?(An=je,je=null):An=je.sibling;var dt=ie(te,je,re[qe],me);if(dt===null){je===null&&(je=An);break}s&&je&&dt.alternate===null&&f(te,je),Z=T(dt,Z,qe),rt===null?Re=dt:rt.sibling=dt,rt=dt,je=An}if(qe===re.length)return p(te,je),vt&&Go(te,qe),Re;if(je===null){for(;qe<re.length;qe++)je=ye(te,re[qe],me),je!==null&&(Z=T(je,Z,qe),rt===null?Re=je:rt.sibling=je,rt=je);return vt&&Go(te,qe),Re}for(je=g(je);qe<re.length;qe++)An=oe(je,te,qe,re[qe],me),An!==null&&(s&&An.alternate!==null&&je.delete(An.key===null?qe:An.key),Z=T(An,Z,qe),rt===null?Re=An:rt.sibling=An,rt=An);return s&&je.forEach(function(fo){return f(te,fo)}),vt&&Go(te,qe),Re}function Ue(te,Z,re,me){if(re==null)throw Error(r(151));for(var Re=null,rt=null,je=Z,qe=Z=0,An=null,dt=re.next();je!==null&&!dt.done;qe++,dt=re.next()){je.index>qe?(An=je,je=null):An=je.sibling;var fo=ie(te,je,dt.value,me);if(fo===null){je===null&&(je=An);break}s&&je&&fo.alternate===null&&f(te,je),Z=T(fo,Z,qe),rt===null?Re=fo:rt.sibling=fo,rt=fo,je=An}if(dt.done)return p(te,je),vt&&Go(te,qe),Re;if(je===null){for(;!dt.done;qe++,dt=re.next())dt=ye(te,dt.value,me),dt!==null&&(Z=T(dt,Z,qe),rt===null?Re=dt:rt.sibling=dt,rt=dt);return vt&&Go(te,qe),Re}for(je=g(je);!dt.done;qe++,dt=re.next())dt=oe(je,te,qe,dt.value,me),dt!==null&&(s&&dt.alternate!==null&&je.delete(dt.key===null?qe:dt.key),Z=T(dt,Z,qe),rt===null?Re=dt:rt.sibling=dt,rt=dt);return s&&je.forEach(function(d$){return f(te,d$)}),vt&&Go(te,qe),Re}function Ot(te,Z,re,me){if(typeof re=="object"&&re!==null&&re.type===y&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case v:e:{for(var Re=re.key;Z!==null;){if(Z.key===Re){if(Re=re.type,Re===y){if(Z.tag===7){p(te,Z.sibling),me=_(Z,re.props.children),me.return=te,te=me;break e}}else if(Z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===D&&GT(Re)===Z.type){p(te,Z.sibling),me=_(Z,re.props),Sl(me,re),me.return=te,te=me;break e}p(te,Z);break}else f(te,Z);Z=Z.sibling}re.type===y?(me=Ho(re.props.children,te.mode,me,re.key),me.return=te,te=me):(me=Jh(re.type,re.key,re.props,null,te.mode,me),Sl(me,re),me.return=te,te=me)}return P(te);case m:e:{for(Re=re.key;Z!==null;){if(Z.key===Re)if(Z.tag===4&&Z.stateNode.containerInfo===re.containerInfo&&Z.stateNode.implementation===re.implementation){p(te,Z.sibling),me=_(Z,re.children||[]),me.return=te,te=me;break e}else{p(te,Z);break}else f(te,Z);Z=Z.sibling}me=ey(re,te.mode,me),me.return=te,te=me}return P(te);case D:return Re=re._init,re=Re(re._payload),Ot(te,Z,re,me)}if($(re))return $e(te,Z,re,me);if(I(re)){if(Re=I(re),typeof Re!="function")throw Error(r(150));return re=Re.call(re),Ue(te,Z,re,me)}if(typeof re.then=="function")return Ot(te,Z,md(re),me);if(re.$$typeof===A)return Ot(te,Z,rd(te,re),me);gd(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,Z!==null&&Z.tag===6?(p(te,Z.sibling),me=_(Z,re),me.return=te,te=me):(p(te,Z),me=Jg(re,te.mode,me),me.return=te,te=me),P(te)):p(te,Z)}return function(te,Z,re,me){try{_l=0;var Re=Ot(te,Z,re,me);return ps=null,Re}catch(je){if(je===dl||je===id)throw je;var rt=Sr(29,je,null,te.mode);return rt.lanes=me,rt.return=te,rt}finally{}}}var vs=KT(!0),XT=KT(!1),Vr=K(null),Ca=null;function Yi(s){var f=s.alternate;ne(fn,fn.current&1),ne(Vr,s),Ca===null&&(f===null||ls.current!==null||f.memoizedState!==null)&&(Ca=s)}function YT(s){if(s.tag===22){if(ne(fn,fn.current),ne(Vr,s),Ca===null){var f=s.alternate;f!==null&&f.memoizedState!==null&&(Ca=s)}}else Qi()}function Qi(){ne(fn,fn.current),ne(Vr,Vr.current)}function li(s){J(Vr),Ca===s&&(Ca=null),J(fn)}var fn=K(0);function yd(s){for(var f=s;f!==null;){if(f.tag===13){var p=f.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||_0(p)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Ny(s,f,p,g){f=s.memoizedState,p=p(g,f),p=p==null?f:h({},f,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var ky={enqueueSetState:function(s,f,p){s=s._reactInternals;var g=Tr(),_=Gi(g);_.payload=f,p!=null&&(_.callback=p),f=Ki(s,_,g),f!==null&&(Cr(f,s,g),vl(f,s,g))},enqueueReplaceState:function(s,f,p){s=s._reactInternals;var g=Tr(),_=Gi(g);_.tag=1,_.payload=f,p!=null&&(_.callback=p),f=Ki(s,_,g),f!==null&&(Cr(f,s,g),vl(f,s,g))},enqueueForceUpdate:function(s,f){s=s._reactInternals;var p=Tr(),g=Gi(p);g.tag=2,f!=null&&(g.callback=f),f=Ki(s,g,p),f!==null&&(Cr(f,s,p),vl(f,s,p))}};function QT(s,f,p,g,_,T,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,T,P):f.prototype&&f.prototype.isPureReactComponent?!il(p,g)||!il(_,T):!0}function ZT(s,f,p,g){s=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(p,g),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(p,g),f.state!==s&&ky.enqueueReplaceState(f,f.state,null)}function eu(s,f){var p=f;if("ref"in f){p={};for(var g in f)g!=="ref"&&(p[g]=f[g])}if(s=s.defaultProps){p===f&&(p=h({},p));for(var _ in s)p[_]===void 0&&(p[_]=s[_])}return p}var bd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function JT(s){bd(s)}function eC(s){console.error(s)}function tC(s){bd(s)}function xd(s,f){try{var p=s.onUncaughtError;p(f.value,{componentStack:f.stack})}catch(g){setTimeout(function(){throw g})}}function nC(s,f,p){try{var g=s.onCaughtError;g(p.value,{componentStack:p.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Iy(s,f,p){return p=Gi(p),p.tag=3,p.payload={element:null},p.callback=function(){xd(s,f)},p}function rC(s){return s=Gi(s),s.tag=3,s}function aC(s,f,p,g){var _=p.type.getDerivedStateFromError;if(typeof _=="function"){var T=g.value;s.payload=function(){return _(T)},s.callback=function(){nC(f,p,g)}}var P=p.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(s.callback=function(){nC(f,p,g),typeof _!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var L=g.stack;this.componentDidCatch(g.value,{componentStack:L!==null?L:""})})}function d5(s,f,p,g,_){if(p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(f=p.alternate,f!==null&&ll(f,p,_,!0),p=Vr.current,p!==null){switch(p.tag){case 13:return Ca===null?i0():p.alternate===null&&Vt===0&&(Vt=3),p.flags&=-257,p.flags|=65536,p.lanes=_,g===ly?p.flags|=16384:(f=p.updateQueue,f===null?p.updateQueue=new Set([g]):f.add(g),u0(s,g,_)),!1;case 22:return p.flags|=65536,g===ly?p.flags|=16384:(f=p.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([g])},p.updateQueue=f):(p=f.retryQueue,p===null?f.retryQueue=new Set([g]):p.add(g)),u0(s,g,_)),!1}throw Error(r(435,p.tag))}return u0(s,g,_),i0(),!1}if(vt)return f=Vr.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=_,g!==ry&&(s=Error(r(422),{cause:g}),cl(zr(s,p)))):(g!==ry&&(f=Error(r(423),{cause:g}),cl(zr(f,p))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,g=zr(g,p),_=Iy(s.stateNode,g,_),dy(s,_),Vt!==4&&(Vt=2)),!1;var T=Error(r(520),{cause:g});if(T=zr(T,p),Dl===null?Dl=[T]:Dl.push(T),Vt!==4&&(Vt=2),f===null)return!0;g=zr(g,p),p=f;do{switch(p.tag){case 3:return p.flags|=65536,s=_&-_,p.lanes|=s,s=Iy(p.stateNode,g,s),dy(p,s),!1;case 1:if(f=p.type,T=p.stateNode,(p.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ro===null||!ro.has(T))))return p.flags|=65536,_&=-_,p.lanes|=_,_=rC(_),aC(_,s,p,g),dy(p,_),!1}p=p.return}while(p!==null);return!1}var iC=Error(r(461)),Sn=!1;function Nn(s,f,p,g){f.child=s===null?XT(f,null,p,g):vs(f,s.child,p,g)}function oC(s,f,p,g,_){p=p.render;var T=f.ref;if("ref"in g){var P={};for(var L in g)L!=="ref"&&(P[L]=g[L])}else P=g;return Qo(f),g=yy(s,f,p,P,T,_),L=by(),s!==null&&!Sn?(xy(s,f,_),fi(s,f,_)):(vt&&L&&ty(f),f.flags|=1,Nn(s,f,g,_),f.child)}function uC(s,f,p,g,_){if(s===null){var T=p.type;return typeof T=="function"&&!Zg(T)&&T.defaultProps===void 0&&p.compare===null?(f.tag=15,f.type=T,sC(s,f,T,g,_)):(s=Jh(p.type,null,g,f,f.mode,_),s.ref=f.ref,s.return=f,f.child=s)}if(T=s.child,!$y(s,_)){var P=T.memoizedProps;if(p=p.compare,p=p!==null?p:il,p(P,g)&&s.ref===f.ref)return fi(s,f,_)}return f.flags|=1,s=ai(T,g),s.ref=f.ref,s.return=f,f.child=s}function sC(s,f,p,g,_){if(s!==null){var T=s.memoizedProps;if(il(T,g)&&s.ref===f.ref)if(Sn=!1,f.pendingProps=g=T,$y(s,_))(s.flags&131072)!==0&&(Sn=!0);else return f.lanes=s.lanes,fi(s,f,_)}return By(s,f,p,g,_)}function cC(s,f,p){var g=f.pendingProps,_=g.children,T=s!==null?s.memoizedState:null;if(g.mode==="hidden"){if((f.flags&128)!==0){if(g=T!==null?T.baseLanes|p:p,s!==null){for(_=f.child=s.child,T=0;_!==null;)T=T|_.lanes|_.childLanes,_=_.sibling;f.childLanes=T&~g}else f.childLanes=0,f.child=null;return lC(s,f,g,p)}if((p&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},s!==null&&ad(f,T!==null?T.cachePool:null),T!==null?sT(f,T):vy(),YT(f);else return f.lanes=f.childLanes=536870912,lC(s,f,T!==null?T.baseLanes|p:p,p)}else T!==null?(ad(f,T.cachePool),sT(f,T),Qi(),f.memoizedState=null):(s!==null&&ad(f,null),vy(),Qi());return Nn(s,f,_,p),f.child}function lC(s,f,p,g){var _=cy();return _=_===null?null:{parent:ln._currentValue,pool:_},f.memoizedState={baseLanes:p,cachePool:_},s!==null&&ad(f,null),vy(),YT(f),s!==null&&ll(s,f,g,!0),null}function wd(s,f){var p=f.ref;if(p===null)s!==null&&s.ref!==null&&(f.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(s===null||s.ref!==p)&&(f.flags|=4194816)}}function By(s,f,p,g,_){return Qo(f),p=yy(s,f,p,g,void 0,_),g=by(),s!==null&&!Sn?(xy(s,f,_),fi(s,f,_)):(vt&&g&&ty(f),f.flags|=1,Nn(s,f,p,_),f.child)}function fC(s,f,p,g,_,T){return Qo(f),f.updateQueue=null,p=lT(f,g,p,_),cT(s),g=by(),s!==null&&!Sn?(xy(s,f,T),fi(s,f,T)):(vt&&g&&ty(f),f.flags|=1,Nn(s,f,p,T),f.child)}function hC(s,f,p,g,_){if(Qo(f),f.stateNode===null){var T=is,P=p.contextType;typeof P=="object"&&P!==null&&(T=$n(P)),T=new p(g,T),f.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=ky,f.stateNode=T,T._reactInternals=f,T=f.stateNode,T.props=g,T.state=f.memoizedState,T.refs={},fy(f),P=p.contextType,T.context=typeof P=="object"&&P!==null?$n(P):is,T.state=f.memoizedState,P=p.getDerivedStateFromProps,typeof P=="function"&&(Ny(f,p,P,g),T.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(P=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),P!==T.state&&ky.enqueueReplaceState(T,T.state,null),gl(f,g,T,_),ml(),T.state=f.memoizedState),typeof T.componentDidMount=="function"&&(f.flags|=4194308),g=!0}else if(s===null){T=f.stateNode;var L=f.memoizedProps,G=eu(p,L);T.props=G;var ae=T.context,pe=p.contextType;P=is,typeof pe=="object"&&pe!==null&&(P=$n(pe));var ye=p.getDerivedStateFromProps;pe=typeof ye=="function"||typeof T.getSnapshotBeforeUpdate=="function",L=f.pendingProps!==L,pe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L||ae!==P)&&ZT(f,T,g,P),Vi=!1;var ie=f.memoizedState;T.state=ie,gl(f,g,T,_),ml(),ae=f.memoizedState,L||ie!==ae||Vi?(typeof ye=="function"&&(Ny(f,p,ye,g),ae=f.memoizedState),(G=Vi||QT(f,p,G,g,ie,ae,P))?(pe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(f.flags|=4194308)):(typeof T.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=g,f.memoizedState=ae),T.props=g,T.state=ae,T.context=P,g=G):(typeof T.componentDidMount=="function"&&(f.flags|=4194308),g=!1)}else{T=f.stateNode,hy(s,f),P=f.memoizedProps,pe=eu(p,P),T.props=pe,ye=f.pendingProps,ie=T.context,ae=p.contextType,G=is,typeof ae=="object"&&ae!==null&&(G=$n(ae)),L=p.getDerivedStateFromProps,(ae=typeof L=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==ye||ie!==G)&&ZT(f,T,g,G),Vi=!1,ie=f.memoizedState,T.state=ie,gl(f,g,T,_),ml();var oe=f.memoizedState;P!==ye||ie!==oe||Vi||s!==null&&s.dependencies!==null&&nd(s.dependencies)?(typeof L=="function"&&(Ny(f,p,L,g),oe=f.memoizedState),(pe=Vi||QT(f,p,pe,g,ie,oe,G)||s!==null&&s.dependencies!==null&&nd(s.dependencies))?(ae||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,oe,G),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,oe,G)),typeof T.componentDidUpdate=="function"&&(f.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===s.memoizedProps&&ie===s.memoizedState||(f.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&ie===s.memoizedState||(f.flags|=1024),f.memoizedProps=g,f.memoizedState=oe),T.props=g,T.state=oe,T.context=G,g=pe):(typeof T.componentDidUpdate!="function"||P===s.memoizedProps&&ie===s.memoizedState||(f.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&ie===s.memoizedState||(f.flags|=1024),g=!1)}return T=g,wd(s,f),g=(f.flags&128)!==0,T||g?(T=f.stateNode,p=g&&typeof p.getDerivedStateFromError!="function"?null:T.render(),f.flags|=1,s!==null&&g?(f.child=vs(f,s.child,null,_),f.child=vs(f,null,p,_)):Nn(s,f,p,_),f.memoizedState=T.state,s=f.child):s=fi(s,f,_),s}function dC(s,f,p,g){return sl(),f.flags|=256,Nn(s,f,p,g),f.child}var Ly={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jy(s){return{baseLanes:s,cachePool:eT()}}function Fy(s,f,p){return s=s!==null?s.childLanes&~p:0,f&&(s|=Gr),s}function pC(s,f,p){var g=f.pendingProps,_=!1,T=(f.flags&128)!==0,P;if((P=T)||(P=s!==null&&s.memoizedState===null?!1:(fn.current&2)!==0),P&&(_=!0,f.flags&=-129),P=(f.flags&32)!==0,f.flags&=-33,s===null){if(vt){if(_?Yi(f):Qi(),vt){var L=Ht,G;if(G=L){e:{for(G=L,L=Ta;G.nodeType!==8;){if(!L){L=null;break e}if(G=ha(G.nextSibling),G===null){L=null;break e}}L=G}L!==null?(f.memoizedState={dehydrated:L,treeContext:Vo!==null?{id:ii,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},G=Sr(18,null,null,0),G.stateNode=L,G.return=f,f.child=G,er=f,Ht=null,G=!0):G=!1}G||Xo(f)}if(L=f.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return _0(L)?f.lanes=32:f.lanes=536870912,null;li(f)}return L=g.children,g=g.fallback,_?(Qi(),_=f.mode,L=_d({mode:"hidden",children:L},_),g=Ho(g,_,p,null),L.return=f,g.return=f,L.sibling=g,f.child=L,_=f.child,_.memoizedState=jy(p),_.childLanes=Fy(s,P,p),f.memoizedState=Ly,g):(Yi(f),Uy(f,L))}if(G=s.memoizedState,G!==null&&(L=G.dehydrated,L!==null)){if(T)f.flags&256?(Yi(f),f.flags&=-257,f=qy(s,f,p)):f.memoizedState!==null?(Qi(),f.child=s.child,f.flags|=128,f=null):(Qi(),_=g.fallback,L=f.mode,g=_d({mode:"visible",children:g.children},L),_=Ho(_,L,p,null),_.flags|=2,g.return=f,_.return=f,g.sibling=_,f.child=g,vs(f,s.child,null,p),g=f.child,g.memoizedState=jy(p),g.childLanes=Fy(s,P,p),f.memoizedState=Ly,f=_);else if(Yi(f),_0(L)){if(P=L.nextSibling&&L.nextSibling.dataset,P)var ae=P.dgst;P=ae,g=Error(r(419)),g.stack="",g.digest=P,cl({value:g,source:null,stack:null}),f=qy(s,f,p)}else if(Sn||ll(s,f,p,!1),P=(p&s.childLanes)!==0,Sn||P){if(P=Dt,P!==null&&(g=p&-p,g=(g&42)!==0?1:Sg(g),g=(g&(P.suspendedLanes|p))!==0?0:g,g!==0&&g!==G.retryLane))throw G.retryLane=g,as(s,g),Cr(P,s,g),iC;L.data==="$?"||i0(),f=qy(s,f,p)}else L.data==="$?"?(f.flags|=192,f.child=s.child,f=null):(s=G.treeContext,Ht=ha(L.nextSibling),er=f,vt=!0,Ko=null,Ta=!1,s!==null&&(Wr[Hr++]=ii,Wr[Hr++]=oi,Wr[Hr++]=Vo,ii=s.id,oi=s.overflow,Vo=f),f=Uy(f,g.children),f.flags|=4096);return f}return _?(Qi(),_=g.fallback,L=f.mode,G=s.child,ae=G.sibling,g=ai(G,{mode:"hidden",children:g.children}),g.subtreeFlags=G.subtreeFlags&65011712,ae!==null?_=ai(ae,_):(_=Ho(_,L,p,null),_.flags|=2),_.return=f,g.return=f,g.sibling=_,f.child=g,g=_,_=f.child,L=s.child.memoizedState,L===null?L=jy(p):(G=L.cachePool,G!==null?(ae=ln._currentValue,G=G.parent!==ae?{parent:ae,pool:ae}:G):G=eT(),L={baseLanes:L.baseLanes|p,cachePool:G}),_.memoizedState=L,_.childLanes=Fy(s,P,p),f.memoizedState=Ly,g):(Yi(f),p=s.child,s=p.sibling,p=ai(p,{mode:"visible",children:g.children}),p.return=f,p.sibling=null,s!==null&&(P=f.deletions,P===null?(f.deletions=[s],f.flags|=16):P.push(s)),f.child=p,f.memoizedState=null,p)}function Uy(s,f){return f=_d({mode:"visible",children:f},s.mode),f.return=s,s.child=f}function _d(s,f){return s=Sr(22,s,null,f),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function qy(s,f,p){return vs(f,s.child,null,p),s=Uy(f,f.pendingProps.children),s.flags|=2,f.memoizedState=null,s}function vC(s,f,p){s.lanes|=f;var g=s.alternate;g!==null&&(g.lanes|=f),iy(s.return,f,p)}function zy(s,f,p,g,_){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:_}:(T.isBackwards=f,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=p,T.tailMode=_)}function mC(s,f,p){var g=f.pendingProps,_=g.revealOrder,T=g.tail;if(Nn(s,f,g.children,p),g=fn.current,(g&2)!==0)g=g&1|2,f.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=f.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vC(s,p,f);else if(s.tag===19)vC(s,p,f);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===f)break e;for(;s.sibling===null;){if(s.return===null||s.return===f)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}switch(ne(fn,g),_){case"forwards":for(p=f.child,_=null;p!==null;)s=p.alternate,s!==null&&yd(s)===null&&(_=p),p=p.sibling;p=_,p===null?(_=f.child,f.child=null):(_=p.sibling,p.sibling=null),zy(f,!1,_,p,T);break;case"backwards":for(p=null,_=f.child,f.child=null;_!==null;){if(s=_.alternate,s!==null&&yd(s)===null){f.child=_;break}s=_.sibling,_.sibling=p,p=_,_=s}zy(f,!0,p,null,T);break;case"together":zy(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function fi(s,f,p){if(s!==null&&(f.dependencies=s.dependencies),no|=f.lanes,(p&f.childLanes)===0)if(s!==null){if(ll(s,f,p,!1),(p&f.childLanes)===0)return null}else return null;if(s!==null&&f.child!==s.child)throw Error(r(153));if(f.child!==null){for(s=f.child,p=ai(s,s.pendingProps),f.child=p,p.return=f;s.sibling!==null;)s=s.sibling,p=p.sibling=ai(s,s.pendingProps),p.return=f;p.sibling=null}return f.child}function $y(s,f){return(s.lanes&f)!==0?!0:(s=s.dependencies,!!(s!==null&&nd(s)))}function p5(s,f,p){switch(f.tag){case 3:Ae(f,f.stateNode.containerInfo),Hi(f,ln,s.memoizedState.cache),sl();break;case 27:case 5:Te(f);break;case 4:Ae(f,f.stateNode.containerInfo);break;case 10:Hi(f,f.type,f.memoizedProps.value);break;case 13:var g=f.memoizedState;if(g!==null)return g.dehydrated!==null?(Yi(f),f.flags|=128,null):(p&f.child.childLanes)!==0?pC(s,f,p):(Yi(f),s=fi(s,f,p),s!==null?s.sibling:null);Yi(f);break;case 19:var _=(s.flags&128)!==0;if(g=(p&f.childLanes)!==0,g||(ll(s,f,p,!1),g=(p&f.childLanes)!==0),_){if(g)return mC(s,f,p);f.flags|=128}if(_=f.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ne(fn,fn.current),g)break;return null;case 22:case 23:return f.lanes=0,cC(s,f,p);case 24:Hi(f,ln,s.memoizedState.cache)}return fi(s,f,p)}function gC(s,f,p){if(s!==null)if(s.memoizedProps!==f.pendingProps)Sn=!0;else{if(!$y(s,p)&&(f.flags&128)===0)return Sn=!1,p5(s,f,p);Sn=(s.flags&131072)!==0}else Sn=!1,vt&&(f.flags&1048576)!==0&&GO(f,td,f.index);switch(f.lanes=0,f.tag){case 16:e:{s=f.pendingProps;var g=f.elementType,_=g._init;if(g=_(g._payload),f.type=g,typeof g=="function")Zg(g)?(s=eu(g,s),f.tag=1,f=hC(null,f,g,s,p)):(f.tag=0,f=By(null,f,g,s,p));else{if(g!=null){if(_=g.$$typeof,_===O){f.tag=11,f=oC(null,f,g,s,p);break e}else if(_===R){f.tag=14,f=uC(null,f,g,s,p);break e}}throw f=W(g)||g,Error(r(306,f,""))}}return f;case 0:return By(s,f,f.type,f.pendingProps,p);case 1:return g=f.type,_=eu(g,f.pendingProps),hC(s,f,g,_,p);case 3:e:{if(Ae(f,f.stateNode.containerInfo),s===null)throw Error(r(387));g=f.pendingProps;var T=f.memoizedState;_=T.element,hy(s,f),gl(f,g,null,p);var P=f.memoizedState;if(g=P.cache,Hi(f,ln,g),g!==T.cache&&oy(f,[ln],p,!0),ml(),g=P.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:P.cache},f.updateQueue.baseState=T,f.memoizedState=T,f.flags&256){f=dC(s,f,g,p);break e}else if(g!==_){_=zr(Error(r(424)),f),cl(_),f=dC(s,f,g,p);break e}else{switch(s=f.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ht=ha(s.firstChild),er=f,vt=!0,Ko=null,Ta=!0,p=XT(f,null,g,p),f.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(sl(),g===_){f=fi(s,f,p);break e}Nn(s,f,g,p)}f=f.child}return f;case 26:return wd(s,f),s===null?(p=wR(f.type,null,f.pendingProps,null))?f.memoizedState=p:vt||(p=f.type,s=f.pendingProps,g=Bd(xe.current).createElement(p),g[zn]=f,g[cr]=s,In(g,p,s),_n(g),f.stateNode=g):f.memoizedState=wR(f.type,s.memoizedProps,f.pendingProps,s.memoizedState),null;case 27:return Te(f),s===null&&vt&&(g=f.stateNode=yR(f.type,f.pendingProps,xe.current),er=f,Ta=!0,_=Ht,oo(f.type)?(S0=_,Ht=ha(g.firstChild)):Ht=_),Nn(s,f,f.pendingProps.children,p),wd(s,f),s===null&&(f.flags|=4194304),f.child;case 5:return s===null&&vt&&((_=g=Ht)&&(g=z5(g,f.type,f.pendingProps,Ta),g!==null?(f.stateNode=g,er=f,Ht=ha(g.firstChild),Ta=!1,_=!0):_=!1),_||Xo(f)),Te(f),_=f.type,T=f.pendingProps,P=s!==null?s.memoizedProps:null,g=T.children,b0(_,T)?g=null:P!==null&&b0(_,P)&&(f.flags|=32),f.memoizedState!==null&&(_=yy(s,f,o5,null,null,p),Fl._currentValue=_),wd(s,f),Nn(s,f,g,p),f.child;case 6:return s===null&&vt&&((s=p=Ht)&&(p=$5(p,f.pendingProps,Ta),p!==null?(f.stateNode=p,er=f,Ht=null,s=!0):s=!1),s||Xo(f)),null;case 13:return pC(s,f,p);case 4:return Ae(f,f.stateNode.containerInfo),g=f.pendingProps,s===null?f.child=vs(f,null,g,p):Nn(s,f,g,p),f.child;case 11:return oC(s,f,f.type,f.pendingProps,p);case 7:return Nn(s,f,f.pendingProps,p),f.child;case 8:return Nn(s,f,f.pendingProps.children,p),f.child;case 12:return Nn(s,f,f.pendingProps.children,p),f.child;case 10:return g=f.pendingProps,Hi(f,f.type,g.value),Nn(s,f,g.children,p),f.child;case 9:return _=f.type._context,g=f.pendingProps.children,Qo(f),_=$n(_),g=g(_),f.flags|=1,Nn(s,f,g,p),f.child;case 14:return uC(s,f,f.type,f.pendingProps,p);case 15:return sC(s,f,f.type,f.pendingProps,p);case 19:return mC(s,f,p);case 31:return g=f.pendingProps,p=f.mode,g={mode:g.mode,children:g.children},s===null?(p=_d(g,p),p.ref=f.ref,f.child=p,p.return=f,f=p):(p=ai(s.child,g),p.ref=f.ref,f.child=p,p.return=f,f=p),f;case 22:return cC(s,f,p);case 24:return Qo(f),g=$n(ln),s===null?(_=cy(),_===null&&(_=Dt,T=uy(),_.pooledCache=T,T.refCount++,T!==null&&(_.pooledCacheLanes|=p),_=T),f.memoizedState={parent:g,cache:_},fy(f),Hi(f,ln,_)):((s.lanes&p)!==0&&(hy(s,f),gl(f,null,null,p),ml()),_=s.memoizedState,T=f.memoizedState,_.parent!==g?(_={parent:g,cache:g},f.memoizedState=_,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=_),Hi(f,ln,g)):(g=T.cache,Hi(f,ln,g),g!==_.cache&&oy(f,[ln],p,!0))),Nn(s,f,f.pendingProps.children,p),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function hi(s){s.flags|=4}function yC(s,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!OR(f)){if(f=Vr.current,f!==null&&((ft&4194048)===ft?Ca!==null:(ft&62914560)!==ft&&(ft&536870912)===0||f!==Ca))throw pl=ly,tT;s.flags|=8192}}function Sd(s,f){f!==null&&(s.flags|=4),s.flags&16384&&(f=s.tag!==22?YA():536870912,s.lanes|=f,bs|=f)}function El(s,f){if(!vt)switch(s.tailMode){case"hidden":f=s.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?f||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Ut(s){var f=s.alternate!==null&&s.alternate.child===s.child,p=0,g=0;if(f)for(var _=s.child;_!==null;)p|=_.lanes|_.childLanes,g|=_.subtreeFlags&65011712,g|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)p|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=g,s.childLanes=p,f}function v5(s,f,p){var g=f.pendingProps;switch(ny(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(f),null;case 1:return Ut(f),null;case 3:return p=f.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),si(ln),ge(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(ul(f)?hi(f):s===null||s.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,YO())),Ut(f),null;case 26:return p=f.memoizedState,s===null?(hi(f),p!==null?(Ut(f),yC(f,p)):(Ut(f),f.flags&=-16777217)):p?p!==s.memoizedState?(hi(f),Ut(f),yC(f,p)):(Ut(f),f.flags&=-16777217):(s.memoizedProps!==g&&hi(f),Ut(f),f.flags&=-16777217),null;case 27:Se(f),p=xe.current;var _=f.type;if(s!==null&&f.stateNode!=null)s.memoizedProps!==g&&hi(f);else{if(!g){if(f.stateNode===null)throw Error(r(166));return Ut(f),null}s=ve.current,ul(f)?KO(f):(s=yR(_,g,p),f.stateNode=s,hi(f))}return Ut(f),null;case 5:if(Se(f),p=f.type,s!==null&&f.stateNode!=null)s.memoizedProps!==g&&hi(f);else{if(!g){if(f.stateNode===null)throw Error(r(166));return Ut(f),null}if(s=ve.current,ul(f))KO(f);else{switch(_=Bd(xe.current),s){case 1:s=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:s=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":s=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":s=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof g.is=="string"?_.createElement("select",{is:g.is}):_.createElement("select"),g.multiple?s.multiple=!0:g.size&&(s.size=g.size);break;default:s=typeof g.is=="string"?_.createElement(p,{is:g.is}):_.createElement(p)}}s[zn]=f,s[cr]=g;e:for(_=f.child;_!==null;){if(_.tag===5||_.tag===6)s.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===f)break e;for(;_.sibling===null;){if(_.return===null||_.return===f)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}f.stateNode=s;e:switch(In(s,p,g),p){case"button":case"input":case"select":case"textarea":s=!!g.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&hi(f)}}return Ut(f),f.flags&=-16777217,null;case 6:if(s&&f.stateNode!=null)s.memoizedProps!==g&&hi(f);else{if(typeof g!="string"&&f.stateNode===null)throw Error(r(166));if(s=xe.current,ul(f)){if(s=f.stateNode,p=f.memoizedProps,g=null,_=er,_!==null)switch(_.tag){case 27:case 5:g=_.memoizedProps}s[zn]=f,s=!!(s.nodeValue===p||g!==null&&g.suppressHydrationWarning===!0||fR(s.nodeValue,p)),s||Xo(f)}else s=Bd(s).createTextNode(g),s[zn]=f,f.stateNode=s}return Ut(f),null;case 13:if(g=f.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=ul(f),g!==null&&g.dehydrated!==null){if(s===null){if(!_)throw Error(r(318));if(_=f.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[zn]=f}else sl(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Ut(f),_=!1}else _=YO(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return f.flags&256?(li(f),f):(li(f),null)}if(li(f),(f.flags&128)!==0)return f.lanes=p,f;if(p=g!==null,s=s!==null&&s.memoizedState!==null,p){g=f.child,_=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(_=g.alternate.memoizedState.cachePool.pool);var T=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(T=g.memoizedState.cachePool.pool),T!==_&&(g.flags|=2048)}return p!==s&&p&&(f.child.flags|=8192),Sd(f,f.updateQueue),Ut(f),null;case 4:return ge(),s===null&&p0(f.stateNode.containerInfo),Ut(f),null;case 10:return si(f.type),Ut(f),null;case 19:if(J(fn),_=f.memoizedState,_===null)return Ut(f),null;if(g=(f.flags&128)!==0,T=_.rendering,T===null)if(g)El(_,!1);else{if(Vt!==0||s!==null&&(s.flags&128)!==0)for(s=f.child;s!==null;){if(T=yd(s),T!==null){for(f.flags|=128,El(_,!1),s=T.updateQueue,f.updateQueue=s,Sd(f,s),f.subtreeFlags=0,s=p,p=f.child;p!==null;)VO(p,s),p=p.sibling;return ne(fn,fn.current&1|2),f.child}s=s.sibling}_.tail!==null&&ct()>Od&&(f.flags|=128,g=!0,El(_,!1),f.lanes=4194304)}else{if(!g)if(s=yd(T),s!==null){if(f.flags|=128,g=!0,s=s.updateQueue,f.updateQueue=s,Sd(f,s),El(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!vt)return Ut(f),null}else 2*ct()-_.renderingStartTime>Od&&p!==536870912&&(f.flags|=128,g=!0,El(_,!1),f.lanes=4194304);_.isBackwards?(T.sibling=f.child,f.child=T):(s=_.last,s!==null?s.sibling=T:f.child=T,_.last=T)}return _.tail!==null?(f=_.tail,_.rendering=f,_.tail=f.sibling,_.renderingStartTime=ct(),f.sibling=null,s=fn.current,ne(fn,g?s&1|2:s&1),f):(Ut(f),null);case 22:case 23:return li(f),my(),g=f.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(f.flags|=8192):g&&(f.flags|=8192),g?(p&536870912)!==0&&(f.flags&128)===0&&(Ut(f),f.subtreeFlags&6&&(f.flags|=8192)):Ut(f),p=f.updateQueue,p!==null&&Sd(f,p.retryQueue),p=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),g=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),g!==p&&(f.flags|=2048),s!==null&&J(Zo),null;case 24:return p=null,s!==null&&(p=s.memoizedState.cache),f.memoizedState.cache!==p&&(f.flags|=2048),si(ln),Ut(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function m5(s,f){switch(ny(f),f.tag){case 1:return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 3:return si(ln),ge(),s=f.flags,(s&65536)!==0&&(s&128)===0?(f.flags=s&-65537|128,f):null;case 26:case 27:case 5:return Se(f),null;case 13:if(li(f),s=f.memoizedState,s!==null&&s.dehydrated!==null){if(f.alternate===null)throw Error(r(340));sl()}return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 19:return J(fn),null;case 4:return ge(),null;case 10:return si(f.type),null;case 22:case 23:return li(f),my(),s!==null&&J(Zo),s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 24:return si(ln),null;case 25:return null;default:return null}}function bC(s,f){switch(ny(f),f.tag){case 3:si(ln),ge();break;case 26:case 27:case 5:Se(f);break;case 4:ge();break;case 13:li(f);break;case 19:J(fn);break;case 10:si(f.type);break;case 22:case 23:li(f),my(),s!==null&&J(Zo);break;case 24:si(ln)}}function Al(s,f){try{var p=f.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var _=g.next;p=_;do{if((p.tag&s)===s){g=void 0;var T=p.create,P=p.inst;g=T(),P.destroy=g}p=p.next}while(p!==_)}}catch(L){Ct(f,f.return,L)}}function Zi(s,f,p){try{var g=f.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var T=_.next;g=T;do{if((g.tag&s)===s){var P=g.inst,L=P.destroy;if(L!==void 0){P.destroy=void 0,_=f;var G=p,ae=L;try{ae()}catch(pe){Ct(_,G,pe)}}}g=g.next}while(g!==T)}}catch(pe){Ct(f,f.return,pe)}}function xC(s){var f=s.updateQueue;if(f!==null){var p=s.stateNode;try{uT(f,p)}catch(g){Ct(s,s.return,g)}}}function wC(s,f,p){p.props=eu(s.type,s.memoizedProps),p.state=s.memoizedState;try{p.componentWillUnmount()}catch(g){Ct(s,f,g)}}function Ol(s,f){try{var p=s.ref;if(p!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof p=="function"?s.refCleanup=p(g):p.current=g}}catch(_){Ct(s,f,_)}}function Ra(s,f){var p=s.ref,g=s.refCleanup;if(p!==null)if(typeof g=="function")try{g()}catch(_){Ct(s,f,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(_){Ct(s,f,_)}else p.current=null}function _C(s){var f=s.type,p=s.memoizedProps,g=s.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":p.autoFocus&&g.focus();break e;case"img":p.src?g.src=p.src:p.srcSet&&(g.srcset=p.srcSet)}}catch(_){Ct(s,s.return,_)}}function Wy(s,f,p){try{var g=s.stateNode;L5(g,s.type,p,f),g[cr]=f}catch(_){Ct(s,s.return,_)}}function SC(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&oo(s.type)||s.tag===4}function Hy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||SC(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&oo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vy(s,f,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,f?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(s,f):(f=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,f.appendChild(s),p=p._reactRootContainer,p!=null||f.onclick!==null||(f.onclick=Id));else if(g!==4&&(g===27&&oo(s.type)&&(p=s.stateNode,f=null),s=s.child,s!==null))for(Vy(s,f,p),s=s.sibling;s!==null;)Vy(s,f,p),s=s.sibling}function Ed(s,f,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,f?p.insertBefore(s,f):p.appendChild(s);else if(g!==4&&(g===27&&oo(s.type)&&(p=s.stateNode),s=s.child,s!==null))for(Ed(s,f,p),s=s.sibling;s!==null;)Ed(s,f,p),s=s.sibling}function EC(s){var f=s.stateNode,p=s.memoizedProps;try{for(var g=s.type,_=f.attributes;_.length;)f.removeAttributeNode(_[0]);In(f,g,p),f[zn]=s,f[cr]=p}catch(T){Ct(s,s.return,T)}}var di=!1,Qt=!1,Gy=!1,AC=typeof WeakSet=="function"?WeakSet:Set,En=null;function g5(s,f){if(s=s.containerInfo,g0=zd,s=BO(s),Hg(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var _=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{p.nodeType,T.nodeType}catch{p=null;break e}var P=0,L=-1,G=-1,ae=0,pe=0,ye=s,ie=null;t:for(;;){for(var oe;ye!==p||_!==0&&ye.nodeType!==3||(L=P+_),ye!==T||g!==0&&ye.nodeType!==3||(G=P+g),ye.nodeType===3&&(P+=ye.nodeValue.length),(oe=ye.firstChild)!==null;)ie=ye,ye=oe;for(;;){if(ye===s)break t;if(ie===p&&++ae===_&&(L=P),ie===T&&++pe===g&&(G=P),(oe=ye.nextSibling)!==null)break;ye=ie,ie=ye.parentNode}ye=oe}p=L===-1||G===-1?null:{start:L,end:G}}else p=null}p=p||{start:0,end:0}}else p=null;for(y0={focusedElem:s,selectionRange:p},zd=!1,En=f;En!==null;)if(f=En,s=f.child,(f.subtreeFlags&1024)!==0&&s!==null)s.return=f,En=s;else for(;En!==null;){switch(f=En,T=f.alternate,s=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&T!==null){s=void 0,p=f,_=T.memoizedProps,T=T.memoizedState,g=p.stateNode;try{var $e=eu(p.type,_,p.elementType===p.type);s=g.getSnapshotBeforeUpdate($e,T),g.__reactInternalSnapshotBeforeUpdate=s}catch(Ue){Ct(p,p.return,Ue)}}break;case 3:if((s&1024)!==0){if(s=f.stateNode.containerInfo,p=s.nodeType,p===9)w0(s);else if(p===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":w0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=f.sibling,s!==null){s.return=f.return,En=s;break}En=f.return}}function OC(s,f,p){var g=p.flags;switch(p.tag){case 0:case 11:case 15:Ji(s,p),g&4&&Al(5,p);break;case 1:if(Ji(s,p),g&4)if(s=p.stateNode,f===null)try{s.componentDidMount()}catch(P){Ct(p,p.return,P)}else{var _=eu(p.type,f.memoizedProps);f=f.memoizedState;try{s.componentDidUpdate(_,f,s.__reactInternalSnapshotBeforeUpdate)}catch(P){Ct(p,p.return,P)}}g&64&&xC(p),g&512&&Ol(p,p.return);break;case 3:if(Ji(s,p),g&64&&(s=p.updateQueue,s!==null)){if(f=null,p.child!==null)switch(p.child.tag){case 27:case 5:f=p.child.stateNode;break;case 1:f=p.child.stateNode}try{uT(s,f)}catch(P){Ct(p,p.return,P)}}break;case 27:f===null&&g&4&&EC(p);case 26:case 5:Ji(s,p),f===null&&g&4&&_C(p),g&512&&Ol(p,p.return);break;case 12:Ji(s,p);break;case 13:Ji(s,p),g&4&&RC(s,p),g&64&&(s=p.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(p=O5.bind(null,p),W5(s,p))));break;case 22:if(g=p.memoizedState!==null||di,!g){f=f!==null&&f.memoizedState!==null||Qt,_=di;var T=Qt;di=g,(Qt=f)&&!T?eo(s,p,(p.subtreeFlags&8772)!==0):Ji(s,p),di=_,Qt=T}break;case 30:break;default:Ji(s,p)}}function TC(s){var f=s.alternate;f!==null&&(s.alternate=null,TC(f)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(f=s.stateNode,f!==null&&Og(f)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Lt=null,hr=!1;function pi(s,f,p){for(p=p.child;p!==null;)CC(s,f,p),p=p.sibling}function CC(s,f,p){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ti,p)}catch{}switch(p.tag){case 26:Qt||Ra(p,f),pi(s,f,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Qt||Ra(p,f);var g=Lt,_=hr;oo(p.type)&&(Lt=p.stateNode,hr=!1),pi(s,f,p),Il(p.stateNode),Lt=g,hr=_;break;case 5:Qt||Ra(p,f);case 6:if(g=Lt,_=hr,Lt=null,pi(s,f,p),Lt=g,hr=_,Lt!==null)if(hr)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(p.stateNode)}catch(T){Ct(p,f,T)}else try{Lt.removeChild(p.stateNode)}catch(T){Ct(p,f,T)}break;case 18:Lt!==null&&(hr?(s=Lt,mR(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,p.stateNode),$l(s)):mR(Lt,p.stateNode));break;case 4:g=Lt,_=hr,Lt=p.stateNode.containerInfo,hr=!0,pi(s,f,p),Lt=g,hr=_;break;case 0:case 11:case 14:case 15:Qt||Zi(2,p,f),Qt||Zi(4,p,f),pi(s,f,p);break;case 1:Qt||(Ra(p,f),g=p.stateNode,typeof g.componentWillUnmount=="function"&&wC(p,f,g)),pi(s,f,p);break;case 21:pi(s,f,p);break;case 22:Qt=(g=Qt)||p.memoizedState!==null,pi(s,f,p),Qt=g;break;default:pi(s,f,p)}}function RC(s,f){if(f.memoizedState===null&&(s=f.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{$l(s)}catch(p){Ct(f,f.return,p)}}function y5(s){switch(s.tag){case 13:case 19:var f=s.stateNode;return f===null&&(f=s.stateNode=new AC),f;case 22:return s=s.stateNode,f=s._retryCache,f===null&&(f=s._retryCache=new AC),f;default:throw Error(r(435,s.tag))}}function Ky(s,f){var p=y5(s);f.forEach(function(g){var _=T5.bind(null,s,g);p.has(g)||(p.add(g),g.then(_,_))})}function Er(s,f){var p=f.deletions;if(p!==null)for(var g=0;g<p.length;g++){var _=p[g],T=s,P=f,L=P;e:for(;L!==null;){switch(L.tag){case 27:if(oo(L.type)){Lt=L.stateNode,hr=!1;break e}break;case 5:Lt=L.stateNode,hr=!1;break e;case 3:case 4:Lt=L.stateNode.containerInfo,hr=!0;break e}L=L.return}if(Lt===null)throw Error(r(160));CC(T,P,_),Lt=null,hr=!1,T=_.alternate,T!==null&&(T.return=null),_.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)DC(f,s),f=f.sibling}var fa=null;function DC(s,f){var p=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Er(f,s),Ar(s),g&4&&(Zi(3,s,s.return),Al(3,s),Zi(5,s,s.return));break;case 1:Er(f,s),Ar(s),g&512&&(Qt||p===null||Ra(p,p.return)),g&64&&di&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(p=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=p===null?g:p.concat(g))));break;case 26:var _=fa;if(Er(f,s),Ar(s),g&512&&(Qt||p===null||Ra(p,p.return)),g&4){var T=p!==null?p.memoizedState:null;if(g=s.memoizedState,p===null)if(g===null)if(s.stateNode===null){e:{g=s.type,p=s.memoizedProps,_=_.ownerDocument||_;t:switch(g){case"title":T=_.getElementsByTagName("title")[0],(!T||T[Yc]||T[zn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=_.createElement(g),_.head.insertBefore(T,_.querySelector("head > title"))),In(T,g,p),T[zn]=s,_n(T),g=T;break e;case"link":var P=ER("link","href",_).get(g+(p.href||""));if(P){for(var L=0;L<P.length;L++)if(T=P[L],T.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&T.getAttribute("rel")===(p.rel==null?null:p.rel)&&T.getAttribute("title")===(p.title==null?null:p.title)&&T.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){P.splice(L,1);break t}}T=_.createElement(g),In(T,g,p),_.head.appendChild(T);break;case"meta":if(P=ER("meta","content",_).get(g+(p.content||""))){for(L=0;L<P.length;L++)if(T=P[L],T.getAttribute("content")===(p.content==null?null:""+p.content)&&T.getAttribute("name")===(p.name==null?null:p.name)&&T.getAttribute("property")===(p.property==null?null:p.property)&&T.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&T.getAttribute("charset")===(p.charSet==null?null:p.charSet)){P.splice(L,1);break t}}T=_.createElement(g),In(T,g,p),_.head.appendChild(T);break;default:throw Error(r(468,g))}T[zn]=s,_n(T),g=T}s.stateNode=g}else AR(_,s.type,s.stateNode);else s.stateNode=SR(_,g,s.memoizedProps);else T!==g?(T===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):T.count--,g===null?AR(_,s.type,s.stateNode):SR(_,g,s.memoizedProps)):g===null&&s.stateNode!==null&&Wy(s,s.memoizedProps,p.memoizedProps)}break;case 27:Er(f,s),Ar(s),g&512&&(Qt||p===null||Ra(p,p.return)),p!==null&&g&4&&Wy(s,s.memoizedProps,p.memoizedProps);break;case 5:if(Er(f,s),Ar(s),g&512&&(Qt||p===null||Ra(p,p.return)),s.flags&32){_=s.stateNode;try{Qu(_,"")}catch(oe){Ct(s,s.return,oe)}}g&4&&s.stateNode!=null&&(_=s.memoizedProps,Wy(s,_,p!==null?p.memoizedProps:_)),g&1024&&(Gy=!0);break;case 6:if(Er(f,s),Ar(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,p=s.stateNode;try{p.nodeValue=g}catch(oe){Ct(s,s.return,oe)}}break;case 3:if(Fd=null,_=fa,fa=Ld(f.containerInfo),Er(f,s),fa=_,Ar(s),g&4&&p!==null&&p.memoizedState.isDehydrated)try{$l(f.containerInfo)}catch(oe){Ct(s,s.return,oe)}Gy&&(Gy=!1,MC(s));break;case 4:g=fa,fa=Ld(s.stateNode.containerInfo),Er(f,s),Ar(s),fa=g;break;case 12:Er(f,s),Ar(s);break;case 13:Er(f,s),Ar(s),s.child.flags&8192&&s.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(e0=ct()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Ky(s,g)));break;case 22:_=s.memoizedState!==null;var G=p!==null&&p.memoizedState!==null,ae=di,pe=Qt;if(di=ae||_,Qt=pe||G,Er(f,s),Qt=pe,di=ae,Ar(s),g&8192)e:for(f=s.stateNode,f._visibility=_?f._visibility&-2:f._visibility|1,_&&(p===null||G||di||Qt||tu(s)),p=null,f=s;;){if(f.tag===5||f.tag===26){if(p===null){G=p=f;try{if(T=G.stateNode,_)P=T.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{L=G.stateNode;var ye=G.memoizedProps.style,ie=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;L.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(oe){Ct(G,G.return,oe)}}}else if(f.tag===6){if(p===null){G=f;try{G.stateNode.nodeValue=_?"":G.memoizedProps}catch(oe){Ct(G,G.return,oe)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===s)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}g&4&&(g=s.updateQueue,g!==null&&(p=g.retryQueue,p!==null&&(g.retryQueue=null,Ky(s,p))));break;case 19:Er(f,s),Ar(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Ky(s,g)));break;case 30:break;case 21:break;default:Er(f,s),Ar(s)}}function Ar(s){var f=s.flags;if(f&2){try{for(var p,g=s.return;g!==null;){if(SC(g)){p=g;break}g=g.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var _=p.stateNode,T=Hy(s);Ed(s,T,_);break;case 5:var P=p.stateNode;p.flags&32&&(Qu(P,""),p.flags&=-33);var L=Hy(s);Ed(s,L,P);break;case 3:case 4:var G=p.stateNode.containerInfo,ae=Hy(s);Vy(s,ae,G);break;default:throw Error(r(161))}}catch(pe){Ct(s,s.return,pe)}s.flags&=-3}f&4096&&(s.flags&=-4097)}function MC(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var f=s;MC(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),s=s.sibling}}function Ji(s,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)OC(s,f.alternate,f),f=f.sibling}function tu(s){for(s=s.child;s!==null;){var f=s;switch(f.tag){case 0:case 11:case 14:case 15:Zi(4,f,f.return),tu(f);break;case 1:Ra(f,f.return);var p=f.stateNode;typeof p.componentWillUnmount=="function"&&wC(f,f.return,p),tu(f);break;case 27:Il(f.stateNode);case 26:case 5:Ra(f,f.return),tu(f);break;case 22:f.memoizedState===null&&tu(f);break;case 30:tu(f);break;default:tu(f)}s=s.sibling}}function eo(s,f,p){for(p=p&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var g=f.alternate,_=s,T=f,P=T.flags;switch(T.tag){case 0:case 11:case 15:eo(_,T,p),Al(4,T);break;case 1:if(eo(_,T,p),g=T,_=g.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ae){Ct(g,g.return,ae)}if(g=T,_=g.updateQueue,_!==null){var L=g.stateNode;try{var G=_.shared.hiddenCallbacks;if(G!==null)for(_.shared.hiddenCallbacks=null,_=0;_<G.length;_++)oT(G[_],L)}catch(ae){Ct(g,g.return,ae)}}p&&P&64&&xC(T),Ol(T,T.return);break;case 27:EC(T);case 26:case 5:eo(_,T,p),p&&g===null&&P&4&&_C(T),Ol(T,T.return);break;case 12:eo(_,T,p);break;case 13:eo(_,T,p),p&&P&4&&RC(_,T);break;case 22:T.memoizedState===null&&eo(_,T,p),Ol(T,T.return);break;case 30:break;default:eo(_,T,p)}f=f.sibling}}function Xy(s,f){var p=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),s=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(s=f.memoizedState.cachePool.pool),s!==p&&(s!=null&&s.refCount++,p!=null&&fl(p))}function Yy(s,f){s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&fl(s))}function Da(s,f,p,g){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)PC(s,f,p,g),f=f.sibling}function PC(s,f,p,g){var _=f.flags;switch(f.tag){case 0:case 11:case 15:Da(s,f,p,g),_&2048&&Al(9,f);break;case 1:Da(s,f,p,g);break;case 3:Da(s,f,p,g),_&2048&&(s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&fl(s)));break;case 12:if(_&2048){Da(s,f,p,g),s=f.stateNode;try{var T=f.memoizedProps,P=T.id,L=T.onPostCommit;typeof L=="function"&&L(P,f.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(G){Ct(f,f.return,G)}}else Da(s,f,p,g);break;case 13:Da(s,f,p,g);break;case 23:break;case 22:T=f.stateNode,P=f.alternate,f.memoizedState!==null?T._visibility&2?Da(s,f,p,g):Tl(s,f):T._visibility&2?Da(s,f,p,g):(T._visibility|=2,ms(s,f,p,g,(f.subtreeFlags&10256)!==0)),_&2048&&Xy(P,f);break;case 24:Da(s,f,p,g),_&2048&&Yy(f.alternate,f);break;default:Da(s,f,p,g)}}function ms(s,f,p,g,_){for(_=_&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var T=s,P=f,L=p,G=g,ae=P.flags;switch(P.tag){case 0:case 11:case 15:ms(T,P,L,G,_),Al(8,P);break;case 23:break;case 22:var pe=P.stateNode;P.memoizedState!==null?pe._visibility&2?ms(T,P,L,G,_):Tl(T,P):(pe._visibility|=2,ms(T,P,L,G,_)),_&&ae&2048&&Xy(P.alternate,P);break;case 24:ms(T,P,L,G,_),_&&ae&2048&&Yy(P.alternate,P);break;default:ms(T,P,L,G,_)}f=f.sibling}}function Tl(s,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var p=s,g=f,_=g.flags;switch(g.tag){case 22:Tl(p,g),_&2048&&Xy(g.alternate,g);break;case 24:Tl(p,g),_&2048&&Yy(g.alternate,g);break;default:Tl(p,g)}f=f.sibling}}var Cl=8192;function gs(s){if(s.subtreeFlags&Cl)for(s=s.child;s!==null;)NC(s),s=s.sibling}function NC(s){switch(s.tag){case 26:gs(s),s.flags&Cl&&s.memoizedState!==null&&r$(fa,s.memoizedState,s.memoizedProps);break;case 5:gs(s);break;case 3:case 4:var f=fa;fa=Ld(s.stateNode.containerInfo),gs(s),fa=f;break;case 22:s.memoizedState===null&&(f=s.alternate,f!==null&&f.memoizedState!==null?(f=Cl,Cl=16777216,gs(s),Cl=f):gs(s));break;default:gs(s)}}function kC(s){var f=s.alternate;if(f!==null&&(s=f.child,s!==null)){f.child=null;do f=s.sibling,s.sibling=null,s=f;while(s!==null)}}function Rl(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var g=f[p];En=g,BC(g,s)}kC(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)IC(s),s=s.sibling}function IC(s){switch(s.tag){case 0:case 11:case 15:Rl(s),s.flags&2048&&Zi(9,s,s.return);break;case 3:Rl(s);break;case 12:Rl(s);break;case 22:var f=s.stateNode;s.memoizedState!==null&&f._visibility&2&&(s.return===null||s.return.tag!==13)?(f._visibility&=-3,Ad(s)):Rl(s);break;default:Rl(s)}}function Ad(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var g=f[p];En=g,BC(g,s)}kC(s)}for(s=s.child;s!==null;){switch(f=s,f.tag){case 0:case 11:case 15:Zi(8,f,f.return),Ad(f);break;case 22:p=f.stateNode,p._visibility&2&&(p._visibility&=-3,Ad(f));break;default:Ad(f)}s=s.sibling}}function BC(s,f){for(;En!==null;){var p=En;switch(p.tag){case 0:case 11:case 15:Zi(8,p,f);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var g=p.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:fl(p.memoizedState.cache)}if(g=p.child,g!==null)g.return=p,En=g;else e:for(p=s;En!==null;){g=En;var _=g.sibling,T=g.return;if(TC(g),g===p){En=null;break e}if(_!==null){_.return=T,En=_;break e}En=T}}}var b5={getCacheForType:function(s){var f=$n(ln),p=f.data.get(s);return p===void 0&&(p=s(),f.data.set(s,p)),p}},x5=typeof WeakMap=="function"?WeakMap:Map,wt=0,Dt=null,it=null,ft=0,_t=0,Or=null,to=!1,ys=!1,Qy=!1,vi=0,Vt=0,no=0,nu=0,Zy=0,Gr=0,bs=0,Dl=null,dr=null,Jy=!1,e0=0,Od=1/0,Td=null,ro=null,kn=0,ao=null,xs=null,ws=0,t0=0,n0=null,LC=null,Ml=0,r0=null;function Tr(){if((wt&2)!==0&&ft!==0)return ft&-ft;if(j.T!==null){var s=ss;return s!==0?s:l0()}return JA()}function jC(){Gr===0&&(Gr=(ft&536870912)===0||vt?XA():536870912);var s=Vr.current;return s!==null&&(s.flags|=32),Gr}function Cr(s,f,p){(s===Dt&&(_t===2||_t===9)||s.cancelPendingCommit!==null)&&(_s(s,0),io(s,ft,Gr,!1)),Xc(s,p),((wt&2)===0||s!==Dt)&&(s===Dt&&((wt&2)===0&&(nu|=p),Vt===4&&io(s,ft,Gr,!1)),Ma(s))}function FC(s,f,p){if((wt&6)!==0)throw Error(r(327));var g=!p&&(f&124)===0&&(f&s.expiredLanes)===0||Kc(s,f),_=g?S5(s,f):o0(s,f,!0),T=g;do{if(_===0){ys&&!g&&io(s,f,0,!1);break}else{if(p=s.current.alternate,T&&!w5(p)){_=o0(s,f,!1),T=!1;continue}if(_===2){if(T=f,s.errorRecoveryDisabledLanes&T)var P=0;else P=s.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){f=P;e:{var L=s;_=Dl;var G=L.current.memoizedState.isDehydrated;if(G&&(_s(L,P).flags|=256),P=o0(L,P,!1),P!==2){if(Qy&&!G){L.errorRecoveryDisabledLanes|=T,nu|=T,_=4;break e}T=dr,dr=_,T!==null&&(dr===null?dr=T:dr.push.apply(dr,T))}_=P}if(T=!1,_!==2)continue}}if(_===1){_s(s,0),io(s,f,0,!0);break}e:{switch(g=s,T=_,T){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:io(g,f,Gr,!to);break e;case 2:dr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(_=e0+300-ct(),10<_)){if(io(g,f,Gr,!to),jh(g,0,!0)!==0)break e;g.timeoutHandle=pR(UC.bind(null,g,p,dr,Td,Jy,f,Gr,nu,bs,to,T,2,-0,0),_);break e}UC(g,p,dr,Td,Jy,f,Gr,nu,bs,to,T,0,-0,0)}}break}while(!0);Ma(s)}function UC(s,f,p,g,_,T,P,L,G,ae,pe,ye,ie,oe){if(s.timeoutHandle=-1,ye=f.subtreeFlags,(ye&8192||(ye&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:n$},NC(f),ye=a$(),ye!==null)){s.cancelPendingCommit=ye(GC.bind(null,s,f,T,p,g,_,P,L,G,pe,1,ie,oe)),io(s,T,P,!ae);return}GC(s,f,T,p,g,_,P,L,G)}function w5(s){for(var f=s;;){var p=f.tag;if((p===0||p===11||p===15)&&f.flags&16384&&(p=f.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var g=0;g<p.length;g++){var _=p[g],T=_.getSnapshot;_=_.value;try{if(!_r(T(),_))return!1}catch{return!1}}if(p=f.child,f.subtreeFlags&16384&&p!==null)p.return=f,f=p;else{if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function io(s,f,p,g){f&=~Zy,f&=~nu,s.suspendedLanes|=f,s.pingedLanes&=~f,g&&(s.warmLanes|=f),g=s.expirationTimes;for(var _=f;0<_;){var T=31-Pn(_),P=1<<T;g[T]=-1,_&=~P}p!==0&&QA(s,p,f)}function Cd(){return(wt&6)===0?(Pl(0),!1):!0}function a0(){if(it!==null){if(_t===0)var s=it.return;else s=it,ui=Yo=null,wy(s),ps=null,_l=0,s=it;for(;s!==null;)bC(s.alternate,s),s=s.return;it=null}}function _s(s,f){var p=s.timeoutHandle;p!==-1&&(s.timeoutHandle=-1,F5(p)),p=s.cancelPendingCommit,p!==null&&(s.cancelPendingCommit=null,p()),a0(),Dt=s,it=p=ai(s.current,null),ft=f,_t=0,Or=null,to=!1,ys=Kc(s,f),Qy=!1,bs=Gr=Zy=nu=no=Vt=0,dr=Dl=null,Jy=!1,(f&8)!==0&&(f|=f&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=f;0<g;){var _=31-Pn(g),T=1<<_;f|=s[_],g&=~T}return vi=f,Yh(),p}function qC(s,f){nt=null,j.H=vd,f===dl||f===id?(f=aT(),_t=3):f===tT?(f=aT(),_t=4):_t=f===iC?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Or=f,it===null&&(Vt=1,xd(s,zr(f,s.current)))}function zC(){var s=j.H;return j.H=vd,s===null?vd:s}function $C(){var s=j.A;return j.A=b5,s}function i0(){Vt=4,to||(ft&4194048)!==ft&&Vr.current!==null||(ys=!0),(no&134217727)===0&&(nu&134217727)===0||Dt===null||io(Dt,ft,Gr,!1)}function o0(s,f,p){var g=wt;wt|=2;var _=zC(),T=$C();(Dt!==s||ft!==f)&&(Td=null,_s(s,f)),f=!1;var P=Vt;e:do try{if(_t!==0&&it!==null){var L=it,G=Or;switch(_t){case 8:a0(),P=6;break e;case 3:case 2:case 9:case 6:Vr.current===null&&(f=!0);var ae=_t;if(_t=0,Or=null,Ss(s,L,G,ae),p&&ys){P=0;break e}break;default:ae=_t,_t=0,Or=null,Ss(s,L,G,ae)}}_5(),P=Vt;break}catch(pe){qC(s,pe)}while(!0);return f&&s.shellSuspendCounter++,ui=Yo=null,wt=g,j.H=_,j.A=T,it===null&&(Dt=null,ft=0,Yh()),P}function _5(){for(;it!==null;)WC(it)}function S5(s,f){var p=wt;wt|=2;var g=zC(),_=$C();Dt!==s||ft!==f?(Td=null,Od=ct()+500,_s(s,f)):ys=Kc(s,f);e:do try{if(_t!==0&&it!==null){f=it;var T=Or;t:switch(_t){case 1:_t=0,Or=null,Ss(s,f,T,1);break;case 2:case 9:if(nT(T)){_t=0,Or=null,HC(f);break}f=function(){_t!==2&&_t!==9||Dt!==s||(_t=7),Ma(s)},T.then(f,f);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:nT(T)?(_t=0,Or=null,HC(f)):(_t=0,Or=null,Ss(s,f,T,7));break;case 5:var P=null;switch(it.tag){case 26:P=it.memoizedState;case 5:case 27:var L=it;if(!P||OR(P)){_t=0,Or=null;var G=L.sibling;if(G!==null)it=G;else{var ae=L.return;ae!==null?(it=ae,Rd(ae)):it=null}break t}}_t=0,Or=null,Ss(s,f,T,5);break;case 6:_t=0,Or=null,Ss(s,f,T,6);break;case 8:a0(),Vt=6;break e;default:throw Error(r(462))}}E5();break}catch(pe){qC(s,pe)}while(!0);return ui=Yo=null,j.H=g,j.A=_,wt=p,it!==null?0:(Dt=null,ft=0,Yh(),Vt)}function E5(){for(;it!==null&&!Ge();)WC(it)}function WC(s){var f=gC(s.alternate,s,vi);s.memoizedProps=s.pendingProps,f===null?Rd(s):it=f}function HC(s){var f=s,p=f.alternate;switch(f.tag){case 15:case 0:f=fC(p,f,f.pendingProps,f.type,void 0,ft);break;case 11:f=fC(p,f,f.pendingProps,f.type.render,f.ref,ft);break;case 5:wy(f);default:bC(p,f),f=it=VO(f,vi),f=gC(p,f,vi)}s.memoizedProps=s.pendingProps,f===null?Rd(s):it=f}function Ss(s,f,p,g){ui=Yo=null,wy(f),ps=null,_l=0;var _=f.return;try{if(d5(s,_,f,p,ft)){Vt=1,xd(s,zr(p,s.current)),it=null;return}}catch(T){if(_!==null)throw it=_,T;Vt=1,xd(s,zr(p,s.current)),it=null;return}f.flags&32768?(vt||g===1?s=!0:ys||(ft&536870912)!==0?s=!1:(to=s=!0,(g===2||g===9||g===3||g===6)&&(g=Vr.current,g!==null&&g.tag===13&&(g.flags|=16384))),VC(f,s)):Rd(f)}function Rd(s){var f=s;do{if((f.flags&32768)!==0){VC(f,to);return}s=f.return;var p=v5(f.alternate,f,vi);if(p!==null){it=p;return}if(f=f.sibling,f!==null){it=f;return}it=f=s}while(f!==null);Vt===0&&(Vt=5)}function VC(s,f){do{var p=m5(s.alternate,s);if(p!==null){p.flags&=32767,it=p;return}if(p=s.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!f&&(s=s.sibling,s!==null)){it=s;return}it=s=p}while(s!==null);Vt=6,it=null}function GC(s,f,p,g,_,T,P,L,G){s.cancelPendingCommit=null;do Dd();while(kn!==0);if((wt&6)!==0)throw Error(r(327));if(f!==null){if(f===s.current)throw Error(r(177));if(T=f.lanes|f.childLanes,T|=Yg,n6(s,p,T,P,L,G),s===Dt&&(it=Dt=null,ft=0),xs=f,ao=s,ws=p,t0=T,n0=_,LC=g,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,C5(Wt,function(){return ZC(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||g){g=j.T,j.T=null,_=U.p,U.p=2,P=wt,wt|=4;try{g5(s,f,p)}finally{wt=P,U.p=_,j.T=g}}kn=1,KC(),XC(),YC()}}function KC(){if(kn===1){kn=0;var s=ao,f=xs,p=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||p){p=j.T,j.T=null;var g=U.p;U.p=2;var _=wt;wt|=4;try{DC(f,s);var T=y0,P=BO(s.containerInfo),L=T.focusedElem,G=T.selectionRange;if(P!==L&&L&&L.ownerDocument&&IO(L.ownerDocument.documentElement,L)){if(G!==null&&Hg(L)){var ae=G.start,pe=G.end;if(pe===void 0&&(pe=ae),"selectionStart"in L)L.selectionStart=ae,L.selectionEnd=Math.min(pe,L.value.length);else{var ye=L.ownerDocument||document,ie=ye&&ye.defaultView||window;if(ie.getSelection){var oe=ie.getSelection(),$e=L.textContent.length,Ue=Math.min(G.start,$e),Ot=G.end===void 0?Ue:Math.min(G.end,$e);!oe.extend&&Ue>Ot&&(P=Ot,Ot=Ue,Ue=P);var te=kO(L,Ue),Z=kO(L,Ot);if(te&&Z&&(oe.rangeCount!==1||oe.anchorNode!==te.node||oe.anchorOffset!==te.offset||oe.focusNode!==Z.node||oe.focusOffset!==Z.offset)){var re=ye.createRange();re.setStart(te.node,te.offset),oe.removeAllRanges(),Ue>Ot?(oe.addRange(re),oe.extend(Z.node,Z.offset)):(re.setEnd(Z.node,Z.offset),oe.addRange(re))}}}}for(ye=[],oe=L;oe=oe.parentNode;)oe.nodeType===1&&ye.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ye.length;L++){var me=ye[L];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}zd=!!g0,y0=g0=null}finally{wt=_,U.p=g,j.T=p}}s.current=f,kn=2}}function XC(){if(kn===2){kn=0;var s=ao,f=xs,p=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||p){p=j.T,j.T=null;var g=U.p;U.p=2;var _=wt;wt|=4;try{OC(s,f.alternate,f)}finally{wt=_,U.p=g,j.T=p}}kn=3}}function YC(){if(kn===4||kn===3){kn=0,Ke();var s=ao,f=xs,p=ws,g=LC;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?kn=5:(kn=0,xs=ao=null,QC(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(ro=null),Eg(p),f=f.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ti,f,void 0,(f.current.flags&128)===128)}catch{}if(g!==null){f=j.T,_=U.p,U.p=2,j.T=null;try{for(var T=s.onRecoverableError,P=0;P<g.length;P++){var L=g[P];T(L.value,{componentStack:L.stack})}}finally{j.T=f,U.p=_}}(ws&3)!==0&&Dd(),Ma(s),_=s.pendingLanes,(p&4194090)!==0&&(_&42)!==0?s===r0?Ml++:(Ml=0,r0=s):Ml=0,Pl(0)}}function QC(s,f){(s.pooledCacheLanes&=f)===0&&(f=s.pooledCache,f!=null&&(s.pooledCache=null,fl(f)))}function Dd(s){return KC(),XC(),YC(),ZC()}function ZC(){if(kn!==5)return!1;var s=ao,f=t0;t0=0;var p=Eg(ws),g=j.T,_=U.p;try{U.p=32>p?32:p,j.T=null,p=n0,n0=null;var T=ao,P=ws;if(kn=0,xs=ao=null,ws=0,(wt&6)!==0)throw Error(r(331));var L=wt;if(wt|=4,IC(T.current),PC(T,T.current,P,p),wt=L,Pl(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ti,T)}catch{}return!0}finally{U.p=_,j.T=g,QC(s,f)}}function JC(s,f,p){f=zr(p,f),f=Iy(s.stateNode,f,2),s=Ki(s,f,2),s!==null&&(Xc(s,2),Ma(s))}function Ct(s,f,p){if(s.tag===3)JC(s,s,p);else for(;f!==null;){if(f.tag===3){JC(f,s,p);break}else if(f.tag===1){var g=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ro===null||!ro.has(g))){s=zr(p,s),p=rC(2),g=Ki(f,p,2),g!==null&&(aC(p,g,f,s),Xc(g,2),Ma(g));break}}f=f.return}}function u0(s,f,p){var g=s.pingCache;if(g===null){g=s.pingCache=new x5;var _=new Set;g.set(f,_)}else _=g.get(f),_===void 0&&(_=new Set,g.set(f,_));_.has(p)||(Qy=!0,_.add(p),s=A5.bind(null,s,f,p),f.then(s,s))}function A5(s,f,p){var g=s.pingCache;g!==null&&g.delete(f),s.pingedLanes|=s.suspendedLanes&p,s.warmLanes&=~p,Dt===s&&(ft&p)===p&&(Vt===4||Vt===3&&(ft&62914560)===ft&&300>ct()-e0?(wt&2)===0&&_s(s,0):Zy|=p,bs===ft&&(bs=0)),Ma(s)}function eR(s,f){f===0&&(f=YA()),s=as(s,f),s!==null&&(Xc(s,f),Ma(s))}function O5(s){var f=s.memoizedState,p=0;f!==null&&(p=f.retryLane),eR(s,p)}function T5(s,f){var p=0;switch(s.tag){case 13:var g=s.stateNode,_=s.memoizedState;_!==null&&(p=_.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(f),eR(s,p)}function C5(s,f){return Le(s,f)}var Md=null,Es=null,s0=!1,Pd=!1,c0=!1,ru=0;function Ma(s){s!==Es&&s.next===null&&(Es===null?Md=Es=s:Es=Es.next=s),Pd=!0,s0||(s0=!0,D5())}function Pl(s,f){if(!c0&&Pd){c0=!0;do for(var p=!1,g=Md;g!==null;){if(s!==0){var _=g.pendingLanes;if(_===0)var T=0;else{var P=g.suspendedLanes,L=g.pingedLanes;T=(1<<31-Pn(42|s)+1)-1,T&=_&~(P&~L),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(p=!0,aR(g,T))}else T=ft,T=jh(g,g===Dt?T:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(T&3)===0||Kc(g,T)||(p=!0,aR(g,T));g=g.next}while(p);c0=!1}}function R5(){tR()}function tR(){Pd=s0=!1;var s=0;ru!==0&&(j5()&&(s=ru),ru=0);for(var f=ct(),p=null,g=Md;g!==null;){var _=g.next,T=nR(g,f);T===0?(g.next=null,p===null?Md=_:p.next=_,_===null&&(Es=p)):(p=g,(s!==0||(T&3)!==0)&&(Pd=!0)),g=_}Pl(s)}function nR(s,f){for(var p=s.suspendedLanes,g=s.pingedLanes,_=s.expirationTimes,T=s.pendingLanes&-62914561;0<T;){var P=31-Pn(T),L=1<<P,G=_[P];G===-1?((L&p)===0||(L&g)!==0)&&(_[P]=t6(L,f)):G<=f&&(s.expiredLanes|=L),T&=~L}if(f=Dt,p=ft,p=jh(s,s===f?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,p===0||s===f&&(_t===2||_t===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Ie(g),s.callbackNode=null,s.callbackPriority=0;if((p&3)===0||Kc(s,p)){if(f=p&-p,f===s.callbackPriority)return f;switch(g!==null&&Ie(g),Eg(p)){case 2:case 8:p=ur;break;case 32:p=Wt;break;case 268435456:p=qn;break;default:p=Wt}return g=rR.bind(null,s),p=Le(p,g),s.callbackPriority=f,s.callbackNode=p,f}return g!==null&&g!==null&&Ie(g),s.callbackPriority=2,s.callbackNode=null,2}function rR(s,f){if(kn!==0&&kn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var p=s.callbackNode;if(Dd()&&s.callbackNode!==p)return null;var g=ft;return g=jh(s,s===Dt?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(FC(s,g,f),nR(s,ct()),s.callbackNode!=null&&s.callbackNode===p?rR.bind(null,s):null)}function aR(s,f){if(Dd())return null;FC(s,f,!0)}function D5(){U5(function(){(wt&6)!==0?Le(Ft,R5):tR()})}function l0(){return ru===0&&(ru=XA()),ru}function iR(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:$h(""+s)}function oR(s,f){var p=f.ownerDocument.createElement("input");return p.name=f.name,p.value=f.value,s.id&&p.setAttribute("form",s.id),f.parentNode.insertBefore(p,f),s=new FormData(s),p.parentNode.removeChild(p),s}function M5(s,f,p,g,_){if(f==="submit"&&p&&p.stateNode===_){var T=iR((_[cr]||null).action),P=g.submitter;P&&(f=(f=P[cr]||null)?iR(f.formAction):P.getAttribute("formAction"),f!==null&&(T=f,P=null));var L=new Gh("action","action",null,g,_);s.push({event:L,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ru!==0){var G=P?oR(_,P):new FormData(_);Dy(p,{pending:!0,data:G,method:_.method,action:T},null,G)}}else typeof T=="function"&&(L.preventDefault(),G=P?oR(_,P):new FormData(_),Dy(p,{pending:!0,data:G,method:_.method,action:T},T,G))},currentTarget:_}]})}}for(var f0=0;f0<Xg.length;f0++){var h0=Xg[f0],P5=h0.toLowerCase(),N5=h0[0].toUpperCase()+h0.slice(1);la(P5,"on"+N5)}la(FO,"onAnimationEnd"),la(UO,"onAnimationIteration"),la(qO,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(Y6,"onTransitionRun"),la(Q6,"onTransitionStart"),la(Z6,"onTransitionCancel"),la(zO,"onTransitionEnd"),Ku("onMouseEnter",["mouseout","mouseover"]),Ku("onMouseLeave",["mouseout","mouseover"]),Ku("onPointerEnter",["pointerout","pointerover"]),Ku("onPointerLeave",["pointerout","pointerover"]),qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qo("onBeforeInput",["compositionend","keypress","textInput","paste"]),qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function uR(s,f){f=(f&4)!==0;for(var p=0;p<s.length;p++){var g=s[p],_=g.event;g=g.listeners;e:{var T=void 0;if(f)for(var P=g.length-1;0<=P;P--){var L=g[P],G=L.instance,ae=L.currentTarget;if(L=L.listener,G!==T&&_.isPropagationStopped())break e;T=L,_.currentTarget=ae;try{T(_)}catch(pe){bd(pe)}_.currentTarget=null,T=G}else for(P=0;P<g.length;P++){if(L=g[P],G=L.instance,ae=L.currentTarget,L=L.listener,G!==T&&_.isPropagationStopped())break e;T=L,_.currentTarget=ae;try{T(_)}catch(pe){bd(pe)}_.currentTarget=null,T=G}}}}function ot(s,f){var p=f[Ag];p===void 0&&(p=f[Ag]=new Set);var g=s+"__bubble";p.has(g)||(sR(f,s,2,!1),p.add(g))}function d0(s,f,p){var g=0;f&&(g|=4),sR(p,s,g,f)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function p0(s){if(!s[Nd]){s[Nd]=!0,tO.forEach(function(p){p!=="selectionchange"&&(k5.has(p)||d0(p,!1,s),d0(p,!0,s))});var f=s.nodeType===9?s:s.ownerDocument;f===null||f[Nd]||(f[Nd]=!0,d0("selectionchange",!1,f))}}function sR(s,f,p,g){switch(PR(f)){case 2:var _=u$;break;case 8:_=s$;break;default:_=C0}p=_.bind(null,f,p,s),_=void 0,!Bg||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(_=!0),g?_!==void 0?s.addEventListener(f,p,{capture:!0,passive:_}):s.addEventListener(f,p,!0):_!==void 0?s.addEventListener(f,p,{passive:_}):s.addEventListener(f,p,!1)}function v0(s,f,p,g,_){var T=g;if((f&1)===0&&(f&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var L=g.stateNode.containerInfo;if(L===_)break;if(P===4)for(P=g.return;P!==null;){var G=P.tag;if((G===3||G===4)&&P.stateNode.containerInfo===_)return;P=P.return}for(;L!==null;){if(P=Hu(L),P===null)return;if(G=P.tag,G===5||G===6||G===26||G===27){g=T=P;continue e}L=L.parentNode}}g=g.return}vO(function(){var ae=T,pe=kg(p),ye=[];e:{var ie=$O.get(s);if(ie!==void 0){var oe=Gh,$e=s;switch(s){case"keypress":if(Hh(p)===0)break e;case"keydown":case"keyup":oe=C6;break;case"focusin":$e="focus",oe=Ug;break;case"focusout":$e="blur",oe=Ug;break;case"beforeblur":case"afterblur":oe=Ug;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=yO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=m6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=M6;break;case FO:case UO:case qO:oe=b6;break;case zO:oe=N6;break;case"scroll":case"scrollend":oe=p6;break;case"wheel":oe=I6;break;case"copy":case"cut":case"paste":oe=w6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=xO;break;case"toggle":case"beforetoggle":oe=L6}var Ue=(f&4)!==0,Ot=!Ue&&(s==="scroll"||s==="scrollend"),te=Ue?ie!==null?ie+"Capture":null:ie;Ue=[];for(var Z=ae,re;Z!==null;){var me=Z;if(re=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||re===null||te===null||(me=Zc(Z,te),me!=null&&Ue.push(kl(Z,me,re))),Ot)break;Z=Z.return}0<Ue.length&&(ie=new oe(ie,$e,null,p,pe),ye.push({event:ie,listeners:Ue}))}}if((f&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",oe=s==="mouseout"||s==="pointerout",ie&&p!==Ng&&($e=p.relatedTarget||p.fromElement)&&(Hu($e)||$e[Wu]))break e;if((oe||ie)&&(ie=pe.window===pe?pe:(ie=pe.ownerDocument)?ie.defaultView||ie.parentWindow:window,oe?($e=p.relatedTarget||p.toElement,oe=ae,$e=$e?Hu($e):null,$e!==null&&(Ot=i($e),Ue=$e.tag,$e!==Ot||Ue!==5&&Ue!==27&&Ue!==6)&&($e=null)):(oe=null,$e=ae),oe!==$e)){if(Ue=yO,me="onMouseLeave",te="onMouseEnter",Z="mouse",(s==="pointerout"||s==="pointerover")&&(Ue=xO,me="onPointerLeave",te="onPointerEnter",Z="pointer"),Ot=oe==null?ie:Qc(oe),re=$e==null?ie:Qc($e),ie=new Ue(me,Z+"leave",oe,p,pe),ie.target=Ot,ie.relatedTarget=re,me=null,Hu(pe)===ae&&(Ue=new Ue(te,Z+"enter",$e,p,pe),Ue.target=re,Ue.relatedTarget=Ot,me=Ue),Ot=me,oe&&$e)t:{for(Ue=oe,te=$e,Z=0,re=Ue;re;re=As(re))Z++;for(re=0,me=te;me;me=As(me))re++;for(;0<Z-re;)Ue=As(Ue),Z--;for(;0<re-Z;)te=As(te),re--;for(;Z--;){if(Ue===te||te!==null&&Ue===te.alternate)break t;Ue=As(Ue),te=As(te)}Ue=null}else Ue=null;oe!==null&&cR(ye,ie,oe,Ue,!1),$e!==null&&Ot!==null&&cR(ye,Ot,$e,Ue,!0)}}e:{if(ie=ae?Qc(ae):window,oe=ie.nodeName&&ie.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ie.type==="file")var Re=CO;else if(OO(ie))if(RO)Re=G6;else{Re=H6;var rt=W6}else oe=ie.nodeName,!oe||oe.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ae&&Pg(ae.elementType)&&(Re=CO):Re=V6;if(Re&&(Re=Re(s,ae))){TO(ye,Re,p,pe);break e}rt&&rt(s,ie,ae),s==="focusout"&&ae&&ie.type==="number"&&ae.memoizedProps.value!=null&&Mg(ie,"number",ie.value)}switch(rt=ae?Qc(ae):window,s){case"focusin":(OO(rt)||rt.contentEditable==="true")&&(ts=rt,Vg=ae,ol=null);break;case"focusout":ol=Vg=ts=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,LO(ye,p,pe);break;case"selectionchange":if(X6)break;case"keydown":case"keyup":LO(ye,p,pe)}var je;if(zg)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else es?EO(s,p)&&(qe="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(qe="onCompositionStart");qe&&(wO&&p.locale!=="ko"&&(es||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&es&&(je=mO()):(Wi=pe,Lg="value"in Wi?Wi.value:Wi.textContent,es=!0)),rt=kd(ae,qe),0<rt.length&&(qe=new bO(qe,s,null,p,pe),ye.push({event:qe,listeners:rt}),je?qe.data=je:(je=AO(p),je!==null&&(qe.data=je)))),(je=F6?U6(s,p):q6(s,p))&&(qe=kd(ae,"onBeforeInput"),0<qe.length&&(rt=new bO("onBeforeInput","beforeinput",null,p,pe),ye.push({event:rt,listeners:qe}),rt.data=je)),M5(ye,s,ae,p,pe)}uR(ye,f)})}function kl(s,f,p){return{instance:s,listener:f,currentTarget:p}}function kd(s,f){for(var p=f+"Capture",g=[];s!==null;){var _=s,T=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||T===null||(_=Zc(s,p),_!=null&&g.unshift(kl(s,_,T)),_=Zc(s,f),_!=null&&g.push(kl(s,_,T))),s.tag===3)return g;s=s.return}return[]}function As(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function cR(s,f,p,g,_){for(var T=f._reactName,P=[];p!==null&&p!==g;){var L=p,G=L.alternate,ae=L.stateNode;if(L=L.tag,G!==null&&G===g)break;L!==5&&L!==26&&L!==27||ae===null||(G=ae,_?(ae=Zc(p,T),ae!=null&&P.unshift(kl(p,ae,G))):_||(ae=Zc(p,T),ae!=null&&P.push(kl(p,ae,G)))),p=p.return}P.length!==0&&s.push({event:f,listeners:P})}var I5=/\r\n?/g,B5=/\u0000|\uFFFD/g;function lR(s){return(typeof s=="string"?s:""+s).replace(I5,`
`).replace(B5,"")}function fR(s,f){return f=lR(f),lR(s)===f}function Id(){}function At(s,f,p,g,_,T){switch(p){case"children":typeof g=="string"?f==="body"||f==="textarea"&&g===""||Qu(s,g):(typeof g=="number"||typeof g=="bigint")&&f!=="body"&&Qu(s,""+g);break;case"className":Uh(s,"class",g);break;case"tabIndex":Uh(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Uh(s,p,g);break;case"style":dO(s,g,T);break;case"data":if(f!=="object"){Uh(s,"data",g);break}case"src":case"href":if(g===""&&(f!=="a"||p!=="href")){s.removeAttribute(p);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(p);break}g=$h(""+g),s.setAttribute(p,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(p==="formAction"?(f!=="input"&&At(s,f,"name",_.name,_,null),At(s,f,"formEncType",_.formEncType,_,null),At(s,f,"formMethod",_.formMethod,_,null),At(s,f,"formTarget",_.formTarget,_,null)):(At(s,f,"encType",_.encType,_,null),At(s,f,"method",_.method,_,null),At(s,f,"target",_.target,_,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(p);break}g=$h(""+g),s.setAttribute(p,g);break;case"onClick":g!=null&&(s.onclick=Id);break;case"onScroll":g!=null&&ot("scroll",s);break;case"onScrollEnd":g!=null&&ot("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=p}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}p=$h(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(p,""+g):s.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(p,""):s.removeAttribute(p);break;case"capture":case"download":g===!0?s.setAttribute(p,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(p,g):s.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(p,g):s.removeAttribute(p);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(p):s.setAttribute(p,g);break;case"popover":ot("beforetoggle",s),ot("toggle",s),Fh(s,"popover",g);break;case"xlinkActuate":ni(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ni(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ni(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ni(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ni(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ni(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ni(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ni(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ni(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Fh(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=h6.get(p)||p,Fh(s,p,g))}}function m0(s,f,p,g,_,T){switch(p){case"style":dO(s,g,T);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=p}}break;case"children":typeof g=="string"?Qu(s,g):(typeof g=="number"||typeof g=="bigint")&&Qu(s,""+g);break;case"onScroll":g!=null&&ot("scroll",s);break;case"onScrollEnd":g!=null&&ot("scrollend",s);break;case"onClick":g!=null&&(s.onclick=Id);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nO.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(_=p.endsWith("Capture"),f=p.slice(2,_?p.length-7:void 0),T=s[cr]||null,T=T!=null?T[p]:null,typeof T=="function"&&s.removeEventListener(f,T,_),typeof g=="function")){typeof T!="function"&&T!==null&&(p in s?s[p]=null:s.hasAttribute(p)&&s.removeAttribute(p)),s.addEventListener(f,g,_);break e}p in s?s[p]=g:g===!0?s.setAttribute(p,""):Fh(s,p,g)}}}function In(s,f,p){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",s),ot("load",s);var g=!1,_=!1,T;for(T in p)if(p.hasOwnProperty(T)){var P=p[T];if(P!=null)switch(T){case"src":g=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:At(s,f,T,P,p,null)}}_&&At(s,f,"srcSet",p.srcSet,p,null),g&&At(s,f,"src",p.src,p,null);return;case"input":ot("invalid",s);var L=T=P=_=null,G=null,ae=null;for(g in p)if(p.hasOwnProperty(g)){var pe=p[g];if(pe!=null)switch(g){case"name":_=pe;break;case"type":P=pe;break;case"checked":G=pe;break;case"defaultChecked":ae=pe;break;case"value":T=pe;break;case"defaultValue":L=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,f));break;default:At(s,f,g,pe,p,null)}}cO(s,T,L,G,ae,P,_,!1),qh(s);return;case"select":ot("invalid",s),g=P=T=null;for(_ in p)if(p.hasOwnProperty(_)&&(L=p[_],L!=null))switch(_){case"value":T=L;break;case"defaultValue":P=L;break;case"multiple":g=L;default:At(s,f,_,L,p,null)}f=T,p=P,s.multiple=!!g,f!=null?Yu(s,!!g,f,!1):p!=null&&Yu(s,!!g,p,!0);return;case"textarea":ot("invalid",s),T=_=g=null;for(P in p)if(p.hasOwnProperty(P)&&(L=p[P],L!=null))switch(P){case"value":g=L;break;case"defaultValue":_=L;break;case"children":T=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:At(s,f,P,L,p,null)}fO(s,g,_,T),qh(s);return;case"option":for(G in p)if(p.hasOwnProperty(G)&&(g=p[G],g!=null))switch(G){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:At(s,f,G,g,p,null)}return;case"dialog":ot("beforetoggle",s),ot("toggle",s),ot("cancel",s),ot("close",s);break;case"iframe":case"object":ot("load",s);break;case"video":case"audio":for(g=0;g<Nl.length;g++)ot(Nl[g],s);break;case"image":ot("error",s),ot("load",s);break;case"details":ot("toggle",s);break;case"embed":case"source":case"link":ot("error",s),ot("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in p)if(p.hasOwnProperty(ae)&&(g=p[ae],g!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:At(s,f,ae,g,p,null)}return;default:if(Pg(f)){for(pe in p)p.hasOwnProperty(pe)&&(g=p[pe],g!==void 0&&m0(s,f,pe,g,p,void 0));return}}for(L in p)p.hasOwnProperty(L)&&(g=p[L],g!=null&&At(s,f,L,g,p,null))}function L5(s,f,p,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,T=null,P=null,L=null,G=null,ae=null,pe=null;for(oe in p){var ye=p[oe];if(p.hasOwnProperty(oe)&&ye!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":G=ye;default:g.hasOwnProperty(oe)||At(s,f,oe,null,g,ye)}}for(var ie in g){var oe=g[ie];if(ye=p[ie],g.hasOwnProperty(ie)&&(oe!=null||ye!=null))switch(ie){case"type":T=oe;break;case"name":_=oe;break;case"checked":ae=oe;break;case"defaultChecked":pe=oe;break;case"value":P=oe;break;case"defaultValue":L=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,f));break;default:oe!==ye&&At(s,f,ie,oe,g,ye)}}Dg(s,P,L,G,ae,pe,T,_);return;case"select":oe=P=L=ie=null;for(T in p)if(G=p[T],p.hasOwnProperty(T)&&G!=null)switch(T){case"value":break;case"multiple":oe=G;default:g.hasOwnProperty(T)||At(s,f,T,null,g,G)}for(_ in g)if(T=g[_],G=p[_],g.hasOwnProperty(_)&&(T!=null||G!=null))switch(_){case"value":ie=T;break;case"defaultValue":L=T;break;case"multiple":P=T;default:T!==G&&At(s,f,_,T,g,G)}f=L,p=P,g=oe,ie!=null?Yu(s,!!p,ie,!1):!!g!=!!p&&(f!=null?Yu(s,!!p,f,!0):Yu(s,!!p,p?[]:"",!1));return;case"textarea":oe=ie=null;for(L in p)if(_=p[L],p.hasOwnProperty(L)&&_!=null&&!g.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:At(s,f,L,null,g,_)}for(P in g)if(_=g[P],T=p[P],g.hasOwnProperty(P)&&(_!=null||T!=null))switch(P){case"value":ie=_;break;case"defaultValue":oe=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==T&&At(s,f,P,_,g,T)}lO(s,ie,oe);return;case"option":for(var $e in p)if(ie=p[$e],p.hasOwnProperty($e)&&ie!=null&&!g.hasOwnProperty($e))switch($e){case"selected":s.selected=!1;break;default:At(s,f,$e,null,g,ie)}for(G in g)if(ie=g[G],oe=p[G],g.hasOwnProperty(G)&&ie!==oe&&(ie!=null||oe!=null))switch(G){case"selected":s.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:At(s,f,G,ie,g,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in p)ie=p[Ue],p.hasOwnProperty(Ue)&&ie!=null&&!g.hasOwnProperty(Ue)&&At(s,f,Ue,null,g,ie);for(ae in g)if(ie=g[ae],oe=p[ae],g.hasOwnProperty(ae)&&ie!==oe&&(ie!=null||oe!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,f));break;default:At(s,f,ae,ie,g,oe)}return;default:if(Pg(f)){for(var Ot in p)ie=p[Ot],p.hasOwnProperty(Ot)&&ie!==void 0&&!g.hasOwnProperty(Ot)&&m0(s,f,Ot,void 0,g,ie);for(pe in g)ie=g[pe],oe=p[pe],!g.hasOwnProperty(pe)||ie===oe||ie===void 0&&oe===void 0||m0(s,f,pe,ie,g,oe);return}}for(var te in p)ie=p[te],p.hasOwnProperty(te)&&ie!=null&&!g.hasOwnProperty(te)&&At(s,f,te,null,g,ie);for(ye in g)ie=g[ye],oe=p[ye],!g.hasOwnProperty(ye)||ie===oe||ie==null&&oe==null||At(s,f,ye,ie,g,oe)}var g0=null,y0=null;function Bd(s){return s.nodeType===9?s:s.ownerDocument}function hR(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dR(s,f){if(s===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&f==="foreignObject"?0:s}function b0(s,f){return s==="textarea"||s==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var x0=null;function j5(){var s=window.event;return s&&s.type==="popstate"?s===x0?!1:(x0=s,!0):(x0=null,!1)}var pR=typeof setTimeout=="function"?setTimeout:void 0,F5=typeof clearTimeout=="function"?clearTimeout:void 0,vR=typeof Promise=="function"?Promise:void 0,U5=typeof queueMicrotask=="function"?queueMicrotask:typeof vR<"u"?function(s){return vR.resolve(null).then(s).catch(q5)}:pR;function q5(s){setTimeout(function(){throw s})}function oo(s){return s==="head"}function mR(s,f){var p=f,g=0,_=0;do{var T=p.nextSibling;if(s.removeChild(p),T&&T.nodeType===8)if(p=T.data,p==="/$"){if(0<g&&8>g){p=g;var P=s.ownerDocument;if(p&1&&Il(P.documentElement),p&2&&Il(P.body),p&4)for(p=P.head,Il(p),P=p.firstChild;P;){var L=P.nextSibling,G=P.nodeName;P[Yc]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&P.rel.toLowerCase()==="stylesheet"||p.removeChild(P),P=L}}if(_===0){s.removeChild(T),$l(f);return}_--}else p==="$"||p==="$?"||p==="$!"?_++:g=p.charCodeAt(0)-48;else g=0;p=T}while(p);$l(f)}function w0(s){var f=s.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var p=f;switch(f=f.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":w0(p),Og(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}s.removeChild(p)}}function z5(s,f,p,g){for(;s.nodeType===1;){var _=p;if(s.nodeName.toLowerCase()!==f.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Yc])switch(f){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(T=s.getAttribute("rel"),T==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(T!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(T=s.getAttribute("src"),(T!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&T&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(f==="input"&&s.type==="hidden"){var T=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===T)return s}else return s;if(s=ha(s.nextSibling),s===null)break}return null}function $5(s,f,p){if(f==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!p||(s=ha(s.nextSibling),s===null))return null;return s}function _0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function W5(s,f){var p=s.ownerDocument;if(s.data!=="$?"||p.readyState==="complete")f();else{var g=function(){f(),p.removeEventListener("DOMContentLoaded",g)};p.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function ha(s){for(;s!=null;s=s.nextSibling){var f=s.nodeType;if(f===1||f===3)break;if(f===8){if(f=s.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return s}var S0=null;function gR(s){s=s.previousSibling;for(var f=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(f===0)return s;f--}else p==="/$"&&f++}s=s.previousSibling}return null}function yR(s,f,p){switch(f=Bd(p),s){case"html":if(s=f.documentElement,!s)throw Error(r(452));return s;case"head":if(s=f.head,!s)throw Error(r(453));return s;case"body":if(s=f.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Il(s){for(var f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Og(s)}var Kr=new Map,bR=new Set;function Ld(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var mi=U.d;U.d={f:H5,r:V5,D:G5,C:K5,L:X5,m:Y5,X:Z5,S:Q5,M:J5};function H5(){var s=mi.f(),f=Cd();return s||f}function V5(s){var f=Vu(s);f!==null&&f.tag===5&&f.type==="form"?FT(f):mi.r(s)}var Os=typeof document>"u"?null:document;function xR(s,f,p){var g=Os;if(g&&typeof f=="string"&&f){var _=qr(f);_='link[rel="'+s+'"][href="'+_+'"]',typeof p=="string"&&(_+='[crossorigin="'+p+'"]'),bR.has(_)||(bR.add(_),s={rel:s,crossOrigin:p,href:f},g.querySelector(_)===null&&(f=g.createElement("link"),In(f,"link",s),_n(f),g.head.appendChild(f)))}}function G5(s){mi.D(s),xR("dns-prefetch",s,null)}function K5(s,f){mi.C(s,f),xR("preconnect",s,f)}function X5(s,f,p){mi.L(s,f,p);var g=Os;if(g&&s&&f){var _='link[rel="preload"][as="'+qr(f)+'"]';f==="image"&&p&&p.imageSrcSet?(_+='[imagesrcset="'+qr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(_+='[imagesizes="'+qr(p.imageSizes)+'"]')):_+='[href="'+qr(s)+'"]';var T=_;switch(f){case"style":T=Ts(s);break;case"script":T=Cs(s)}Kr.has(T)||(s=h({rel:"preload",href:f==="image"&&p&&p.imageSrcSet?void 0:s,as:f},p),Kr.set(T,s),g.querySelector(_)!==null||f==="style"&&g.querySelector(Bl(T))||f==="script"&&g.querySelector(Ll(T))||(f=g.createElement("link"),In(f,"link",s),_n(f),g.head.appendChild(f)))}}function Y5(s,f){mi.m(s,f);var p=Os;if(p&&s){var g=f&&typeof f.as=="string"?f.as:"script",_='link[rel="modulepreload"][as="'+qr(g)+'"][href="'+qr(s)+'"]',T=_;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Cs(s)}if(!Kr.has(T)&&(s=h({rel:"modulepreload",href:s},f),Kr.set(T,s),p.querySelector(_)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Ll(T)))return}g=p.createElement("link"),In(g,"link",s),_n(g),p.head.appendChild(g)}}}function Q5(s,f,p){mi.S(s,f,p);var g=Os;if(g&&s){var _=Gu(g).hoistableStyles,T=Ts(s);f=f||"default";var P=_.get(T);if(!P){var L={loading:0,preload:null};if(P=g.querySelector(Bl(T)))L.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":f},p),(p=Kr.get(T))&&E0(s,p);var G=P=g.createElement("link");_n(G),In(G,"link",s),G._p=new Promise(function(ae,pe){G.onload=ae,G.onerror=pe}),G.addEventListener("load",function(){L.loading|=1}),G.addEventListener("error",function(){L.loading|=2}),L.loading|=4,jd(P,f,g)}P={type:"stylesheet",instance:P,count:1,state:L},_.set(T,P)}}}function Z5(s,f){mi.X(s,f);var p=Os;if(p&&s){var g=Gu(p).hoistableScripts,_=Cs(s),T=g.get(_);T||(T=p.querySelector(Ll(_)),T||(s=h({src:s,async:!0},f),(f=Kr.get(_))&&A0(s,f),T=p.createElement("script"),_n(T),In(T,"link",s),p.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(_,T))}}function J5(s,f){mi.M(s,f);var p=Os;if(p&&s){var g=Gu(p).hoistableScripts,_=Cs(s),T=g.get(_);T||(T=p.querySelector(Ll(_)),T||(s=h({src:s,async:!0,type:"module"},f),(f=Kr.get(_))&&A0(s,f),T=p.createElement("script"),_n(T),In(T,"link",s),p.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(_,T))}}function wR(s,f,p,g){var _=(_=xe.current)?Ld(_):null;if(!_)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(f=Ts(p.href),p=Gu(_).hoistableStyles,g=p.get(f),g||(g={type:"style",instance:null,count:0,state:null},p.set(f,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){s=Ts(p.href);var T=Gu(_).hoistableStyles,P=T.get(s);if(P||(_=_.ownerDocument||_,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(s,P),(T=_.querySelector(Bl(s)))&&!T._p&&(P.instance=T,P.state.loading=5),Kr.has(s)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Kr.set(s,p),T||e$(_,s,p,P.state))),f&&g===null)throw Error(r(528,""));return P}if(f&&g!==null)throw Error(r(529,""));return null;case"script":return f=p.async,p=p.src,typeof p=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Cs(p),p=Gu(_).hoistableScripts,g=p.get(f),g||(g={type:"script",instance:null,count:0,state:null},p.set(f,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Ts(s){return'href="'+qr(s)+'"'}function Bl(s){return'link[rel="stylesheet"]['+s+"]"}function _R(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function e$(s,f,p,g){s.querySelector('link[rel="preload"][as="style"]['+f+"]")?g.loading=1:(f=s.createElement("link"),g.preload=f,f.addEventListener("load",function(){return g.loading|=1}),f.addEventListener("error",function(){return g.loading|=2}),In(f,"link",p),_n(f),s.head.appendChild(f))}function Cs(s){return'[src="'+qr(s)+'"]'}function Ll(s){return"script[async]"+s}function SR(s,f,p){if(f.count++,f.instance===null)switch(f.type){case"style":var g=s.querySelector('style[data-href~="'+qr(p.href)+'"]');if(g)return f.instance=g,_n(g),g;var _=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),_n(g),In(g,"style",_),jd(g,p.precedence,s),f.instance=g;case"stylesheet":_=Ts(p.href);var T=s.querySelector(Bl(_));if(T)return f.state.loading|=4,f.instance=T,_n(T),T;g=_R(p),(_=Kr.get(_))&&E0(g,_),T=(s.ownerDocument||s).createElement("link"),_n(T);var P=T;return P._p=new Promise(function(L,G){P.onload=L,P.onerror=G}),In(T,"link",g),f.state.loading|=4,jd(T,p.precedence,s),f.instance=T;case"script":return T=Cs(p.src),(_=s.querySelector(Ll(T)))?(f.instance=_,_n(_),_):(g=p,(_=Kr.get(T))&&(g=h({},p),A0(g,_)),s=s.ownerDocument||s,_=s.createElement("script"),_n(_),In(_,"link",g),s.head.appendChild(_),f.instance=_);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(g=f.instance,f.state.loading|=4,jd(g,p.precedence,s));return f.instance}function jd(s,f,p){for(var g=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=g.length?g[g.length-1]:null,T=_,P=0;P<g.length;P++){var L=g[P];if(L.dataset.precedence===f)T=L;else if(T!==_)break}T?T.parentNode.insertBefore(s,T.nextSibling):(f=p.nodeType===9?p.head:p,f.insertBefore(s,f.firstChild))}function E0(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.title==null&&(s.title=f.title)}function A0(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.integrity==null&&(s.integrity=f.integrity)}var Fd=null;function ER(s,f,p){if(Fd===null){var g=new Map,_=Fd=new Map;_.set(p,g)}else _=Fd,g=_.get(p),g||(g=new Map,_.set(p,g));if(g.has(s))return g;for(g.set(s,null),p=p.getElementsByTagName(s),_=0;_<p.length;_++){var T=p[_];if(!(T[Yc]||T[zn]||s==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var P=T.getAttribute(f)||"";P=s+P;var L=g.get(P);L?L.push(T):g.set(P,[T])}}return g}function AR(s,f,p){s=s.ownerDocument||s,s.head.insertBefore(p,f==="title"?s.querySelector("head > title"):null)}function t$(s,f,p){if(p===1||f.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return s=f.disabled,typeof f.precedence=="string"&&s==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function OR(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var jl=null;function n$(){}function r$(s,f,p){if(jl===null)throw Error(r(475));var g=jl;if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var _=Ts(p.href),T=s.querySelector(Bl(_));if(T){s=T._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(g.count++,g=Ud.bind(g),s.then(g,g)),f.state.loading|=4,f.instance=T,_n(T);return}T=s.ownerDocument||s,p=_R(p),(_=Kr.get(_))&&E0(p,_),T=T.createElement("link"),_n(T);var P=T;P._p=new Promise(function(L,G){P.onload=L,P.onerror=G}),In(T,"link",p),f.instance=T}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(f,s),(s=f.state.preload)&&(f.state.loading&3)===0&&(g.count++,f=Ud.bind(g),s.addEventListener("load",f),s.addEventListener("error",f))}}function a$(){if(jl===null)throw Error(r(475));var s=jl;return s.stylesheets&&s.count===0&&O0(s,s.stylesheets),0<s.count?function(f){var p=setTimeout(function(){if(s.stylesheets&&O0(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4);return s.unsuspend=f,function(){s.unsuspend=null,clearTimeout(p)}}:null}function Ud(){if(this.count--,this.count===0){if(this.stylesheets)O0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var qd=null;function O0(s,f){s.stylesheets=null,s.unsuspend!==null&&(s.count++,qd=new Map,f.forEach(i$,s),qd=null,Ud.call(s))}function i$(s,f){if(!(f.state.loading&4)){var p=qd.get(s);if(p)var g=p.get(null);else{p=new Map,qd.set(s,p);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<_.length;T++){var P=_[T];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(p.set(P.dataset.precedence,P),g=P)}g&&p.set(null,g)}_=f.instance,P=_.getAttribute("data-precedence"),T=p.get(P)||g,T===g&&p.set(null,_),p.set(P,_),this.count++,g=Ud.bind(this),_.addEventListener("load",g),_.addEventListener("error",g),T?T.parentNode.insertBefore(_,T.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),f.state.loading|=4}}var Fl={$$typeof:A,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function o$(s,f,p,g,_,T,P,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_g(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_g(0),this.hiddenUpdates=_g(null),this.identifierPrefix=g,this.onUncaughtError=_,this.onCaughtError=T,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function TR(s,f,p,g,_,T,P,L,G,ae,pe,ye){return s=new o$(s,f,p,P,L,G,ae,ye),f=1,T===!0&&(f|=24),T=Sr(3,null,null,f),s.current=T,T.stateNode=s,f=uy(),f.refCount++,s.pooledCache=f,f.refCount++,T.memoizedState={element:g,isDehydrated:p,cache:f},fy(T),s}function CR(s){return s?(s=is,s):is}function RR(s,f,p,g,_,T){_=CR(_),g.context===null?g.context=_:g.pendingContext=_,g=Gi(f),g.payload={element:p},T=T===void 0?null:T,T!==null&&(g.callback=T),p=Ki(s,g,f),p!==null&&(Cr(p,s,f),vl(p,s,f))}function DR(s,f){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<f?p:f}}function T0(s,f){DR(s,f),(s=s.alternate)&&DR(s,f)}function MR(s){if(s.tag===13){var f=as(s,67108864);f!==null&&Cr(f,s,67108864),T0(s,67108864)}}var zd=!0;function u$(s,f,p,g){var _=j.T;j.T=null;var T=U.p;try{U.p=2,C0(s,f,p,g)}finally{U.p=T,j.T=_}}function s$(s,f,p,g){var _=j.T;j.T=null;var T=U.p;try{U.p=8,C0(s,f,p,g)}finally{U.p=T,j.T=_}}function C0(s,f,p,g){if(zd){var _=R0(g);if(_===null)v0(s,f,g,$d,p),NR(s,g);else if(l$(_,s,f,p,g))g.stopPropagation();else if(NR(s,g),f&4&&-1<c$.indexOf(s)){for(;_!==null;){var T=Vu(_);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var P=ca(T.pendingLanes);if(P!==0){var L=T;for(L.pendingLanes|=2,L.entangledLanes|=2;P;){var G=1<<31-Pn(P);L.entanglements[1]|=G,P&=~G}Ma(T),(wt&6)===0&&(Od=ct()+500,Pl(0))}}break;case 13:L=as(T,2),L!==null&&Cr(L,T,2),Cd(),T0(T,2)}if(T=R0(g),T===null&&v0(s,f,g,$d,p),T===_)break;_=T}_!==null&&g.stopPropagation()}else v0(s,f,g,null,p)}}function R0(s){return s=kg(s),D0(s)}var $d=null;function D0(s){if($d=null,s=Hu(s),s!==null){var f=i(s);if(f===null)s=null;else{var p=f.tag;if(p===13){if(s=o(f),s!==null)return s;s=null}else if(p===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;s=null}else f!==s&&(s=null)}}return $d=s,null}function PR(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xt()){case Ft:return 2;case ur:return 8;case Wt:case wn:return 32;case qn:return 268435456;default:return 32}default:return 32}}var M0=!1,uo=null,so=null,co=null,Ul=new Map,ql=new Map,lo=[],c$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function NR(s,f){switch(s){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":Ul.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(f.pointerId)}}function zl(s,f,p,g,_,T){return s===null||s.nativeEvent!==T?(s={blockedOn:f,domEventName:p,eventSystemFlags:g,nativeEvent:T,targetContainers:[_]},f!==null&&(f=Vu(f),f!==null&&MR(f)),s):(s.eventSystemFlags|=g,f=s.targetContainers,_!==null&&f.indexOf(_)===-1&&f.push(_),s)}function l$(s,f,p,g,_){switch(f){case"focusin":return uo=zl(uo,s,f,p,g,_),!0;case"dragenter":return so=zl(so,s,f,p,g,_),!0;case"mouseover":return co=zl(co,s,f,p,g,_),!0;case"pointerover":var T=_.pointerId;return Ul.set(T,zl(Ul.get(T)||null,s,f,p,g,_)),!0;case"gotpointercapture":return T=_.pointerId,ql.set(T,zl(ql.get(T)||null,s,f,p,g,_)),!0}return!1}function kR(s){var f=Hu(s.target);if(f!==null){var p=i(f);if(p!==null){if(f=p.tag,f===13){if(f=o(p),f!==null){s.blockedOn=f,r6(s.priority,function(){if(p.tag===13){var g=Tr();g=Sg(g);var _=as(p,g);_!==null&&Cr(_,p,g),T0(p,g)}});return}}else if(f===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Wd(s){if(s.blockedOn!==null)return!1;for(var f=s.targetContainers;0<f.length;){var p=R0(s.nativeEvent);if(p===null){p=s.nativeEvent;var g=new p.constructor(p.type,p);Ng=g,p.target.dispatchEvent(g),Ng=null}else return f=Vu(p),f!==null&&MR(f),s.blockedOn=p,!1;f.shift()}return!0}function IR(s,f,p){Wd(s)&&p.delete(f)}function f$(){M0=!1,uo!==null&&Wd(uo)&&(uo=null),so!==null&&Wd(so)&&(so=null),co!==null&&Wd(co)&&(co=null),Ul.forEach(IR),ql.forEach(IR)}function Hd(s,f){s.blockedOn===f&&(s.blockedOn=null,M0||(M0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,f$)))}var Vd=null;function BR(s){Vd!==s&&(Vd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vd===s&&(Vd=null);for(var f=0;f<s.length;f+=3){var p=s[f],g=s[f+1],_=s[f+2];if(typeof g!="function"){if(D0(g||p)===null)continue;break}var T=Vu(p);T!==null&&(s.splice(f,3),f-=3,Dy(T,{pending:!0,data:_,method:p.method,action:g},g,_))}}))}function $l(s){function f(G){return Hd(G,s)}uo!==null&&Hd(uo,s),so!==null&&Hd(so,s),co!==null&&Hd(co,s),Ul.forEach(f),ql.forEach(f);for(var p=0;p<lo.length;p++){var g=lo[p];g.blockedOn===s&&(g.blockedOn=null)}for(;0<lo.length&&(p=lo[0],p.blockedOn===null);)kR(p),p.blockedOn===null&&lo.shift();if(p=(s.ownerDocument||s).$$reactFormReplay,p!=null)for(g=0;g<p.length;g+=3){var _=p[g],T=p[g+1],P=_[cr]||null;if(typeof T=="function")P||BR(p);else if(P){var L=null;if(T&&T.hasAttribute("formAction")){if(_=T,P=T[cr]||null)L=P.formAction;else if(D0(_)!==null)continue}else L=P.action;typeof L=="function"?p[g+1]=L:(p.splice(g,3),g-=3),BR(p)}}}function P0(s){this._internalRoot=s}Gd.prototype.render=P0.prototype.render=function(s){var f=this._internalRoot;if(f===null)throw Error(r(409));var p=f.current,g=Tr();RR(p,g,s,f,null,null)},Gd.prototype.unmount=P0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var f=s.containerInfo;RR(s.current,2,null,s,null,null),Cd(),f[Wu]=null}};function Gd(s){this._internalRoot=s}Gd.prototype.unstable_scheduleHydration=function(s){if(s){var f=JA();s={blockedOn:null,target:s,priority:f};for(var p=0;p<lo.length&&f!==0&&f<lo[p].priority;p++);lo.splice(p,0,s),p===0&&kR(s)}};var LR=e.version;if(LR!=="19.1.0")throw Error(r(527,LR,"19.1.0"));U.findDOMNode=function(s){var f=s._reactInternals;if(f===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=c(f),s=s!==null?l(s):null,s=s===null?null:s.stateNode,s};var h$={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{ti=Kd.inject(h$),tn=Kd}catch{}}return Hl.createRoot=function(s,f){if(!a(s))throw Error(r(299));var p=!1,g="",_=JT,T=eC,P=tC,L=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(g=f.identifierPrefix),f.onUncaughtError!==void 0&&(_=f.onUncaughtError),f.onCaughtError!==void 0&&(T=f.onCaughtError),f.onRecoverableError!==void 0&&(P=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(L=f.unstable_transitionCallbacks)),f=TR(s,1,!1,null,null,p,g,_,T,P,L,null),s[Wu]=f.current,p0(s),new P0(f)},Hl.hydrateRoot=function(s,f,p){if(!a(s))throw Error(r(299));var g=!1,_="",T=JT,P=eC,L=tC,G=null,ae=null;return p!=null&&(p.unstable_strictMode===!0&&(g=!0),p.identifierPrefix!==void 0&&(_=p.identifierPrefix),p.onUncaughtError!==void 0&&(T=p.onUncaughtError),p.onCaughtError!==void 0&&(P=p.onCaughtError),p.onRecoverableError!==void 0&&(L=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(G=p.unstable_transitionCallbacks),p.formState!==void 0&&(ae=p.formState)),f=TR(s,1,!0,f,p??null,g,_,T,P,L,G,ae),f.context=CR(null),p=f.current,g=Tr(),g=Sg(g),_=Gi(g),_.callback=null,Ki(p,_,g),p=g,f.current.lanes=p,Xc(f,p),Ma(f),s[Wu]=f.current,p0(s),new Gd(f)},Hl.version="19.1.0",Hl}var GR;function E$(){if(GR)return I0.exports;GR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),I0.exports=S$(),I0.exports}var A$=E$();const O$=gt(A$);gB();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_f.apply(this,arguments)}var yo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yo||(yo={}));const KR="popstate";function T$(t){t===void 0&&(t={});function e(r,a){let{pathname:i,search:o,hash:u}=r.location;return w_("",{pathname:i,search:o,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Lp(a)}return R$(e,n,null,t)}function Zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yB(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C$(){return Math.random().toString(36).substr(2,8)}function XR(t,e){return{usr:t.state,key:t.key,idx:e}}function w_(t,e,n,r){return n===void 0&&(n=null),_f({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Nc(e):e,{state:n,key:e&&e.key||r||C$()})}function Lp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function R$(t,e,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,u=yo.Pop,c=null,l=h();l==null&&(l=0,o.replaceState(_f({},o.state,{idx:l}),""));function h(){return(o.state||{idx:null}).idx}function d(){u=yo.Pop;let b=h(),w=b==null?null:b-l;l=b,c&&c({action:u,location:x.location,delta:w})}function v(b,w){u=yo.Push;let S=w_(x.location,b,w);l=h()+1;let A=XR(S,l),O=x.createHref(S);try{o.pushState(A,"",O)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(O)}i&&c&&c({action:u,location:x.location,delta:1})}function m(b,w){u=yo.Replace;let S=w_(x.location,b,w);l=h();let A=XR(S,l),O=x.createHref(S);o.replaceState(A,"",O),i&&c&&c({action:u,location:x.location,delta:0})}function y(b){let w=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof b=="string"?b:Lp(b);return S=S.replace(/ $/,"%20"),Zt(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let x={get action(){return u},get location(){return t(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(KR,d),c=b,()=>{a.removeEventListener(KR,d),c=null}},createHref(b){return e(a,b)},createURL:y,encodeLocation(b){let w=y(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:m,go(b){return o.go(b)}};return x}var YR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(YR||(YR={}));function D$(t,e,n){return n===void 0&&(n="/"),M$(t,e,n)}function M$(t,e,n,r){let a=typeof e=="string"?Nc(e):e,i=DS(a.pathname||"/",n);if(i==null)return null;let o=bB(t);P$(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let l=W$(i);u=q$(o[c],l)}return u}function bB(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,u)=>{let c={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Zt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=_o([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(Zt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),bB(i.children,e,h,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:F$(l,i.index),routesMeta:h})};return t.forEach((i,o)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))a(i,o);else for(let c of xB(i.path))a(i,o,c)}),e}function xB(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=xB(r.join("/")),u=[];return u.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function P$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:U$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const N$=/^:[\w-]+$/,k$=3,I$=2,B$=1,L$=10,j$=-2,QR=t=>t==="*";function F$(t,e){let n=t.split("/"),r=n.length;return n.some(QR)&&(r+=j$),e&&(r+=I$),n.filter(a=>!QR(a)).reduce((a,i)=>a+(N$.test(i)?k$:i===""?B$:L$),r)}function U$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function q$(t,e,n){let{routesMeta:r}=t,a={},i="/",o=[];for(let u=0;u<r.length;++u){let c=r[u],l=u===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=z$({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},h),v=c.route;if(!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:_o([i,d.pathname]),pathnameBase:K$(_o([i,d.pathnameBase])),route:v}),d.pathnameBase!=="/"&&(i=_o([i,d.pathnameBase]))}return o}function z$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$$(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((l,h,d)=>{let{paramName:v,isOptional:m}=h;if(v==="*"){let x=u[d]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=u[d];return m&&!y?l[v]=void 0:l[v]=(y||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:t}}function $$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yB(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function W$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yB(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function DS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function H$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Nc(t):t;return{pathname:n?n.startsWith("/")?n:V$(n,e):e,search:X$(r),hash:Y$(a)}}function V$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function F0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function MS(t,e){let n=G$(t);return e?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function PS(t,e,n,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=Nc(t):(a=_f({},t),Zt(!a.pathname||!a.pathname.includes("?"),F0("?","pathname","search",a)),Zt(!a.pathname||!a.pathname.includes("#"),F0("#","pathname","hash",a)),Zt(!a.search||!a.search.includes("#"),F0("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,u;if(o==null)u=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),d-=1;a.pathname=v.join("/")}u=d>=0?e[d]:"/"}let c=H$(a,u),l=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||h)&&(c.pathname+="/"),c}const _o=t=>t.join("/").replace(/\/\/+/g,"/"),K$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),X$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Y$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Q$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wB=["post","put","patch","delete"];new Set(wB);const Z$=["get",...wB];new Set(Z$);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sf(){return Sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sf.apply(this,arguments)}const NS=Q.createContext(null),J$=Q.createContext(null),Po=Q.createContext(null),im=Q.createContext(null),No=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),_B=Q.createContext(null);function e8(t,e){let{relative:n}=e===void 0?{}:e;kc()||Zt(!1);let{basename:r,navigator:a}=Q.useContext(Po),{hash:i,pathname:o,search:u}=EB(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:_o([r,o])),a.createHref({pathname:c,search:u,hash:i})}function kc(){return Q.useContext(im)!=null}function ph(){return kc()||Zt(!1),Q.useContext(im).location}function SB(t){Q.useContext(Po).static||Q.useLayoutEffect(t)}function om(){let{isDataRoute:t}=Q.useContext(No);return t?d8():t8()}function t8(){kc()||Zt(!1);let t=Q.useContext(NS),{basename:e,future:n,navigator:r}=Q.useContext(Po),{matches:a}=Q.useContext(No),{pathname:i}=ph(),o=JSON.stringify(MS(a,n.v7_relativeSplatPath)),u=Q.useRef(!1);return SB(()=>{u.current=!0}),Q.useCallback(function(l,h){if(h===void 0&&(h={}),!u.current)return;if(typeof l=="number"){r.go(l);return}let d=PS(l,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_o([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,i,t])}function EB(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Q.useContext(Po),{matches:a}=Q.useContext(No),{pathname:i}=ph(),o=JSON.stringify(MS(a,r.v7_relativeSplatPath));return Q.useMemo(()=>PS(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function n8(t,e){return r8(t,e)}function r8(t,e,n,r){kc()||Zt(!1);let{navigator:a,static:i}=Q.useContext(Po),{matches:o}=Q.useContext(No),u=o[o.length-1],c=u?u.params:{};u&&u.pathname;let l=u?u.pathnameBase:"/";u&&u.route;let h=ph(),d;if(e){var v;let w=typeof e=="string"?Nc(e):e;l==="/"||(v=w.pathname)!=null&&v.startsWith(l)||Zt(!1),d=w}else d=h;let m=d.pathname||"/",y=m;if(l!=="/"){let w=l.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=D$(t,{pathname:y}),b=s8(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:_o([l,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:_o([l,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&b?Q.createElement(im.Provider,{value:{location:Sf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:yo.Pop}},b):b}function a8(){let t=h8(),e=Q$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:a},n):null,null)}const i8=Q.createElement(a8,null);class o8 extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Q.createElement(No.Provider,{value:this.props.routeContext},Q.createElement(_B.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u8(t){let{routeContext:e,match:n,children:r}=t,a=Q.useContext(NS);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(No.Provider,{value:e},r)}function s8(t,e,n,r){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=(a=n)==null?void 0:a.errors;if(u!=null){let h=o.findIndex(d=>d.route.id&&(u==null?void 0:u[d.route.id])!==void 0);h>=0||Zt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=h),d.route.id){let{loaderData:v,errors:m}=n,y=d.route.loader&&v[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((h,d,v)=>{let m,y=!1,x=null,b=null;n&&(m=u&&d.route.id?u[d.route.id]:void 0,x=d.route.errorElement||i8,c&&(l<0&&v===0?(p8("route-fallback"),y=!0,b=null):l===v&&(y=!0,b=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,v+1)),S=()=>{let A;return m?A=x:y?A=b:d.route.Component?A=Q.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=h,Q.createElement(u8,{match:d,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:A})};return n&&(d.route.ErrorBoundary||d.route.errorElement||v===0)?Q.createElement(o8,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var AB=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(AB||{}),OB=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(OB||{});function c8(t){let e=Q.useContext(NS);return e||Zt(!1),e}function l8(t){let e=Q.useContext(J$);return e||Zt(!1),e}function f8(t){let e=Q.useContext(No);return e||Zt(!1),e}function TB(t){let e=f8(),n=e.matches[e.matches.length-1];return n.route.id||Zt(!1),n.route.id}function h8(){var t;let e=Q.useContext(_B),n=l8(),r=TB();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function d8(){let{router:t}=c8(AB.UseNavigateStable),e=TB(OB.UseNavigateStable),n=Q.useRef(!1);return SB(()=>{n.current=!0}),Q.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Sf({fromRouteId:e},i)))},[t,e])}const ZR={};function p8(t,e,n){ZR[t]||(ZR[t]=!0)}function v8(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Vl(t){let{to:e,replace:n,state:r,relative:a}=t;kc()||Zt(!1);let{future:i,static:o}=Q.useContext(Po),{matches:u}=Q.useContext(No),{pathname:c}=ph(),l=om(),h=PS(e,MS(u,i.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(h);return Q.useEffect(()=>l(JSON.parse(d),{replace:n,state:r,relative:a}),[l,d,a,n,r]),null}function Bs(t){Zt(!1)}function m8(t){let{basename:e="/",children:n=null,location:r,navigationType:a=yo.Pop,navigator:i,static:o=!1,future:u}=t;kc()&&Zt(!1);let c=e.replace(/^\/*/,"/"),l=Q.useMemo(()=>({basename:c,navigator:i,static:o,future:Sf({v7_relativeSplatPath:!1},u)}),[c,u,i,o]);typeof r=="string"&&(r=Nc(r));let{pathname:h="/",search:d="",hash:v="",state:m=null,key:y="default"}=r,x=Q.useMemo(()=>{let b=DS(h,c);return b==null?null:{location:{pathname:b,search:d,hash:v,state:m,key:y},navigationType:a}},[c,h,d,v,m,y,a]);return x==null?null:Q.createElement(Po.Provider,{value:l},Q.createElement(im.Provider,{children:n,value:x}))}function g8(t){let{children:e,location:n}=t;return n8(__(e),n)}new Promise(()=>{});function __(t,e){e===void 0&&(e=[]);let n=[];return Q.Children.forEach(t,(r,a)=>{if(!Q.isValidElement(r))return;let i=[...e,a];if(r.type===Q.Fragment){n.push.apply(n,__(r.props.children,i));return}r.type!==Bs&&Zt(!1),!r.props.index||!r.props.children||Zt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=__(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(this,arguments)}function y8(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function b8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function x8(t,e){return t.button===0&&(!e||e==="_self")&&!b8(t)}const w8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_8="6";try{window.__reactRouterVersion=_8}catch{}const S8="startTransition",JR=b$[S8];function E8(t){let{basename:e,children:n,future:r,window:a}=t,i=Q.useRef();i.current==null&&(i.current=T$({window:a,v5Compat:!0}));let o=i.current,[u,c]=Q.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},h=Q.useCallback(d=>{l&&JR?JR(()=>c(d)):c(d)},[c,l]);return Q.useLayoutEffect(()=>o.listen(h),[o,h]),Q.useEffect(()=>v8(r),[r]),Q.createElement(m8,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}const A8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T8=Q.forwardRef(function(e,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:u,target:c,to:l,preventScrollReset:h,viewTransition:d}=e,v=y8(e,w8),{basename:m}=Q.useContext(Po),y,x=!1;if(typeof l=="string"&&O8.test(l)&&(y=l,A8))try{let A=new URL(window.location.href),O=l.startsWith("//")?new URL(A.protocol+l):new URL(l),E=DS(O.pathname,m);O.origin===A.origin&&E!=null?l=E+O.search+O.hash:x=!0}catch{}let b=e8(l,{relative:a}),w=C8(l,{replace:o,state:u,target:c,preventScrollReset:h,relative:a,viewTransition:d});function S(A){r&&r(A),A.defaultPrevented||w(A)}return Q.createElement("a",S_({},v,{href:y||b,onClick:x||i?r:S,ref:n,target:c}))});var eD;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(eD||(eD={}));var tD;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tD||(tD={}));function C8(t,e){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:u}=e===void 0?{}:e,c=om(),l=ph(),h=EB(t,{relative:o});return Q.useCallback(d=>{if(x8(d,n)){d.preventDefault();let v=r!==void 0?r:Lp(l)===Lp(h);c(t,{replace:v,state:a,preventScrollReset:i,relative:o,viewTransition:u})}},[l,c,h,r,a,n,t,i,o,u])}const Ha=Object.create(null);Ha.open="0";Ha.close="1";Ha.ping="2";Ha.pong="3";Ha.message="4";Ha.upgrade="5";Ha.noop="6";const Op=Object.create(null);Object.keys(Ha).forEach(t=>{Op[Ha[t]]=t});const E_={type:"error",data:"parser error"},CB=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",RB=typeof ArrayBuffer=="function",DB=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,kS=({type:t,data:e},n,r)=>CB&&e instanceof Blob?n?r(e):nD(e,r):RB&&(e instanceof ArrayBuffer||DB(e))?n?r(e):nD(new Blob([e]),r):r(Ha[t]+(e||"")),nD=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function rD(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let U0;function R8(t,e){if(CB&&t.data instanceof Blob)return t.data.arrayBuffer().then(rD).then(e);if(RB&&(t.data instanceof ArrayBuffer||DB(t.data)))return e(rD(t.data));kS(t,!1,n=>{U0||(U0=new TextEncoder),e(U0.encode(n))})}const aD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<aD.length;t++)cf[aD.charCodeAt(t)]=t;const D8=t=>{let e=t.length*.75,n=t.length,r,a=0,i,o,u,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const l=new ArrayBuffer(e),h=new Uint8Array(l);for(r=0;r<n;r+=4)i=cf[t.charCodeAt(r)],o=cf[t.charCodeAt(r+1)],u=cf[t.charCodeAt(r+2)],c=cf[t.charCodeAt(r+3)],h[a++]=i<<2|o>>4,h[a++]=(o&15)<<4|u>>2,h[a++]=(u&3)<<6|c&63;return l},M8=typeof ArrayBuffer=="function",IS=(t,e)=>{if(typeof t!="string")return{type:"message",data:MB(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:P8(t.substring(1),e)}:Op[n]?t.length>1?{type:Op[n],data:t.substring(1)}:{type:Op[n]}:E_},P8=(t,e)=>{if(M8){const n=D8(t);return MB(n,e)}else return{base64:!0,data:t}},MB=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},PB="",N8=(t,e)=>{const n=t.length,r=new Array(n);let a=0;t.forEach((i,o)=>{kS(i,!1,u=>{r[o]=u,++a===n&&e(r.join(PB))})})},k8=(t,e)=>{const n=t.split(PB),r=[];for(let a=0;a<n.length;a++){const i=IS(n[a],e);if(r.push(i),i.type==="error")break}return r};function I8(){return new TransformStream({transform(t,e){R8(t,n=>{const r=n.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(n)})}})}let q0;function Yd(t){return t.reduce((e,n)=>e+n.length,0)}function Qd(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let a=0;a<e;a++)n[a]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function B8(t,e){q0||(q0=new TextDecoder);const n=[];let r=0,a=-1,i=!1;return new TransformStream({transform(o,u){for(n.push(o);;){if(r===0){if(Yd(n)<1)break;const c=Qd(n,1);i=(c[0]&128)===128,a=c[0]&127,a<126?r=3:a===126?r=1:r=2}else if(r===1){if(Yd(n)<2)break;const c=Qd(n,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Yd(n)<8)break;const c=Qd(n,8),l=new DataView(c.buffer,c.byteOffset,c.length),h=l.getUint32(0);if(h>Math.pow(2,21)-1){u.enqueue(E_);break}a=h*Math.pow(2,32)+l.getUint32(4),r=3}else{if(Yd(n)<a)break;const c=Qd(n,a);u.enqueue(IS(i?c:q0.decode(c),e)),r=0}if(a===0||a>t){u.enqueue(E_);break}}}})}const NB=4;function un(t){if(t)return L8(t)}function L8(t){for(var e in un.prototype)t[e]=un.prototype[e];return t}un.prototype.on=un.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};un.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};un.prototype.off=un.prototype.removeListener=un.prototype.removeAllListeners=un.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,a=0;a<n.length;a++)if(r=n[a],r===e||r.fn===e){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+t],this};un.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,a=n.length;r<a;++r)n[r].apply(this,e)}return this};un.prototype.emitReserved=un.prototype.emit;un.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};un.prototype.hasListeners=function(t){return!!this.listeners(t).length};const um=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Zr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),j8="arraybuffer";function kB(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const F8=Zr.setTimeout,U8=Zr.clearTimeout;function sm(t,e){e.useNativeTimers?(t.setTimeoutFn=F8.bind(Zr),t.clearTimeoutFn=U8.bind(Zr)):(t.setTimeoutFn=Zr.setTimeout.bind(Zr),t.clearTimeoutFn=Zr.clearTimeout.bind(Zr))}const q8=1.33;function z8(t){return typeof t=="string"?$8(t):Math.ceil((t.byteLength||t.size)*q8)}function $8(t){let e=0,n=0;for(let r=0,a=t.length;r<a;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function IB(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function W8(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function H8(t){let e={},n=t.split("&");for(let r=0,a=n.length;r<a;r++){let i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class V8 extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class BS extends un{constructor(e){super(),this.writable=!1,sm(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new V8(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=IS(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=W8(e);return n.length?"?"+n:""}}class G8 extends BS{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};k8(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,N8(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=IB()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let BB=!1;try{BB=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const K8=BB;function X8(){}class Y8 extends G8{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let Vs=class Tp extends un{constructor(e,n,r){super(),this.createRequest=e,sm(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=kB(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var a;r.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Tp.requestsCount++,Tp.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=X8,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Tp.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Vs.requestsCount=0;Vs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",iD);else if(typeof addEventListener=="function"){const t="onpagehide"in Zr?"pagehide":"unload";addEventListener(t,iD,!1)}}function iD(){for(let t in Vs.requests)Vs.requests.hasOwnProperty(t)&&Vs.requests[t].abort()}const Q8=function(){const t=LB({xdomain:!1});return t&&t.responseType!==null}();class Z8 extends Y8{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Q8&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Vs(LB,this.uri(),e)}}function LB(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||K8))return new XMLHttpRequest}catch{}if(!e)try{return new Zr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const jB=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class J8 extends BS{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=jB?{}:kB(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],a=n===e.length-1;kS(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}a&&um(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=IB()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const z0=Zr.WebSocket||Zr.MozWebSocket;class eW extends J8{createSocket(e,n,r){return jB?new z0(e,n,r):n?new z0(e,n):new z0(e)}doWrite(e,n){this.ws.send(n)}}class tW extends BS{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=B8(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),a=I8();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const i=()=>{r.read().then(({done:u,value:c})=>{u||(this.onPacket(c),i())}).catch(u=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],a=n===e.length-1;this._writer.write(r).then(()=>{a&&um(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const nW={websocket:eW,webtransport:tW,polling:Z8},rW=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,aW=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function A_(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let a=rW.exec(t||""),i={},o=14;for(;o--;)i[aW[o]]=a[o]||"";return n!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=iW(i,i.path),i.queryKey=oW(i,i.query),i}function iW(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function oW(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,a,i){a&&(n[a]=i)}),n}const O_=typeof addEventListener=="function"&&typeof removeEventListener=="function",Cp=[];O_&&addEventListener("offline",()=>{Cp.forEach(t=>t())},!1);class So extends un{constructor(e,n){if(super(),this.binaryType=j8,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=A_(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=A_(n.host).host);sm(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const a=r.prototype.name;this.transports.push(a),this._transportsByName[a]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=H8(this.opts.query)),O_&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Cp.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=NB,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&So.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",So.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const a=this.writeBuffer[r].data;if(a&&(n+=z8(a)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,um(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,a){if(typeof n=="function"&&(a=n,n=void 0),typeof r=="function"&&(a=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(So.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),O_&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Cp.indexOf(this._offlineEventListener);r!==-1&&Cp.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}So.protocol=NB;class uW extends So{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;So.priorWebsocketSuccess=!1;const a=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;So.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=n.name,this.emitReserved("upgradeError",v)}}))};function i(){r||(r=!0,h(),n.close(),n=null)}const o=d=>{const v=new Error("probe error: "+d);v.transport=n.name,i(),this.emitReserved("upgradeError",v)};function u(){o("transport closed")}function c(){o("socket closed")}function l(d){n&&d.name!==n.name&&i()}const h=()=>{n.removeListener("open",a),n.removeListener("error",o),n.removeListener("close",u),this.off("close",c),this.off("upgrading",l)};n.once("open",a),n.once("error",o),n.once("close",u),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let sW=class extends uW{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(a=>nW[a]).filter(a=>!!a)),super(e,r)}};function cW(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=A_(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const lW=typeof ArrayBuffer=="function",fW=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,FB=Object.prototype.toString,hW=typeof Blob=="function"||typeof Blob<"u"&&FB.call(Blob)==="[object BlobConstructor]",dW=typeof File=="function"||typeof File<"u"&&FB.call(File)==="[object FileConstructor]";function LS(t){return lW&&(t instanceof ArrayBuffer||fW(t))||hW&&t instanceof Blob||dW&&t instanceof File}function Rp(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Rp(t[n]))return!0;return!1}if(LS(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Rp(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Rp(t[n]))return!0;return!1}function pW(t){const e=[],n=t.data,r=t;return r.data=T_(n,e),r.attachments=e.length,{packet:r,buffers:e}}function T_(t,e){if(!t)return t;if(LS(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=T_(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=T_(t[r],e));return n}return t}function vW(t,e){return t.data=C_(t.data,e),delete t.attachments,t}function C_(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=C_(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=C_(t[n],e));return t}const mW=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],gW=5;var lt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(lt||(lt={}));class yW{constructor(e){this.replacer=e}encode(e){return(e.type===lt.EVENT||e.type===lt.ACK)&&Rp(e)?this.encodeAsBinary({type:e.type===lt.EVENT?lt.BINARY_EVENT:lt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===lt.BINARY_EVENT||e.type===lt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=pW(e),r=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(r),a}}function oD(t){return Object.prototype.toString.call(t)==="[object Object]"}class jS extends un{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===lt.BINARY_EVENT;r||n.type===lt.BINARY_ACK?(n.type=r?lt.EVENT:lt.ACK,this.reconstructor=new bW(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(LS(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(lt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===lt.BINARY_EVENT||r.type===lt.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(i,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(i,n)}else r.nsp="/";const a=e.charAt(n+1);if(a!==""&&Number(a)==a){const i=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(jS.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case lt.CONNECT:return oD(n);case lt.DISCONNECT:return n===void 0;case lt.CONNECT_ERROR:return typeof n=="string"||oD(n);case lt.EVENT:case lt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&mW.indexOf(n[0])===-1);case lt.ACK:case lt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class bW{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=vW(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const xW=Object.freeze(Object.defineProperty({__proto__:null,Decoder:jS,Encoder:yW,get PacketType(){return lt},protocol:gW},Symbol.toStringTag,{value:"Module"}));function va(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const wW=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class UB extends un{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[va(e,"open",this.onopen.bind(this)),va(e,"packet",this.onpacket.bind(this)),va(e,"error",this.onerror.bind(this)),va(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,a,i;if(wW.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:lt.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const h=this.ids++,d=n.pop();this._registerAckCallback(h,d),o.id=h}const u=(a=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||a===void 0?void 0:a.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!u||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const a=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(a===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===e&&this.sendBuffer.splice(u,1);n.call(this,new Error("operation has timed out"))},a),o=(...u)=>{this.io.clearTimeoutFn(i),n.apply(this,u)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,a)=>{const i=(o,u)=>o?a(o):r(u);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...i)=>r!==this._queue[0]?void 0:(a!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:lt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case lt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case lt.EVENT:case lt.BINARY_EVENT:this.onevent(e);break;case lt.ACK:case lt.BINARY_ACK:this.onack(e);break;case lt.DISCONNECT:this.ondisconnect();break;case lt.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...a){r||(r=!0,n.packet({type:lt.ACK,id:e,data:a}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:lt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Ic(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ic.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Ic.prototype.reset=function(){this.attempts=0};Ic.prototype.setMin=function(t){this.ms=t};Ic.prototype.setMax=function(t){this.max=t};Ic.prototype.setJitter=function(t){this.jitter=t};class R_ extends un{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,sm(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ic({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const a=n.parser||xW;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new sW(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const a=va(n,"open",function(){r.onopen(),e&&e()}),i=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),e?e(u):this.maybeReconnectOnOpen()},o=va(n,"error",i);if(this._timeout!==!1){const u=this._timeout,c=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),n.close()},u);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(va(e,"ping",this.onping.bind(this)),va(e,"data",this.ondata.bind(this)),va(e,"error",this.onerror.bind(this)),va(e,"close",this.onclose.bind(this)),va(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){um(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new UB(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Gl={};function Dp(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=cW(t,e.path||"/socket.io"),r=n.source,a=n.id,i=n.path,o=Gl[a]&&i in Gl[a].nsps,u=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return u?c=new R_(r,e):(Gl[a]||(Gl[a]=new R_(r,e)),c=Gl[a]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(Dp,{Manager:R_,Socket:UB,io:Dp,connect:Dp});function qB(t,e){return function(){return t.apply(e,arguments)}}const{toString:_W}=Object.prototype,{getPrototypeOf:FS}=Object,cm=(t=>e=>{const n=_W.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Sa=t=>(t=t.toLowerCase(),e=>cm(e)===t),lm=t=>e=>typeof e===t,{isArray:Bc}=Array,Ef=lm("undefined");function SW(t){return t!==null&&!Ef(t)&&t.constructor!==null&&!Ef(t.constructor)&&Lr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const zB=Sa("ArrayBuffer");function EW(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&zB(t.buffer),e}const AW=lm("string"),Lr=lm("function"),$B=lm("number"),fm=t=>t!==null&&typeof t=="object",OW=t=>t===!0||t===!1,Mp=t=>{if(cm(t)!=="object")return!1;const e=FS(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},TW=Sa("Date"),CW=Sa("File"),RW=Sa("Blob"),DW=Sa("FileList"),MW=t=>fm(t)&&Lr(t.pipe),PW=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Lr(t.append)&&((e=cm(t))==="formdata"||e==="object"&&Lr(t.toString)&&t.toString()==="[object FormData]"))},NW=Sa("URLSearchParams"),[kW,IW,BW,LW]=["ReadableStream","Request","Response","Headers"].map(Sa),jW=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),Bc(t))for(r=0,a=t.length;r<a;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let u;for(r=0;r<o;r++)u=i[r],e.call(null,t[u],u,t)}}function WB(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],e===a.toLowerCase())return a;return null}const pu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HB=t=>!Ef(t)&&t!==pu;function D_(){const{caseless:t}=HB(this)&&this||{},e={},n=(r,a)=>{const i=t&&WB(e,a)||a;Mp(e[i])&&Mp(r)?e[i]=D_(e[i],r):Mp(r)?e[i]=D_({},r):Bc(r)?e[i]=r.slice():e[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&vh(arguments[r],n);return e}const FW=(t,e,n,{allOwnKeys:r}={})=>(vh(e,(a,i)=>{n&&Lr(a)?t[i]=qB(a,n):t[i]=a},{allOwnKeys:r}),t),UW=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),qW=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},zW=(t,e,n,r)=>{let a,i,o;const u={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)o=a[i],(!r||r(o,t,e))&&!u[o]&&(e[o]=t[o],u[o]=!0);t=n!==!1&&FS(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},$W=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},WW=t=>{if(!t)return null;if(Bc(t))return t;let e=t.length;if(!$B(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},HW=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&FS(Uint8Array)),VW=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=r.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},GW=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},KW=Sa("HTMLFormElement"),XW=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),uD=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),YW=Sa("RegExp"),VB=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};vh(n,(a,i)=>{let o;(o=e(a,i,t))!==!1&&(r[i]=o||a)}),Object.defineProperties(t,r)},QW=t=>{VB(t,(e,n)=>{if(Lr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Lr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ZW=(t,e)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return Bc(t)?r(t):r(String(t).split(e)),n},JW=()=>{},eH=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function tH(t){return!!(t&&Lr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const nH=t=>{const e=new Array(10),n=(r,a)=>{if(fm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[a]=r;const i=Bc(r)?[]:{};return vh(r,(o,u)=>{const c=n(o,a+1);!Ef(c)&&(i[u]=c)}),e[a]=void 0,i}}return r};return n(t,0)},rH=Sa("AsyncFunction"),aH=t=>t&&(fm(t)||Lr(t))&&Lr(t.then)&&Lr(t.catch),GB=((t,e)=>t?setImmediate:e?((n,r)=>(pu.addEventListener("message",({source:a,data:i})=>{a===pu&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),pu.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Lr(pu.postMessage)),iH=typeof queueMicrotask<"u"?queueMicrotask.bind(pu):typeof process<"u"&&process.nextTick||GB,ce={isArray:Bc,isArrayBuffer:zB,isBuffer:SW,isFormData:PW,isArrayBufferView:EW,isString:AW,isNumber:$B,isBoolean:OW,isObject:fm,isPlainObject:Mp,isReadableStream:kW,isRequest:IW,isResponse:BW,isHeaders:LW,isUndefined:Ef,isDate:TW,isFile:CW,isBlob:RW,isRegExp:YW,isFunction:Lr,isStream:MW,isURLSearchParams:NW,isTypedArray:HW,isFileList:DW,forEach:vh,merge:D_,extend:FW,trim:jW,stripBOM:UW,inherits:qW,toFlatObject:zW,kindOf:cm,kindOfTest:Sa,endsWith:$W,toArray:WW,forEachEntry:VW,matchAll:GW,isHTMLForm:KW,hasOwnProperty:uD,hasOwnProp:uD,reduceDescriptors:VB,freezeMethods:QW,toObjectSet:ZW,toCamelCase:XW,noop:JW,toFiniteNumber:eH,findKey:WB,global:pu,isContextDefined:HB,isSpecCompliantForm:tH,toJSONObject:nH,isAsyncFn:rH,isThenable:aH,setImmediate:GB,asap:iH};function Je(t,e,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}ce.inherits(Je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.status}}});const KB=Je.prototype,XB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{XB[t]={value:t}});Object.defineProperties(Je,XB);Object.defineProperty(KB,"isAxiosError",{value:!0});Je.from=(t,e,n,r,a,i)=>{const o=Object.create(KB);return ce.toFlatObject(t,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError"),Je.call(o,t.message,e,n,r,a),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const oH=null;function M_(t){return ce.isPlainObject(t)||ce.isArray(t)}function YB(t){return ce.endsWith(t,"[]")?t.slice(0,-2):t}function sD(t,e,n){return t?t.concat(e).map(function(a,i){return a=YB(a),!n&&i?"["+a+"]":a}).join(n?".":""):e}function uH(t){return ce.isArray(t)&&!t.some(M_)}const sH=ce.toFlatObject(ce,{},null,function(e){return/^is[A-Z]/.test(e)});function hm(t,e,n){if(!ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!ce.isUndefined(b[x])});const r=n.metaTokens,a=n.visitor||h,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(e);if(!ce.isFunction(a))throw new TypeError("visitor must be a function");function l(y){if(y===null)return"";if(ce.isDate(y))return y.toISOString();if(!c&&ce.isBlob(y))throw new Je("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(y)||ce.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function h(y,x,b){let w=y;if(y&&!b&&typeof y=="object"){if(ce.endsWith(x,"{}"))x=r?x:x.slice(0,-2),y=JSON.stringify(y);else if(ce.isArray(y)&&uH(y)||(ce.isFileList(y)||ce.endsWith(x,"[]"))&&(w=ce.toArray(y)))return x=YB(x),w.forEach(function(A,O){!(ce.isUndefined(A)||A===null)&&e.append(o===!0?sD([x],O,i):o===null?x:x+"[]",l(A))}),!1}return M_(y)?!0:(e.append(sD(b,x,i),l(y)),!1)}const d=[],v=Object.assign(sH,{defaultVisitor:h,convertValue:l,isVisitable:M_});function m(y,x){if(!ce.isUndefined(y)){if(d.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));d.push(y),ce.forEach(y,function(w,S){(!(ce.isUndefined(w)||w===null)&&a.call(e,w,ce.isString(S)?S.trim():S,x,v))===!0&&m(w,x?x.concat(S):[S])}),d.pop()}}if(!ce.isObject(t))throw new TypeError("data must be an object");return m(t),e}function cD(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function US(t,e){this._pairs=[],t&&hm(t,this,e)}const QB=US.prototype;QB.append=function(e,n){this._pairs.push([e,n])};QB.toString=function(e){const n=e?function(r){return e.call(this,r,cD)}:cD;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function cH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZB(t,e,n){if(!e)return t;const r=n&&n.encode||cH;ce.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(e,n):i=ce.isURLSearchParams(e)?e.toString():new US(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class lD{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ce.forEach(this.handlers,function(r){r!==null&&e(r)})}}const JB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lH=typeof URLSearchParams<"u"?URLSearchParams:US,fH=typeof FormData<"u"?FormData:null,hH=typeof Blob<"u"?Blob:null,dH={isBrowser:!0,classes:{URLSearchParams:lH,FormData:fH,Blob:hH},protocols:["http","https","file","blob","url","data"]},qS=typeof window<"u"&&typeof document<"u",P_=typeof navigator=="object"&&navigator||void 0,pH=qS&&(!P_||["ReactNative","NativeScript","NS"].indexOf(P_.product)<0),vH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mH=qS&&window.location.href||"http://localhost",gH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qS,hasStandardBrowserEnv:pH,hasStandardBrowserWebWorkerEnv:vH,navigator:P_,origin:mH},Symbol.toStringTag,{value:"Module"})),Xn={...gH,...dH};function yH(t,e){return hm(t,new Xn.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return Xn.isNode&&ce.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function bH(t){return ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function xH(t){const e={},n=Object.keys(t);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],e[i]=t[i];return e}function eL(t){function e(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const u=Number.isFinite(+o),c=i>=n.length;return o=!o&&ce.isArray(a)?a.length:o,c?(ce.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!u):((!a[o]||!ce.isObject(a[o]))&&(a[o]=[]),e(n,r,a[o],i)&&ce.isArray(a[o])&&(a[o]=xH(a[o])),!u)}if(ce.isFormData(t)&&ce.isFunction(t.entries)){const n={};return ce.forEachEntry(t,(r,a)=>{e(bH(r),a,n,0)}),n}return null}function wH(t,e,n){if(ce.isString(t))try{return(e||JSON.parse)(t),ce.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const mh={transitional:JB,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=ce.isObject(e);if(i&&ce.isHTMLForm(e)&&(e=new FormData(e)),ce.isFormData(e))return a?JSON.stringify(eL(e)):e;if(ce.isArrayBuffer(e)||ce.isBuffer(e)||ce.isStream(e)||ce.isFile(e)||ce.isBlob(e)||ce.isReadableStream(e))return e;if(ce.isArrayBufferView(e))return e.buffer;if(ce.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return yH(e,this.formSerializer).toString();if((u=ce.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return hm(u?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),wH(e)):e}],transformResponse:[function(e){const n=this.transitional||mh.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(ce.isResponse(e)||ce.isReadableStream(e))return e;if(e&&ce.isString(e)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(u){if(o)throw u.name==="SyntaxError"?Je.from(u,Je.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xn.classes.FormData,Blob:Xn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],t=>{mh.headers[t]={}});const _H=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),SH=t=>{const e={};let n,r,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||e[n]&&_H[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},fD=Symbol("internals");function Kl(t){return t&&String(t).trim().toLowerCase()}function Pp(t){return t===!1||t==null?t:ce.isArray(t)?t.map(Pp):String(t)}function EH(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const AH=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $0(t,e,n,r,a){if(ce.isFunction(r))return r.call(this,e,n);if(a&&(e=n),!!ce.isString(e)){if(ce.isString(r))return e.indexOf(r)!==-1;if(ce.isRegExp(r))return r.test(e)}}function OH(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function TH(t,e){const n=ce.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,i,o){return this[r].call(this,e,a,i,o)},configurable:!0})})}let gr=class{constructor(e){e&&this.set(e)}set(e,n,r){const a=this;function i(u,c,l){const h=Kl(c);if(!h)throw new Error("header name must be a non-empty string");const d=ce.findKey(a,h);(!d||a[d]===void 0||l===!0||l===void 0&&a[d]!==!1)&&(a[d||c]=Pp(u))}const o=(u,c)=>ce.forEach(u,(l,h)=>i(l,h,c));if(ce.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(ce.isString(e)&&(e=e.trim())&&!AH(e))o(SH(e),n);else if(ce.isHeaders(e))for(const[u,c]of e.entries())i(c,u,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=Kl(e),e){const r=ce.findKey(this,e);if(r){const a=this[r];if(!n)return a;if(n===!0)return EH(a);if(ce.isFunction(n))return n.call(this,a,r);if(ce.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Kl(e),e){const r=ce.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||$0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let a=!1;function i(o){if(o=Kl(o),o){const u=ce.findKey(r,o);u&&(!n||$0(r,r[u],u,n))&&(delete r[u],a=!0)}}return ce.isArray(e)?e.forEach(i):i(e),a}clear(e){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!e||$0(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const n=this,r={};return ce.forEach(this,(a,i)=>{const o=ce.findKey(r,i);if(o){n[o]=Pp(a),delete n[i];return}const u=e?OH(i):String(i).trim();u!==i&&delete n[i],n[u]=Pp(a),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ce.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=e&&ce.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[fD]=this[fD]={accessors:{}}).accessors,a=this.prototype;function i(o){const u=Kl(o);r[u]||(TH(a,o),r[u]=!0)}return ce.isArray(e)?e.forEach(i):i(e),this}};gr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(gr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ce.freezeMethods(gr);function W0(t,e){const n=this||mh,r=e||n,a=gr.from(r.headers);let i=r.data;return ce.forEach(t,function(u){i=u.call(n,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function tL(t){return!!(t&&t.__CANCEL__)}function Lc(t,e,n){Je.call(this,t??"canceled",Je.ERR_CANCELED,e,n),this.name="CanceledError"}ce.inherits(Lc,Je,{__CANCEL__:!0});function nL(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Je("Request failed with status code "+n.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function CH(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function RH(t,e){t=t||10;const n=new Array(t),r=new Array(t);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),h=r[i];o||(o=l),n[a]=c,r[a]=l;let d=i,v=0;for(;d!==a;)v+=n[d++],d=d%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),l-o<e)return;const m=h&&l-h;return m?Math.round(v*1e3/m):void 0}}function DH(t,e){let n=0,r=1e3/e,a,i;const o=(l,h=Date.now())=>{n=h,a=null,i&&(clearTimeout(i),i=null),t.apply(null,l)};return[(...l)=>{const h=Date.now(),d=h-n;d>=r?o(l,h):(a=l,i||(i=setTimeout(()=>{i=null,o(a)},r-d)))},()=>a&&o(a)]}const jp=(t,e,n=3)=>{let r=0;const a=RH(50,250);return DH(i=>{const o=i.loaded,u=i.lengthComputable?i.total:void 0,c=o-r,l=a(c),h=o<=u;r=o;const d={loaded:o,total:u,progress:u?o/u:void 0,bytes:c,rate:l||void 0,estimated:l&&u&&h?(u-o)/l:void 0,event:i,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(d)},n)},hD=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},dD=t=>(...e)=>ce.asap(()=>t(...e)),MH=Xn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Xn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Xn.origin),Xn.navigator&&/(msie|trident)/i.test(Xn.navigator.userAgent)):()=>!0,PH=Xn.hasStandardBrowserEnv?{write(t,e,n,r,a,i){const o=[t+"="+encodeURIComponent(e)];ce.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ce.isString(r)&&o.push("path="+r),ce.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function NH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function kH(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function rL(t,e,n){let r=!NH(e);return t&&(r||n==!1)?kH(t,e):e}const pD=t=>t instanceof gr?{...t}:t;function Au(t,e){e=e||{};const n={};function r(l,h,d,v){return ce.isPlainObject(l)&&ce.isPlainObject(h)?ce.merge.call({caseless:v},l,h):ce.isPlainObject(h)?ce.merge({},h):ce.isArray(h)?h.slice():h}function a(l,h,d,v){if(ce.isUndefined(h)){if(!ce.isUndefined(l))return r(void 0,l,d,v)}else return r(l,h,d,v)}function i(l,h){if(!ce.isUndefined(h))return r(void 0,h)}function o(l,h){if(ce.isUndefined(h)){if(!ce.isUndefined(l))return r(void 0,l)}else return r(void 0,h)}function u(l,h,d){if(d in e)return r(l,h);if(d in t)return r(void 0,l)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:(l,h,d)=>a(pD(l),pD(h),d,!0)};return ce.forEach(Object.keys(Object.assign({},t,e)),function(h){const d=c[h]||a,v=d(t[h],e[h],h);ce.isUndefined(v)&&d!==u||(n[h]=v)}),n}const aL=t=>{const e=Au({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:u}=e;e.headers=o=gr.from(o),e.url=ZB(rL(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&o.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let c;if(ce.isFormData(n)){if(Xn.hasStandardBrowserEnv||Xn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[l,...h]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...h].join("; "))}}if(Xn.hasStandardBrowserEnv&&(r&&ce.isFunction(r)&&(r=r(e)),r||r!==!1&&MH(e.url))){const l=a&&i&&PH.read(i);l&&o.set(a,l)}return e},IH=typeof XMLHttpRequest<"u",BH=IH&&function(t){return new Promise(function(n,r){const a=aL(t);let i=a.data;const o=gr.from(a.headers).normalize();let{responseType:u,onUploadProgress:c,onDownloadProgress:l}=a,h,d,v,m,y;function x(){m&&m(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function w(){if(!b)return;const A=gr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),E={data:!u||u==="text"||u==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:A,config:t,request:b};nL(function(R){n(R),x()},function(R){r(R),x()},E),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(r(new Je("Request aborted",Je.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new Je("Network Error",Je.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let O=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||JB;a.timeoutErrorMessage&&(O=a.timeoutErrorMessage),r(new Je(O,E.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,t,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&ce.forEach(o.toJSON(),function(O,E){b.setRequestHeader(E,O)}),ce.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),u&&u!=="json"&&(b.responseType=a.responseType),l&&([v,y]=jp(l,!0),b.addEventListener("progress",v)),c&&b.upload&&([d,m]=jp(c),b.upload.addEventListener("progress",d),b.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(h=A=>{b&&(r(!A||A.type?new Lc(null,t,b):A),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const S=CH(a.url);if(S&&Xn.protocols.indexOf(S)===-1){r(new Je("Unsupported protocol "+S+":",Je.ERR_BAD_REQUEST,t));return}b.send(i||null)})},LH=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,a;const i=function(l){if(!a){a=!0,u();const h=l instanceof Error?l:this.reason;r.abort(h instanceof Je?h:new Lc(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new Je(`timeout ${e} of ms exceeded`,Je.ETIMEDOUT))},e);const u=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),t=null)};t.forEach(l=>l.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>ce.asap(u),c}},jH=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,a;for(;r<n;)a=r+e,yield t.slice(r,a),r=a},FH=async function*(t,e){for await(const n of UH(t))yield*jH(n,e)},UH=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},vD=(t,e,n,r)=>{const a=FH(t,e);let i=0,o,u=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:l,value:h}=await a.next();if(l){u(),c.close();return}let d=h.byteLength;if(n){let v=i+=d;n(v)}c.enqueue(new Uint8Array(h))}catch(l){throw u(l),l}},cancel(c){return u(c),a.return()}},{highWaterMark:2})},dm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",iL=dm&&typeof ReadableStream=="function",qH=dm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),oL=(t,...e)=>{try{return!!t(...e)}catch{return!1}},zH=iL&&oL(()=>{let t=!1;const e=new Request(Xn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),mD=64*1024,N_=iL&&oL(()=>ce.isReadableStream(new Response("").body)),Fp={stream:N_&&(t=>t.body)};dm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Fp[e]&&(Fp[e]=ce.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Je(`Response type '${e}' is not supported`,Je.ERR_NOT_SUPPORT,r)})})})(new Response);const $H=async t=>{if(t==null)return 0;if(ce.isBlob(t))return t.size;if(ce.isSpecCompliantForm(t))return(await new Request(Xn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ce.isArrayBufferView(t)||ce.isArrayBuffer(t))return t.byteLength;if(ce.isURLSearchParams(t)&&(t=t+""),ce.isString(t))return(await qH(t)).byteLength},WH=async(t,e)=>{const n=ce.toFiniteNumber(t.getContentLength());return n??$H(e)},HH=dm&&(async t=>{let{url:e,method:n,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:u,onUploadProgress:c,responseType:l,headers:h,withCredentials:d="same-origin",fetchOptions:v}=aL(t);l=l?(l+"").toLowerCase():"text";let m=LH([a,i&&i.toAbortSignal()],o),y;const x=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let b;try{if(c&&zH&&n!=="get"&&n!=="head"&&(b=await WH(h,r))!==0){let E=new Request(e,{method:"POST",body:r,duplex:"half"}),C;if(ce.isFormData(r)&&(C=E.headers.get("content-type"))&&h.setContentType(C),E.body){const[R,D]=hD(b,jp(dD(c)));r=vD(E.body,mD,R,D)}}ce.isString(d)||(d=d?"include":"omit");const w="credentials"in Request.prototype;y=new Request(e,{...v,signal:m,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:w?d:void 0});let S=await fetch(y);const A=N_&&(l==="stream"||l==="response");if(N_&&(u||A&&x)){const E={};["status","statusText","headers"].forEach(M=>{E[M]=S[M]});const C=ce.toFiniteNumber(S.headers.get("content-length")),[R,D]=u&&hD(C,jp(dD(u),!0))||[];S=new Response(vD(S.body,mD,R,()=>{D&&D(),x&&x()}),E)}l=l||"text";let O=await Fp[ce.findKey(Fp,l)||"text"](S,t);return!A&&x&&x(),await new Promise((E,C)=>{nL(E,C,{data:O,headers:gr.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:y})})}catch(w){throw x&&x(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,t,y),{cause:w.cause||w}):Je.from(w,w&&w.code,t,y)}}),k_={http:oH,xhr:BH,fetch:HH};ce.forEach(k_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const gD=t=>`- ${t}`,VH=t=>ce.isFunction(t)||t===null||t===!1,uL={getAdapter:t=>{t=ce.isArray(t)?t:[t];const{length:e}=t;let n,r;const a={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!VH(n)&&(r=k_[(o=String(n)).toLowerCase()],r===void 0))throw new Je(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(gD).join(`
`):" "+gD(i[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:k_};function H0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Lc(null,t)}function yD(t){return H0(t),t.headers=gr.from(t.headers),t.data=W0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),uL.getAdapter(t.adapter||mh.adapter)(t).then(function(r){return H0(t),r.data=W0.call(t,t.transformResponse,r),r.headers=gr.from(r.headers),r},function(r){return tL(r)||(H0(t),r&&r.response&&(r.response.data=W0.call(t,t.transformResponse,r.response),r.response.headers=gr.from(r.response.headers))),Promise.reject(r)})}const sL="1.8.4",pm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const bD={};pm.transitional=function(e,n,r){function a(i,o){return"[Axios v"+sL+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,u)=>{if(e===!1)throw new Je(a(o," has been removed"+(n?" in "+n:"")),Je.ERR_DEPRECATED);return n&&!bD[o]&&(bD[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,u):!0}};pm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function GH(t,e,n){if(typeof t!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const i=r[a],o=e[i];if(o){const u=t[i],c=u===void 0||o(u,i,t);if(c!==!0)throw new Je("option "+i+" must be "+c,Je.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Je("Unknown option "+i,Je.ERR_BAD_OPTION)}}const Np={assertOptions:GH,validators:pm},Pa=Np.validators;let wu=class{constructor(e){this.defaults=e,this.interceptors={request:new lD,response:new lD}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Au(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&Np.assertOptions(r,{silentJSONParsing:Pa.transitional(Pa.boolean),forcedJSONParsing:Pa.transitional(Pa.boolean),clarifyTimeoutError:Pa.transitional(Pa.boolean)},!1),a!=null&&(ce.isFunction(a)?n.paramsSerializer={serialize:a}:Np.assertOptions(a,{encode:Pa.function,serialize:Pa.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Np.assertOptions(n,{baseUrl:Pa.spelling("baseURL"),withXsrfToken:Pa.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&ce.merge(i.common,i[n.method]);i&&ce.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=gr.concat(o,i);const u=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,u.unshift(x.fulfilled,x.rejected))});const l=[];this.interceptors.response.forEach(function(x){l.push(x.fulfilled,x.rejected)});let h,d=0,v;if(!c){const y=[yD.bind(this),void 0];for(y.unshift.apply(y,u),y.push.apply(y,l),v=y.length,h=Promise.resolve(n);d<v;)h=h.then(y[d++],y[d++]);return h}v=u.length;let m=n;for(d=0;d<v;){const y=u[d++],x=u[d++];try{m=y(m)}catch(b){x.call(this,b);break}}try{h=yD.call(this,m)}catch(y){return Promise.reject(y)}for(d=0,v=l.length;d<v;)h=h.then(l[d++],l[d++]);return h}getUri(e){e=Au(this.defaults,e);const n=rL(e.baseURL,e.url,e.allowAbsoluteUrls);return ZB(n,e.params,e.paramsSerializer)}};ce.forEach(["delete","get","head","options"],function(e){wu.prototype[e]=function(n,r){return this.request(Au(r||{},{method:e,url:n,data:(r||{}).data}))}});ce.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,u){return this.request(Au(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}wu.prototype[e]=n(),wu.prototype[e+"Form"]=n(!0)});let KH=class cL{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(u=>{r.subscribe(u),i=u}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,u){r.reason||(r.reason=new Lc(i,o,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new cL(function(a){e=a}),cancel:e}}};function XH(t){return function(n){return t.apply(null,n)}}function YH(t){return ce.isObject(t)&&t.isAxiosError===!0}const I_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(I_).forEach(([t,e])=>{I_[e]=t});function lL(t){const e=new wu(t),n=qB(wu.prototype.request,e);return ce.extend(n,wu.prototype,e,{allOwnKeys:!0}),ce.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return lL(Au(t,a))},n}const en=lL(mh);en.Axios=wu;en.CanceledError=Lc;en.CancelToken=KH;en.isCancel=tL;en.VERSION=sL;en.toFormData=hm;en.AxiosError=Je;en.Cancel=en.CanceledError;en.all=function(e){return Promise.all(e)};en.spread=XH;en.isAxiosError=YH;en.mergeConfig=Au;en.AxiosHeaders=gr;en.formToJSON=t=>eL(ce.isHTMLForm(t)?new FormData(t):t);en.getAdapter=uL.getAdapter;en.HttpStatusCode=I_;en.default=en;const{Axios:Lme,AxiosError:jme,CanceledError:Fme,isCancel:Ume,CancelToken:qme,VERSION:zme,all:$me,Cancel:Wme,isAxiosError:Hme,spread:Vme,toFormData:Gme,AxiosHeaders:Kme,HttpStatusCode:Xme,formToJSON:Yme,getAdapter:Qme,mergeConfig:Zme}=en,ba=en.create({baseURL:"http://localhost:5000"});ba.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});const QH=()=>{const[t,e]=Q.useState(""),[n,r]=Q.useState(""),[a,i]=Q.useState("student"),o=om(),u=async c=>{var l,h;c.preventDefault();try{const d=a==="admin"?"/api/admin/login":"/api/students/login",v=await ba.post(d,{email:t,password:n});if(localStorage.setItem("token",v.data.token),localStorage.setItem("role",a),a==="student"){const m=await ba.get("/api/students/profile");localStorage.setItem("name",m.data.name||"")}window.dispatchEvent(new Event("storage")),a==="admin"?o("/admin",{replace:!0}):o("/student",{replace:!0})}catch(d){console.error("Login error:",d),alert(((h=(l=d.response)==null?void 0:l.data)==null?void 0:h.message)||"Login failed")}};return de.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[de.jsx("h1",{className:"text-2xl mb-4",children:"Login"}),de.jsxs("form",{onSubmit:u,className:"w-full max-w-sm",children:[de.jsx("input",{type:"email",className:"mb-2 p-2 bg-gray-800 border border-gray-600 w-full",placeholder:"Email",value:t,onChange:c=>e(c.target.value),required:!0}),de.jsx("input",{type:"password",className:"mb-2 p-2 bg-gray-800 border border-gray-600 w-full",placeholder:"Password",value:n,onChange:c=>r(c.target.value),required:!0}),de.jsxs("select",{className:"mb-4 p-2 bg-gray-800 border border-gray-600 w-full",value:a,onChange:c=>i(c.target.value),children:[de.jsx("option",{value:"student",children:"Student"}),de.jsx("option",{value:"admin",children:"Admin"})]}),de.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded w-full",children:"Login"})]})]})};function fL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=fL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=fL(t))&&(r&&(r+=" "),r+=e);return r}var V0,xD;function wr(){if(xD)return V0;xD=1;var t=Array.isArray;return V0=t,V0}var G0,wD;function hL(){if(wD)return G0;wD=1;var t=typeof Xd=="object"&&Xd&&Xd.Object===Object&&Xd;return G0=t,G0}var K0,_D;function Xa(){if(_D)return K0;_D=1;var t=hL(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return K0=n,K0}var X0,SD;function gh(){if(SD)return X0;SD=1;var t=Xa(),e=t.Symbol;return X0=e,X0}var Y0,ED;function ZH(){if(ED)return Y0;ED=1;var t=gh(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function i(o){var u=n.call(o,a),c=o[a];try{o[a]=void 0;var l=!0}catch{}var h=r.call(o);return l&&(u?o[a]=c:delete o[a]),h}return Y0=i,Y0}var Q0,AD;function JH(){if(AD)return Q0;AD=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Q0=n,Q0}var Z0,OD;function Pi(){if(OD)return Z0;OD=1;var t=gh(),e=ZH(),n=JH(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?a:r:i&&i in Object(u)?e(u):n(u)}return Z0=o,Z0}var J0,TD;function Ni(){if(TD)return J0;TD=1;function t(e){return e!=null&&typeof e=="object"}return J0=t,J0}var eb,CD;function jc(){if(CD)return eb;CD=1;var t=Pi(),e=Ni(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return eb=r,eb}var tb,RD;function zS(){if(RD)return tb;RD=1;var t=wr(),e=jc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){if(t(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||o!=null&&i in Object(o)}return tb=a,tb}var nb,DD;function ko(){if(DD)return nb;DD=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return nb=t,nb}var rb,MD;function $S(){if(MD)return rb;MD=1;var t=Pi(),e=ko(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(u){if(!e(u))return!1;var c=t(u);return c==r||c==a||c==n||c==i}return rb=o,rb}var ab,PD;function eV(){if(PD)return ab;PD=1;var t=Xa(),e=t["__core-js_shared__"];return ab=e,ab}var ib,ND;function tV(){if(ND)return ib;ND=1;var t=eV(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return ib=n,ib}var ob,kD;function dL(){if(kD)return ob;kD=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return ob=n,ob}var ub,ID;function nV(){if(ID)return ub;ID=1;var t=$S(),e=tV(),n=ko(),r=dL(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,c=o.toString,l=u.hasOwnProperty,h=RegExp("^"+c.call(l).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(v){if(!n(v)||e(v))return!1;var m=t(v)?h:i;return m.test(r(v))}return ub=d,ub}var sb,BD;function rV(){if(BD)return sb;BD=1;function t(e,n){return e==null?void 0:e[n]}return sb=t,sb}var cb,LD;function ku(){if(LD)return cb;LD=1;var t=nV(),e=rV();function n(r,a){var i=e(r,a);return t(i)?i:void 0}return cb=n,cb}var lb,jD;function vm(){if(jD)return lb;jD=1;var t=ku(),e=t(Object,"create");return lb=e,lb}var fb,FD;function aV(){if(FD)return fb;FD=1;var t=vm();function e(){this.__data__=t?t(null):{},this.size=0}return fb=e,fb}var hb,UD;function iV(){if(UD)return hb;UD=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return hb=t,hb}var db,qD;function oV(){if(qD)return db;qD=1;var t=vm(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var o=this.__data__;if(t){var u=o[i];return u===e?void 0:u}return r.call(o,i)?o[i]:void 0}return db=a,db}var pb,zD;function uV(){if(zD)return pb;zD=1;var t=vm(),e=Object.prototype,n=e.hasOwnProperty;function r(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return pb=r,pb}var vb,$D;function sV(){if($D)return vb;$D=1;var t=vm(),e="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&a===void 0?e:a,this}return vb=n,vb}var mb,WD;function cV(){if(WD)return mb;WD=1;var t=aV(),e=iV(),n=oV(),r=uV(),a=sV();function i(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var l=o[u];this.set(l[0],l[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,mb=i,mb}var gb,HD;function lV(){if(HD)return gb;HD=1;function t(){this.__data__=[],this.size=0}return gb=t,gb}var yb,VD;function WS(){if(VD)return yb;VD=1;function t(e,n){return e===n||e!==e&&n!==n}return yb=t,yb}var bb,GD;function mm(){if(GD)return bb;GD=1;var t=WS();function e(n,r){for(var a=n.length;a--;)if(t(n[a][0],r))return a;return-1}return bb=e,bb}var xb,KD;function fV(){if(KD)return xb;KD=1;var t=mm(),e=Array.prototype,n=e.splice;function r(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var u=i.length-1;return o==u?i.pop():n.call(i,o,1),--this.size,!0}return xb=r,xb}var wb,XD;function hV(){if(XD)return wb;XD=1;var t=mm();function e(n){var r=this.__data__,a=t(r,n);return a<0?void 0:r[a][1]}return wb=e,wb}var _b,YD;function dV(){if(YD)return _b;YD=1;var t=mm();function e(n){return t(this.__data__,n)>-1}return _b=e,_b}var Sb,QD;function pV(){if(QD)return Sb;QD=1;var t=mm();function e(n,r){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return Sb=e,Sb}var Eb,ZD;function gm(){if(ZD)return Eb;ZD=1;var t=lV(),e=fV(),n=hV(),r=dV(),a=pV();function i(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var l=o[u];this.set(l[0],l[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Eb=i,Eb}var Ab,JD;function HS(){if(JD)return Ab;JD=1;var t=ku(),e=Xa(),n=t(e,"Map");return Ab=n,Ab}var Ob,eM;function vV(){if(eM)return Ob;eM=1;var t=cV(),e=gm(),n=HS();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Ob=r,Ob}var Tb,tM;function mV(){if(tM)return Tb;tM=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Tb=t,Tb}var Cb,nM;function ym(){if(nM)return Cb;nM=1;var t=mV();function e(n,r){var a=n.__data__;return t(r)?a[typeof r=="string"?"string":"hash"]:a.map}return Cb=e,Cb}var Rb,rM;function gV(){if(rM)return Rb;rM=1;var t=ym();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Rb=e,Rb}var Db,aM;function yV(){if(aM)return Db;aM=1;var t=ym();function e(n){return t(this,n).get(n)}return Db=e,Db}var Mb,iM;function bV(){if(iM)return Mb;iM=1;var t=ym();function e(n){return t(this,n).has(n)}return Mb=e,Mb}var Pb,oM;function xV(){if(oM)return Pb;oM=1;var t=ym();function e(n,r){var a=t(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return Pb=e,Pb}var Nb,uM;function VS(){if(uM)return Nb;uM=1;var t=vV(),e=gV(),n=yV(),r=bV(),a=xV();function i(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var l=o[u];this.set(l[0],l[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Nb=i,Nb}var kb,sM;function pL(){if(sM)return kb;sM=1;var t=VS(),e="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,u=a?a.apply(this,o):o[0],c=i.cache;if(c.has(u))return c.get(u);var l=r.apply(this,o);return i.cache=c.set(u,l)||c,l};return i.cache=new(n.Cache||t),i}return n.Cache=t,kb=n,kb}var Ib,cM;function wV(){if(cM)return Ib;cM=1;var t=pL(),e=500;function n(r){var a=t(r,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return Ib=n,Ib}var Bb,lM;function _V(){if(lM)return Bb;lM=1;var t=wV(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,u,c,l){i.push(c?l.replace(n,"$1"):u||o)}),i});return Bb=r,Bb}var Lb,fM;function GS(){if(fM)return Lb;fM=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=n(e[r],r,e);return i}return Lb=t,Lb}var jb,hM;function SV(){if(hM)return jb;hM=1;var t=gh(),e=GS(),n=wr(),r=jc(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(u){if(typeof u=="string")return u;if(n(u))return e(u,o)+"";if(r(u))return i?i.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return jb=o,jb}var Fb,dM;function vL(){if(dM)return Fb;dM=1;var t=SV();function e(n){return n==null?"":t(n)}return Fb=e,Fb}var Ub,pM;function mL(){if(pM)return Ub;pM=1;var t=wr(),e=zS(),n=_V(),r=vL();function a(i,o){return t(i)?i:e(i,o)?[i]:n(r(i))}return Ub=a,Ub}var qb,vM;function bm(){if(vM)return qb;vM=1;var t=jc();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return qb=e,qb}var zb,mM;function KS(){if(mM)return zb;mM=1;var t=mL(),e=bm();function n(r,a){a=t(a,r);for(var i=0,o=a.length;r!=null&&i<o;)r=r[e(a[i++])];return i&&i==o?r:void 0}return zb=n,zb}var $b,gM;function gL(){if(gM)return $b;gM=1;var t=KS();function e(n,r,a){var i=n==null?void 0:t(n,r);return i===void 0?a:i}return $b=e,$b}var EV=gL();const jr=gt(EV);var Wb,yM;function AV(){if(yM)return Wb;yM=1;function t(e){return e==null}return Wb=t,Wb}var OV=AV();const ut=gt(OV);var Hb,bM;function TV(){if(bM)return Hb;bM=1;var t=Pi(),e=wr(),n=Ni(),r="[object String]";function a(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return Hb=a,Hb}var CV=TV();const yh=gt(CV);var RV=$S();const Ve=gt(RV);var DV=ko();const Fc=gt(DV);var Vb={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xM;function MV(){if(xM)return yt;xM=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function x(b){if(typeof b=="object"&&b!==null){var w=b.$$typeof;switch(w){case t:switch(b=b.type,b){case n:case a:case r:case l:case h:return b;default:switch(b=b&&b.$$typeof,b){case u:case o:case c:case v:case d:case i:return b;default:return w}}case e:return w}}}return yt.ContextConsumer=o,yt.ContextProvider=i,yt.Element=t,yt.ForwardRef=c,yt.Fragment=n,yt.Lazy=v,yt.Memo=d,yt.Portal=e,yt.Profiler=a,yt.StrictMode=r,yt.Suspense=l,yt.SuspenseList=h,yt.isAsyncMode=function(){return!1},yt.isConcurrentMode=function(){return!1},yt.isContextConsumer=function(b){return x(b)===o},yt.isContextProvider=function(b){return x(b)===i},yt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},yt.isForwardRef=function(b){return x(b)===c},yt.isFragment=function(b){return x(b)===n},yt.isLazy=function(b){return x(b)===v},yt.isMemo=function(b){return x(b)===d},yt.isPortal=function(b){return x(b)===e},yt.isProfiler=function(b){return x(b)===a},yt.isStrictMode=function(b){return x(b)===r},yt.isSuspense=function(b){return x(b)===l},yt.isSuspenseList=function(b){return x(b)===h},yt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===a||b===r||b===l||b===h||b===m||typeof b=="object"&&b!==null&&(b.$$typeof===v||b.$$typeof===d||b.$$typeof===i||b.$$typeof===o||b.$$typeof===c||b.$$typeof===y||b.getModuleId!==void 0)},yt.typeOf=x,yt}var wM;function PV(){return wM||(wM=1,Vb.exports=MV()),Vb.exports}var NV=PV(),Gb,_M;function yL(){if(_M)return Gb;_M=1;var t=Pi(),e=Ni(),n="[object Number]";function r(a){return typeof a=="number"||e(a)&&t(a)==n}return Gb=r,Gb}var Kb,SM;function kV(){if(SM)return Kb;SM=1;var t=yL();function e(n){return t(n)&&n!=+n}return Kb=e,Kb}var IV=kV();const bh=gt(IV);var BV=yL();const LV=gt(BV);var nr=function(e){return e===0?0:e>0?1:-1},vu=function(e){return yh(e)&&e.indexOf("%")===e.length-1},_e=function(e){return LV(e)&&!bh(e)},pn=function(e){return _e(e)||yh(e)},jV=0,xh=function(e){var n=++jV;return"".concat(e||"").concat(n)},rr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(e)&&!yh(e))return r;var i;if(vu(e)){var o=e.indexOf("%");i=n*parseFloat(e.slice(0,o))/100}else i=+e;return bh(i)&&(i=r),a&&i>n&&(i=n),i},go=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},FV=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},a=0;a<n;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1},vo=function(e,n){return _e(e)&&_e(n)?function(r){return e+r*(n-e)}:function(){return n}};function B_(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):jr(r,e))===n})}function Gs(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function L_(t){"@babel/helpers - typeof";return L_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L_(t)}var UV=["viewBox","children"],qV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],EM=["points","pathLength"],Xb={svg:UV,polygon:EM,polyline:EM},XS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Up=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(Q.isValidElement(e)&&(r=e.props),!Fc(r))return null;var a={};return Object.keys(r).forEach(function(i){XS.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},zV=function(e,n,r){return function(a){return e(n,r,a),null}},Ou=function(e,n,r){if(!Fc(e)||L_(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];XS.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=zV(o,n,r))}),a},$V=["children"],WV=["children"];function AM(t,e){if(t==null)return{};var n=HV(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HV(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var OM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ai=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},TM=null,Yb=null,YS=function t(e){if(e===TM&&Array.isArray(Yb))return Yb;var n=[];return Q.Children.forEach(e,function(r){ut(r)||(NV.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Yb=n,TM=e,n};function aa(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(a){return Ai(a)}):r=[Ai(e)],YS(t).forEach(function(a){var i=jr(a,"type.displayName")||jr(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function Dr(t,e){var n=aa(t,e);return n&&n[0]}var CM=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,a=n.height;return!(!_e(r)||r<=0||!_e(a)||a<=0)},VV=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],GV=function(e){return e&&e.type&&yh(e.type)&&VV.indexOf(e.type)>=0},KV=function(e,n,r,a){var i,o=(i=Xb==null?void 0:Xb[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Ve(e)&&(a&&o.includes(n)||qV.includes(n))||r&&XS.includes(n)},We=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(Q.isValidElement(e)&&(a=e.props),!Fc(a))return null;var i={};return Object.keys(a).forEach(function(o){var u;KV((u=a)===null||u===void 0?void 0:u[o],o,n,r)&&(i[o]=a[o])}),i},j_=function t(e,n){if(e===n)return!0;var r=Q.Children.count(e);if(r!==Q.Children.count(n))return!1;if(r===0)return!0;if(r===1)return RM(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=e[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!RM(i,o))return!1}return!0},RM=function(e,n){if(ut(e)&&ut(n))return!0;if(!ut(e)&&!ut(n)){var r=e.props||{},a=r.children,i=AM(r,$V),o=n.props||{},u=o.children,c=AM(o,WV);return a&&u?Gs(i,c)&&j_(a,u):!a&&!u?Gs(i,c):!1}return!1},DM=function(e,n){var r=[],a={};return YS(e).forEach(function(i,o){if(GV(i))r.push(i);else if(i){var u=Ai(i.type),c=n[u]||{},l=c.handler,h=c.once;if(l&&(!h||!a[u])){var d=l(i,u,o);r.push(d),a[u]=!0}}}),r},XV=function(e){var n=e&&e.type;return n&&OM[n]?OM[n]:null},YV=function(e,n){return YS(n).indexOf(e)},QV=["children","width","height","viewBox","className","style","title","desc"];function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(this,arguments)}function ZV(t,e){if(t==null)return{};var n=JV(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JV(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function U_(t){var e=t.children,n=t.width,r=t.height,a=t.viewBox,i=t.className,o=t.style,u=t.title,c=t.desc,l=ZV(t,QV),h=a||{width:n,height:r,x:0,y:0},d=Ye("recharts-surface",i);return V.createElement("svg",F_({},We(l,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),V.createElement("title",null,u),V.createElement("desc",null,c),e)}var eG=["children","className"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(this,arguments)}function tG(t,e){if(t==null)return{};var n=nG(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var St=V.forwardRef(function(t,e){var n=t.children,r=t.className,a=tG(t,eG),i=Ye("recharts-layer",r);return V.createElement("g",q_({className:i},We(a,!0),{ref:e}),n)}),wa=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]},Qb,MM;function rG(){if(MM)return Qb;MM=1;function t(e,n,r){var a=-1,i=e.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+n];return o}return Qb=t,Qb}var Zb,PM;function aG(){if(PM)return Zb;PM=1;var t=rG();function e(n,r,a){var i=n.length;return a=a===void 0?i:a,!r&&a>=i?n:t(n,r,a)}return Zb=e,Zb}var Jb,NM;function bL(){if(NM)return Jb;NM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+a+i+"]");function c(l){return u.test(l)}return Jb=c,Jb}var e1,kM;function iG(){if(kM)return e1;kM=1;function t(e){return e.split("")}return e1=t,e1}var t1,IM;function oG(){if(IM)return t1;IM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",o="["+t+"]",u="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",l="(?:"+u+"|"+c+")",h="[^"+t+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",y=l+"?",x="["+i+"]?",b="(?:"+m+"(?:"+[h,d,v].join("|")+")"+x+y+")*",w=x+y+b,S="(?:"+[h+u+"?",u,d,v,o].join("|")+")",A=RegExp(c+"(?="+c+")|"+S+w,"g");function O(E){return E.match(A)||[]}return t1=O,t1}var n1,BM;function uG(){if(BM)return n1;BM=1;var t=iG(),e=bL(),n=oG();function r(a){return e(a)?n(a):t(a)}return n1=r,n1}var r1,LM;function sG(){if(LM)return r1;LM=1;var t=aG(),e=bL(),n=uG(),r=vL();function a(i){return function(o){o=r(o);var u=e(o)?n(o):void 0,c=u?u[0]:o.charAt(0),l=u?t(u,1).join(""):o.slice(1);return c[i]()+l}}return r1=a,r1}var a1,jM;function cG(){if(jM)return a1;jM=1;var t=sG(),e=t("toUpperCase");return a1=e,a1}var lG=cG();const xm=gt(lG);function Pt(t){return function(){return t}}const xL=Math.cos,qp=Math.sin,Ea=Math.sqrt,zp=Math.PI,wm=2*zp,z_=Math.PI,$_=2*z_,su=1e-6,fG=$_-su;function wL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function hG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wL;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class dG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wL:hG(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,o){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,u=this._y1,c=r-e,l=a-n,h=o-e,d=u-n,v=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>su)if(!(Math.abs(d*c-l*h)>su)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,y=a-u,x=c*c+l*l,b=m*m+y*y,w=Math.sqrt(x),S=Math.sqrt(v),A=i*Math.tan((z_-Math.acos((x+v-b)/(2*w*S)))/2),O=A/S,E=A/w;Math.abs(O-1)>su&&this._append`L${e+O*h},${n+O*d}`,this._append`A${i},${i},0,0,${+(d*m>h*y)},${this._x1=e+E*c},${this._y1=n+E*l}`}}arc(e,n,r,a,i,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),c=r*Math.sin(a),l=e+u,h=n+c,d=1^o,v=o?a-i:i-a;this._x1===null?this._append`M${l},${h}`:(Math.abs(this._x1-l)>su||Math.abs(this._y1-h)>su)&&this._append`L${l},${h}`,r&&(v<0&&(v=v%$_+$_),v>fG?this._append`A${r},${r},0,1,${d},${e-u},${n-c}A${r},${r},0,1,${d},${this._x1=l},${this._y1=h}`:v>su&&this._append`A${r},${r},0,${+(v>=z_)},${d},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function QS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new dG(e)}function ZS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _L(t){this._context=t}_L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _m(t){return new _L(t)}function SL(t){return t[0]}function EL(t){return t[1]}function AL(t,e){var n=Pt(!0),r=null,a=_m,i=null,o=QS(u);t=typeof t=="function"?t:t===void 0?SL:Pt(t),e=typeof e=="function"?e:e===void 0?EL:Pt(e);function u(c){var l,h=(c=ZS(c)).length,d,v=!1,m;for(r==null&&(i=a(m=o())),l=0;l<=h;++l)!(l<h&&n(d=c[l],l,c))===v&&((v=!v)?i.lineStart():i.lineEnd()),v&&i.point(+t(d,l,c),+e(d,l,c));if(m)return i=null,m+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Pt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Pt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Pt(!!c),u):n},u.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),u):a},u.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),u):r},u}function Zd(t,e,n){var r=null,a=Pt(!0),i=null,o=_m,u=null,c=QS(l);t=typeof t=="function"?t:t===void 0?SL:Pt(+t),e=typeof e=="function"?e:Pt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?EL:Pt(+n);function l(d){var v,m,y,x=(d=ZS(d)).length,b,w=!1,S,A=new Array(x),O=new Array(x);for(i==null&&(u=o(S=c())),v=0;v<=x;++v){if(!(v<x&&a(b=d[v],v,d))===w)if(w=!w)m=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),y=v-1;y>=m;--y)u.point(A[y],O[y]);u.lineEnd(),u.areaEnd()}w&&(A[v]=+t(b,v,d),O[v]=+e(b,v,d),u.point(r?+r(b,v,d):A[v],n?+n(b,v,d):O[v]))}if(S)return u=null,S+""||null}function h(){return AL().defined(a).curve(o).context(i)}return l.x=function(d){return arguments.length?(t=typeof d=="function"?d:Pt(+d),r=null,l):t},l.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Pt(+d),l):t},l.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Pt(+d),l):r},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:Pt(+d),n=null,l):e},l.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Pt(+d),l):e},l.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Pt(+d),l):n},l.lineX0=l.lineY0=function(){return h().x(t).y(e)},l.lineY1=function(){return h().x(t).y(n)},l.lineX1=function(){return h().x(r).y(e)},l.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Pt(!!d),l):a},l.curve=function(d){return arguments.length?(o=d,i!=null&&(u=o(i)),l):o},l.context=function(d){return arguments.length?(d==null?i=u=null:u=o(i=d),l):i},l}class OL{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function pG(t){return new OL(t,!0)}function vG(t){return new OL(t,!1)}const JS={draw(t,e){const n=Ea(e/zp);t.moveTo(n,0),t.arc(0,0,n,0,wm)}},mG={draw(t,e){const n=Ea(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},TL=Ea(1/3),gG=TL*2,yG={draw(t,e){const n=Ea(e/gG),r=n*TL;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},bG={draw(t,e){const n=Ea(e),r=-n/2;t.rect(r,r,n,n)}},xG=.8908130915292852,CL=qp(zp/10)/qp(7*zp/10),wG=qp(wm/10)*CL,_G=-xL(wm/10)*CL,SG={draw(t,e){const n=Ea(e*xG),r=wG*n,a=_G*n;t.moveTo(0,-n),t.lineTo(r,a);for(let i=1;i<5;++i){const o=wm*i/5,u=xL(o),c=qp(o);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*a,c*r+u*a)}t.closePath()}},i1=Ea(3),EG={draw(t,e){const n=-Ea(e/(i1*3));t.moveTo(0,n*2),t.lineTo(-i1*n,-n),t.lineTo(i1*n,-n),t.closePath()}},Xr=-.5,Yr=Ea(3)/2,W_=1/Ea(12),AG=(W_/2+1)*3,OG={draw(t,e){const n=Ea(e/AG),r=n/2,a=n*W_,i=r,o=n*W_+n,u=-i,c=o;t.moveTo(r,a),t.lineTo(i,o),t.lineTo(u,c),t.lineTo(Xr*r-Yr*a,Yr*r+Xr*a),t.lineTo(Xr*i-Yr*o,Yr*i+Xr*o),t.lineTo(Xr*u-Yr*c,Yr*u+Xr*c),t.lineTo(Xr*r+Yr*a,Xr*a-Yr*r),t.lineTo(Xr*i+Yr*o,Xr*o-Yr*i),t.lineTo(Xr*u+Yr*c,Xr*c-Yr*u),t.closePath()}};function TG(t,e){let n=null,r=QS(a);t=typeof t=="function"?t:Pt(t||JS),e=typeof e=="function"?e:Pt(e===void 0?64:+e);function a(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Pt(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Pt(+i),a):e},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function $p(){}function Wp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function RL(t){this._context=t}RL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CG(t){return new RL(t)}function DL(t){this._context=t}DL.prototype={areaStart:$p,areaEnd:$p,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RG(t){return new DL(t)}function ML(t){this._context=t}ML.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DG(t){return new ML(t)}function PL(t){this._context=t}PL.prototype={areaStart:$p,areaEnd:$p,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function MG(t){return new PL(t)}function FM(t){return t<0?-1:1}function UM(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),o=(n-t._y1)/(a||r<0&&-0),u=(i*a+o*r)/(r+a);return(FM(i)+FM(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function qM(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function o1(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,u=(i-r)/3;t._context.bezierCurveTo(r+u,a+u*e,i-u,o-u*n,i,o)}function Hp(t){this._context=t}Hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o1(this,this._t0,qM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,o1(this,qM(this,n=UM(this,t,e)),n);break;default:o1(this,this._t0,n=UM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function NL(t){this._context=new kL(t)}(NL.prototype=Object.create(Hp.prototype)).point=function(t,e){Hp.prototype.point.call(this,e,t)};function kL(t){this._context=t}kL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};function PG(t){return new Hp(t)}function NG(t){return new NL(t)}function IL(t){this._context=t}IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=zM(t),a=zM(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zM(t){var e,n=t.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/i[e-1],i[e]-=r,o[e]-=r*o[e-1];for(a[n-1]=o[n-1]/i[n-1],e=n-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function kG(t){return new IL(t)}function Sm(t,e){this._context=t,this._t=e}Sm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function IG(t){return new Sm(t,.5)}function BG(t){return new Sm(t,0)}function LG(t){return new Sm(t,1)}function ic(t,e){if((o=t.length)>1)for(var n=1,r,a,i=t[e[0]],o,u=i.length;n<o;++n)for(a=i,i=t[e[n]],r=0;r<u;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function H_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function jG(t,e){return t[e]}function FG(t){const e=[];return e.key=t,e}function UG(){var t=Pt([]),e=H_,n=ic,r=jG;function a(i){var o=Array.from(t.apply(this,arguments),FG),u,c=o.length,l=-1,h;for(const d of i)for(u=0,++l;u<c;++u)(o[u][l]=[0,+r(d,o[u].key,l,i)]).data=d;for(u=0,h=ZS(e(o));u<c;++u)o[h[u]].index=u;return n(o,h),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Pt(Array.from(i)),a):t},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Pt(+i),a):r},a.order=function(i){return arguments.length?(e=i==null?H_:typeof i=="function"?i:Pt(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(n=i??ic,a):n},a}function qG(t,e){if((r=t.length)>0){for(var n,r,a=0,i=t[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<r;++n)t[n][a][1]/=o}ic(t,e)}}function zG(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,i=r.length;n<i;++n){for(var o=0,u=0;o<a;++o)u+=t[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}ic(t,e)}}function $G(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var u=0,c=0,l=0;u<o;++u){for(var h=t[e[u]],d=h[r][1]||0,v=h[r-1][1]||0,m=(d-v)/2,y=0;y<u;++y){var x=t[e[y]],b=x[r][1]||0,w=x[r-1][1]||0;m+=b-w}c+=d,l+=m*d}a[r-1][1]+=a[r-1][0]=n,c&&(n-=l/c)}a[r-1][1]+=a[r-1][0]=n,ic(t,e)}}function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}var WG=["type","size","sizeType"];function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V_.apply(this,arguments)}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function WM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){HG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HG(t,e,n){return e=VG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VG(t){var e=GG(t,"string");return Af(e)=="symbol"?e:e+""}function GG(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KG(t,e){if(t==null)return{};var n=XG(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var BL={symbolCircle:JS,symbolCross:mG,symbolDiamond:yG,symbolSquare:bG,symbolStar:SG,symbolTriangle:EG,symbolWye:OG},YG=Math.PI/180,QG=function(e){var n="symbol".concat(xm(e));return BL[n]||JS},ZG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*YG;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},JG=function(e,n){BL["symbol".concat(xm(e))]=n},eE=function(e){var n=e.type,r=n===void 0?"circle":n,a=e.size,i=a===void 0?64:a,o=e.sizeType,u=o===void 0?"area":o,c=KG(e,WG),l=WM(WM({},c),{},{type:r,size:i,sizeType:u}),h=function(){var b=QG(r),w=TG().type(b).size(ZG(i,u,r));return w()},d=l.className,v=l.cx,m=l.cy,y=We(l,!0);return v===+v&&m===+m&&i===+i?V.createElement("path",V_({},y,{className:Ye("recharts-symbols",d),transform:"translate(".concat(v,", ").concat(m,")"),d:h()})):null};eE.registerSymbol=JG;function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(this,arguments)}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function e7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){Of(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jL(r.key),r)}}function r7(t,e,n){return e&&n7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a7(t,e,n){return e=Vp(e),i7(t,LL()?Reflect.construct(e,n||[],Vp(t).constructor):e.apply(t,n))}function i7(t,e){if(e&&(oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o7(t)}function o7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LL=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vp(t)}function u7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},K_(t,e)}function Of(t,e,n){return e=jL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jL(t){var e=s7(t,"string");return oc(e)=="symbol"?e:e+""}function s7(t,e){if(oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var da=32,tE=function(t){function e(){return t7(this,e),a7(this,e,arguments)}return u7(e,t),r7(e,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=da/2,o=da/6,u=da/3,c=r.inactive?a:r.color;if(r.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:da,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(da,"M").concat(2*u,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return V.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(da/8,"h").concat(da,"v").concat(da*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(V.isValidElement(r.legendIcon)){var l=e7({},r);return delete l.legendIcon,V.cloneElement(r.legendIcon,l)}return V.createElement(eE,{fill:c,cx:i,cy:i,size:da,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,u=a.layout,c=a.formatter,l=a.inactiveColor,h={x:0,y:0,width:da,height:da},d={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,y){var x=m.formatter||c,b=Ye(Of(Of({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var w=Ve(m.value)?null:m.value;wa(!Ve(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=m.inactive?l:m.color;return V.createElement("li",G_({className:b,style:d,key:"legend-item-".concat(y)},Ou(r.props,m,y)),V.createElement(U_,{width:o,height:o,viewBox:h,style:v},r.renderIcon(m)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},x?x(w,m,y):w))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(Q.PureComponent);Of(tE,"displayName","Legend");Of(tE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var u1,VM;function c7(){if(VM)return u1;VM=1;var t=gm();function e(){this.__data__=new t,this.size=0}return u1=e,u1}var s1,GM;function l7(){if(GM)return s1;GM=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return s1=t,s1}var c1,KM;function f7(){if(KM)return c1;KM=1;function t(e){return this.__data__.get(e)}return c1=t,c1}var l1,XM;function h7(){if(XM)return l1;XM=1;function t(e){return this.__data__.has(e)}return l1=t,l1}var f1,YM;function d7(){if(YM)return f1;YM=1;var t=gm(),e=HS(),n=VS(),r=200;function a(i,o){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<r-1)return c.push([i,o]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(i,o),this.size=u.size,this}return f1=a,f1}var h1,QM;function FL(){if(QM)return h1;QM=1;var t=gm(),e=c7(),n=l7(),r=f7(),a=h7(),i=d7();function o(u){var c=this.__data__=new t(u);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=a,o.prototype.set=i,h1=o,h1}var d1,ZM;function p7(){if(ZM)return d1;ZM=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return d1=e,d1}var p1,JM;function v7(){if(JM)return p1;JM=1;function t(e){return this.__data__.has(e)}return p1=t,p1}var v1,eP;function UL(){if(eP)return v1;eP=1;var t=VS(),e=p7(),n=v7();function r(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,v1=r,v1}var m1,tP;function qL(){if(tP)return m1;tP=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(e[r],r,e))return!0;return!1}return m1=t,m1}var g1,nP;function zL(){if(nP)return g1;nP=1;function t(e,n){return e.has(n)}return g1=t,g1}var y1,rP;function $L(){if(rP)return y1;rP=1;var t=UL(),e=qL(),n=zL(),r=1,a=2;function i(o,u,c,l,h,d){var v=c&r,m=o.length,y=u.length;if(m!=y&&!(v&&y>m))return!1;var x=d.get(o),b=d.get(u);if(x&&b)return x==u&&b==o;var w=-1,S=!0,A=c&a?new t:void 0;for(d.set(o,u),d.set(u,o);++w<m;){var O=o[w],E=u[w];if(l)var C=v?l(E,O,w,u,o,d):l(O,E,w,o,u,d);if(C!==void 0){if(C)continue;S=!1;break}if(A){if(!e(u,function(R,D){if(!n(A,D)&&(O===R||h(O,R,c,l,d)))return A.push(D)})){S=!1;break}}else if(!(O===E||h(O,E,c,l,d))){S=!1;break}}return d.delete(o),d.delete(u),S}return y1=i,y1}var b1,aP;function m7(){if(aP)return b1;aP=1;var t=Xa(),e=t.Uint8Array;return b1=e,b1}var x1,iP;function g7(){if(iP)return x1;iP=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a,i){r[++n]=[i,a]}),r}return x1=t,x1}var w1,oP;function nE(){if(oP)return w1;oP=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a){r[++n]=a}),r}return w1=t,w1}var _1,uP;function y7(){if(uP)return _1;uP=1;var t=gh(),e=m7(),n=WS(),r=$L(),a=g7(),i=nE(),o=1,u=2,c="[object Boolean]",l="[object Date]",h="[object Error]",d="[object Map]",v="[object Number]",m="[object RegExp]",y="[object Set]",x="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",S="[object DataView]",A=t?t.prototype:void 0,O=A?A.valueOf:void 0;function E(C,R,D,M,N,k,I){switch(D){case S:if(C.byteLength!=R.byteLength||C.byteOffset!=R.byteOffset)return!1;C=C.buffer,R=R.buffer;case w:return!(C.byteLength!=R.byteLength||!k(new e(C),new e(R)));case c:case l:case v:return n(+C,+R);case h:return C.name==R.name&&C.message==R.message;case m:case x:return C==R+"";case d:var q=a;case y:var W=M&o;if(q||(q=i),C.size!=R.size&&!W)return!1;var $=I.get(C);if($)return $==R;M|=u,I.set(C,R);var j=r(q(C),q(R),M,N,k,I);return I.delete(C),j;case b:if(O)return O.call(C)==O.call(R)}return!1}return _1=E,_1}var S1,sP;function WL(){if(sP)return S1;sP=1;function t(e,n){for(var r=-1,a=n.length,i=e.length;++r<a;)e[i+r]=n[r];return e}return S1=t,S1}var E1,cP;function b7(){if(cP)return E1;cP=1;var t=WL(),e=wr();function n(r,a,i){var o=a(r);return e(r)?o:t(o,i(r))}return E1=n,E1}var A1,lP;function x7(){if(lP)return A1;lP=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=0,o=[];++r<a;){var u=e[r];n(u,r,e)&&(o[i++]=u)}return o}return A1=t,A1}var O1,fP;function w7(){if(fP)return O1;fP=1;function t(){return[]}return O1=t,O1}var T1,hP;function _7(){if(hP)return T1;hP=1;var t=x7(),e=w7(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(u){return r.call(o,u)}))}:e;return T1=i,T1}var C1,dP;function S7(){if(dP)return C1;dP=1;function t(e,n){for(var r=-1,a=Array(e);++r<e;)a[r]=n(r);return a}return C1=t,C1}var R1,pP;function E7(){if(pP)return R1;pP=1;var t=Pi(),e=Ni(),n="[object Arguments]";function r(a){return e(a)&&t(a)==n}return R1=r,R1}var D1,vP;function rE(){if(vP)return D1;vP=1;var t=E7(),e=Ni(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!a.call(o,"callee")};return D1=i,D1}var lf={exports:{}},M1,mP;function A7(){if(mP)return M1;mP=1;function t(){return!1}return M1=t,M1}lf.exports;var gP;function HL(){return gP||(gP=1,function(t,e){var n=Xa(),r=A7(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,u=o?n.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||r;t.exports=l}(lf,lf.exports)),lf.exports}var P1,yP;function aE(){if(yP)return P1;yP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<a}return P1=n,P1}var N1,bP;function iE(){if(bP)return N1;bP=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return N1=e,N1}var k1,xP;function O7(){if(xP)return k1;xP=1;var t=Pi(),e=iE(),n=Ni(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",u="[object Error]",c="[object Function]",l="[object Map]",h="[object Number]",d="[object Object]",v="[object RegExp]",m="[object Set]",y="[object String]",x="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",A="[object Float64Array]",O="[object Int8Array]",E="[object Int16Array]",C="[object Int32Array]",R="[object Uint8Array]",D="[object Uint8ClampedArray]",M="[object Uint16Array]",N="[object Uint32Array]",k={};k[S]=k[A]=k[O]=k[E]=k[C]=k[R]=k[D]=k[M]=k[N]=!0,k[r]=k[a]=k[b]=k[i]=k[w]=k[o]=k[u]=k[c]=k[l]=k[h]=k[d]=k[v]=k[m]=k[y]=k[x]=!1;function I(q){return n(q)&&e(q.length)&&!!k[t(q)]}return k1=I,k1}var I1,wP;function VL(){if(wP)return I1;wP=1;function t(e){return function(n){return e(n)}}return I1=t,I1}var ff={exports:{}};ff.exports;var _P;function T7(){return _P||(_P=1,function(t,e){var n=hL(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,o=i&&n.process,u=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=u}(ff,ff.exports)),ff.exports}var B1,SP;function GL(){if(SP)return B1;SP=1;var t=O7(),e=VL(),n=T7(),r=n&&n.isTypedArray,a=r?e(r):t;return B1=a,B1}var L1,EP;function C7(){if(EP)return L1;EP=1;var t=S7(),e=rE(),n=wr(),r=HL(),a=aE(),i=GL(),o=Object.prototype,u=o.hasOwnProperty;function c(l,h){var d=n(l),v=!d&&e(l),m=!d&&!v&&r(l),y=!d&&!v&&!m&&i(l),x=d||v||m||y,b=x?t(l.length,String):[],w=b.length;for(var S in l)(h||u.call(l,S))&&!(x&&(S=="length"||m&&(S=="offset"||S=="parent")||y&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||a(S,w)))&&b.push(S);return b}return L1=c,L1}var j1,AP;function R7(){if(AP)return j1;AP=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||t;return n===a}return j1=e,j1}var F1,OP;function KL(){if(OP)return F1;OP=1;function t(e,n){return function(r){return e(n(r))}}return F1=t,F1}var U1,TP;function D7(){if(TP)return U1;TP=1;var t=KL(),e=t(Object.keys,Object);return U1=e,U1}var q1,CP;function M7(){if(CP)return q1;CP=1;var t=R7(),e=D7(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var u in Object(i))r.call(i,u)&&u!="constructor"&&o.push(u);return o}return q1=a,q1}var z1,RP;function wh(){if(RP)return z1;RP=1;var t=$S(),e=iE();function n(r){return r!=null&&e(r.length)&&!t(r)}return z1=n,z1}var $1,DP;function Em(){if(DP)return $1;DP=1;var t=C7(),e=M7(),n=wh();function r(a){return n(a)?t(a):e(a)}return $1=r,$1}var W1,MP;function P7(){if(MP)return W1;MP=1;var t=b7(),e=_7(),n=Em();function r(a){return t(a,n,e)}return W1=r,W1}var H1,PP;function N7(){if(PP)return H1;PP=1;var t=P7(),e=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,o,u,c,l,h){var d=u&e,v=t(i),m=v.length,y=t(o),x=y.length;if(m!=x&&!d)return!1;for(var b=m;b--;){var w=v[b];if(!(d?w in o:r.call(o,w)))return!1}var S=h.get(i),A=h.get(o);if(S&&A)return S==o&&A==i;var O=!0;h.set(i,o),h.set(o,i);for(var E=d;++b<m;){w=v[b];var C=i[w],R=o[w];if(c)var D=d?c(R,C,w,o,i,h):c(C,R,w,i,o,h);if(!(D===void 0?C===R||l(C,R,u,c,h):D)){O=!1;break}E||(E=w=="constructor")}if(O&&!E){var M=i.constructor,N=o.constructor;M!=N&&"constructor"in i&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof N=="function"&&N instanceof N)&&(O=!1)}return h.delete(i),h.delete(o),O}return H1=a,H1}var V1,NP;function k7(){if(NP)return V1;NP=1;var t=ku(),e=Xa(),n=t(e,"DataView");return V1=n,V1}var G1,kP;function I7(){if(kP)return G1;kP=1;var t=ku(),e=Xa(),n=t(e,"Promise");return G1=n,G1}var K1,IP;function XL(){if(IP)return K1;IP=1;var t=ku(),e=Xa(),n=t(e,"Set");return K1=n,K1}var X1,BP;function B7(){if(BP)return X1;BP=1;var t=ku(),e=Xa(),n=t(e,"WeakMap");return X1=n,X1}var Y1,LP;function L7(){if(LP)return Y1;LP=1;var t=k7(),e=HS(),n=I7(),r=XL(),a=B7(),i=Pi(),o=dL(),u="[object Map]",c="[object Object]",l="[object Promise]",h="[object Set]",d="[object WeakMap]",v="[object DataView]",m=o(t),y=o(e),x=o(n),b=o(r),w=o(a),S=i;return(t&&S(new t(new ArrayBuffer(1)))!=v||e&&S(new e)!=u||n&&S(n.resolve())!=l||r&&S(new r)!=h||a&&S(new a)!=d)&&(S=function(A){var O=i(A),E=O==c?A.constructor:void 0,C=E?o(E):"";if(C)switch(C){case m:return v;case y:return u;case x:return l;case b:return h;case w:return d}return O}),Y1=S,Y1}var Q1,jP;function j7(){if(jP)return Q1;jP=1;var t=FL(),e=$L(),n=y7(),r=N7(),a=L7(),i=wr(),o=HL(),u=GL(),c=1,l="[object Arguments]",h="[object Array]",d="[object Object]",v=Object.prototype,m=v.hasOwnProperty;function y(x,b,w,S,A,O){var E=i(x),C=i(b),R=E?h:a(x),D=C?h:a(b);R=R==l?d:R,D=D==l?d:D;var M=R==d,N=D==d,k=R==D;if(k&&o(x)){if(!o(b))return!1;E=!0,M=!1}if(k&&!M)return O||(O=new t),E||u(x)?e(x,b,w,S,A,O):n(x,b,R,w,S,A,O);if(!(w&c)){var I=M&&m.call(x,"__wrapped__"),q=N&&m.call(b,"__wrapped__");if(I||q){var W=I?x.value():x,$=q?b.value():b;return O||(O=new t),A(W,$,w,S,O)}}return k?(O||(O=new t),r(x,b,w,S,A,O)):!1}return Q1=y,Q1}var Z1,FP;function oE(){if(FP)return Z1;FP=1;var t=j7(),e=Ni();function n(r,a,i,o,u){return r===a?!0:r==null||a==null||!e(r)&&!e(a)?r!==r&&a!==a:t(r,a,i,o,n,u)}return Z1=n,Z1}var J1,UP;function F7(){if(UP)return J1;UP=1;var t=FL(),e=oE(),n=1,r=2;function a(i,o,u,c){var l=u.length,h=l,d=!c;if(i==null)return!h;for(i=Object(i);l--;){var v=u[l];if(d&&v[2]?v[1]!==i[v[0]]:!(v[0]in i))return!1}for(;++l<h;){v=u[l];var m=v[0],y=i[m],x=v[1];if(d&&v[2]){if(y===void 0&&!(m in i))return!1}else{var b=new t;if(c)var w=c(y,x,m,i,o,b);if(!(w===void 0?e(x,y,n|r,c,b):w))return!1}}return!0}return J1=a,J1}var ex,qP;function YL(){if(qP)return ex;qP=1;var t=ko();function e(n){return n===n&&!t(n)}return ex=e,ex}var tx,zP;function U7(){if(zP)return tx;zP=1;var t=YL(),e=Em();function n(r){for(var a=e(r),i=a.length;i--;){var o=a[i],u=r[o];a[i]=[o,u,t(u)]}return a}return tx=n,tx}var nx,$P;function QL(){if($P)return nx;$P=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return nx=t,nx}var rx,WP;function q7(){if(WP)return rx;WP=1;var t=F7(),e=U7(),n=QL();function r(a){var i=e(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return rx=r,rx}var ax,HP;function z7(){if(HP)return ax;HP=1;function t(e,n){return e!=null&&n in Object(e)}return ax=t,ax}var ix,VP;function $7(){if(VP)return ix;VP=1;var t=mL(),e=rE(),n=wr(),r=aE(),a=iE(),i=bm();function o(u,c,l){c=t(c,u);for(var h=-1,d=c.length,v=!1;++h<d;){var m=i(c[h]);if(!(v=u!=null&&l(u,m)))break;u=u[m]}return v||++h!=d?v:(d=u==null?0:u.length,!!d&&a(d)&&r(m,d)&&(n(u)||e(u)))}return ix=o,ix}var ox,GP;function W7(){if(GP)return ox;GP=1;var t=z7(),e=$7();function n(r,a){return r!=null&&e(r,a,t)}return ox=n,ox}var ux,KP;function H7(){if(KP)return ux;KP=1;var t=oE(),e=gL(),n=W7(),r=zS(),a=YL(),i=QL(),o=bm(),u=1,c=2;function l(h,d){return r(h)&&a(d)?i(o(h),d):function(v){var m=e(v,h);return m===void 0&&m===d?n(v,h):t(d,m,u|c)}}return ux=l,ux}var sx,XP;function Uc(){if(XP)return sx;XP=1;function t(e){return e}return sx=t,sx}var cx,YP;function V7(){if(YP)return cx;YP=1;function t(e){return function(n){return n==null?void 0:n[e]}}return cx=t,cx}var lx,QP;function G7(){if(QP)return lx;QP=1;var t=KS();function e(n){return function(r){return t(r,n)}}return lx=e,lx}var fx,ZP;function K7(){if(ZP)return fx;ZP=1;var t=V7(),e=G7(),n=zS(),r=bm();function a(i){return n(i)?t(r(i)):e(i)}return fx=a,fx}var hx,JP;function Ya(){if(JP)return hx;JP=1;var t=q7(),e=H7(),n=Uc(),r=wr(),a=K7();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):a(o)}return hx=i,hx}var dx,eN;function ZL(){if(eN)return dx;eN=1;function t(e,n,r,a){for(var i=e.length,o=r+(a?1:-1);a?o--:++o<i;)if(n(e[o],o,e))return o;return-1}return dx=t,dx}var px,tN;function X7(){if(tN)return px;tN=1;function t(e){return e!==e}return px=t,px}var vx,nN;function Y7(){if(nN)return vx;nN=1;function t(e,n,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===n)return a;return-1}return vx=t,vx}var mx,rN;function Q7(){if(rN)return mx;rN=1;var t=ZL(),e=X7(),n=Y7();function r(a,i,o){return i===i?n(a,i,o):t(a,e,o)}return mx=r,mx}var gx,aN;function Z7(){if(aN)return gx;aN=1;var t=Q7();function e(n,r){var a=n==null?0:n.length;return!!a&&t(n,r,0)>-1}return gx=e,gx}var yx,iN;function J7(){if(iN)return yx;iN=1;function t(e,n,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(n,e[a]))return!0;return!1}return yx=t,yx}var bx,oN;function e9(){if(oN)return bx;oN=1;function t(){}return bx=t,bx}var xx,uN;function t9(){if(uN)return xx;uN=1;var t=XL(),e=e9(),n=nE(),r=1/0,a=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return xx=a,xx}var wx,sN;function n9(){if(sN)return wx;sN=1;var t=UL(),e=Z7(),n=J7(),r=zL(),a=t9(),i=nE(),o=200;function u(c,l,h){var d=-1,v=e,m=c.length,y=!0,x=[],b=x;if(h)y=!1,v=n;else if(m>=o){var w=l?null:a(c);if(w)return i(w);y=!1,v=r,b=new t}else b=l?[]:x;e:for(;++d<m;){var S=c[d],A=l?l(S):S;if(S=h||S!==0?S:0,y&&A===A){for(var O=b.length;O--;)if(b[O]===A)continue e;l&&b.push(A),x.push(S)}else v(b,A,h)||(b!==x&&b.push(A),x.push(S))}return x}return wx=u,wx}var _x,cN;function r9(){if(cN)return _x;cN=1;var t=Ya(),e=n9();function n(r,a){return r&&r.length?e(r,t(a,2)):[]}return _x=n,_x}var a9=r9();const lN=gt(a9);function JL(t,e,n){return e===!0?lN(t,n):Ve(e)?lN(t,e):t}function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}var i9=["ref"];function fN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fN(Object(n),!0).forEach(function(r){Am(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tj(r.key),r)}}function u9(t,e,n){return e&&hN(t.prototype,e),n&&hN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s9(t,e,n){return e=Gp(e),c9(t,ej()?Reflect.construct(e,n||[],Gp(t).constructor):e.apply(t,n))}function c9(t,e){if(e&&(uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l9(t)}function l9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ej(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ej=function(){return!!t})()}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gp(t)}function f9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},X_(t,e)}function Am(t,e,n){return e=tj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tj(t){var e=h9(t,"string");return uc(e)=="symbol"?e:e+""}function h9(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function d9(t,e){if(t==null)return{};var n=p9(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v9(t){return t.value}function m9(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var n=d9(e,i9);return V.createElement(tE,n)}var dN=1,Eo=function(t){function e(){var n;o9(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=s9(this,e,[].concat(a)),Am(n,"lastBoundingBox",{width:-1,height:-1}),n}return f9(e,t),u9(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>dN||Math.abs(a.height-this.lastBoundingBox.height)>dN)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,u=a.verticalAlign,c=a.margin,l=a.chartWidth,h=a.chartHeight,d,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();d={left:((l||0)-m.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var y=this.getBBoxSnapshot();v={top:((h||0)-y.height)/2}}else v=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return gi(gi({},d),v)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,u=a.height,c=a.wrapperStyle,l=a.payloadUniqBy,h=a.payload,d=gi(gi({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return V.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){r.wrapperNode=m}},m9(i,gi(gi({},this.props),{},{payload:JL(h,l,v9)})))}}],[{key:"getWithHeight",value:function(r,a){var i=gi(gi({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&_e(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])}(Q.PureComponent);Am(Eo,"displayName","Legend");Am(Eo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Sx,pN;function g9(){if(pN)return Sx;pN=1;var t=gh(),e=rE(),n=wr(),r=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||e(i)||!!(r&&i&&i[r])}return Sx=a,Sx}var Ex,vN;function nj(){if(vN)return Ex;vN=1;var t=WL(),e=g9();function n(r,a,i,o,u){var c=-1,l=r.length;for(i||(i=e),u||(u=[]);++c<l;){var h=r[c];a>0&&i(h)?a>1?n(h,a-1,i,o,u):t(u,h):o||(u[u.length]=h)}return u}return Ex=n,Ex}var Ax,mN;function y9(){if(mN)return Ax;mN=1;function t(e){return function(n,r,a){for(var i=-1,o=Object(n),u=a(n),c=u.length;c--;){var l=u[e?c:++i];if(r(o[l],l,o)===!1)break}return n}}return Ax=t,Ax}var Ox,gN;function b9(){if(gN)return Ox;gN=1;var t=y9(),e=t();return Ox=e,Ox}var Tx,yN;function rj(){if(yN)return Tx;yN=1;var t=b9(),e=Em();function n(r,a){return r&&t(r,a,e)}return Tx=n,Tx}var Cx,bN;function x9(){if(bN)return Cx;bN=1;var t=wh();function e(n,r){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var o=a.length,u=r?o:-1,c=Object(a);(r?u--:++u<o)&&i(c[u],u,c)!==!1;);return a}}return Cx=e,Cx}var Rx,xN;function uE(){if(xN)return Rx;xN=1;var t=rj(),e=x9(),n=e(t);return Rx=n,Rx}var Dx,wN;function aj(){if(wN)return Dx;wN=1;var t=uE(),e=wh();function n(r,a){var i=-1,o=e(r)?Array(r.length):[];return t(r,function(u,c,l){o[++i]=a(u,c,l)}),o}return Dx=n,Dx}var Mx,_N;function w9(){if(_N)return Mx;_N=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return Mx=t,Mx}var Px,SN;function _9(){if(SN)return Px;SN=1;var t=jc();function e(n,r){if(n!==r){var a=n!==void 0,i=n===null,o=n===n,u=t(n),c=r!==void 0,l=r===null,h=r===r,d=t(r);if(!l&&!d&&!u&&n>r||u&&c&&h&&!l&&!d||i&&c&&h||!a&&h||!o)return 1;if(!i&&!u&&!d&&n<r||d&&a&&o&&!i&&!u||l&&a&&o||!c&&o||!h)return-1}return 0}return Px=e,Px}var Nx,EN;function S9(){if(EN)return Nx;EN=1;var t=_9();function e(n,r,a){for(var i=-1,o=n.criteria,u=r.criteria,c=o.length,l=a.length;++i<c;){var h=t(o[i],u[i]);if(h){if(i>=l)return h;var d=a[i];return h*(d=="desc"?-1:1)}}return n.index-r.index}return Nx=e,Nx}var kx,AN;function E9(){if(AN)return kx;AN=1;var t=GS(),e=KS(),n=Ya(),r=aj(),a=w9(),i=VL(),o=S9(),u=Uc(),c=wr();function l(h,d,v){d.length?d=t(d,function(x){return c(x)?function(b){return e(b,x.length===1?x[0]:x)}:x}):d=[u];var m=-1;d=t(d,i(n));var y=r(h,function(x,b,w){var S=t(d,function(A){return A(x)});return{criteria:S,index:++m,value:x}});return a(y,function(x,b){return o(x,b,v)})}return kx=l,kx}var Ix,ON;function A9(){if(ON)return Ix;ON=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return Ix=t,Ix}var Bx,TN;function O9(){if(TN)return Bx;TN=1;var t=A9(),e=Math.max;function n(r,a,i){return a=e(a===void 0?r.length-1:a,0),function(){for(var o=arguments,u=-1,c=e(o.length-a,0),l=Array(c);++u<c;)l[u]=o[a+u];u=-1;for(var h=Array(a+1);++u<a;)h[u]=o[u];return h[a]=i(l),t(r,this,h)}}return Bx=n,Bx}var Lx,CN;function T9(){if(CN)return Lx;CN=1;function t(e){return function(){return e}}return Lx=t,Lx}var jx,RN;function ij(){if(RN)return jx;RN=1;var t=ku(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return jx=e,jx}var Fx,DN;function C9(){if(DN)return Fx;DN=1;var t=T9(),e=ij(),n=Uc(),r=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return Fx=r,Fx}var Ux,MN;function R9(){if(MN)return Ux;MN=1;var t=800,e=16,n=Date.now;function r(a){var i=0,o=0;return function(){var u=n(),c=e-(u-o);if(o=u,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Ux=r,Ux}var qx,PN;function D9(){if(PN)return qx;PN=1;var t=C9(),e=R9(),n=e(t);return qx=n,qx}var zx,NN;function M9(){if(NN)return zx;NN=1;var t=Uc(),e=O9(),n=D9();function r(a,i){return n(e(a,i,t),a+"")}return zx=r,zx}var $x,kN;function Om(){if(kN)return $x;kN=1;var t=WS(),e=wh(),n=aE(),r=ko();function a(i,o,u){if(!r(u))return!1;var c=typeof o;return(c=="number"?e(u)&&n(o,u.length):c=="string"&&o in u)?t(u[o],i):!1}return $x=a,$x}var Wx,IN;function P9(){if(IN)return Wx;IN=1;var t=nj(),e=E9(),n=M9(),r=Om(),a=n(function(i,o){if(i==null)return[];var u=o.length;return u>1&&r(i,o[0],o[1])?o=[]:u>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return Wx=a,Wx}var N9=P9();const sE=gt(N9);function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(this,arguments)}function k9(t,e){return j9(t)||L9(t,e)||B9(t,e)||I9()}function I9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B9(t,e){if(t){if(typeof t=="string")return BN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BN(t,e)}}function BN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){l=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return u}}function j9(t){if(Array.isArray(t))return t}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){F9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F9(t,e,n){return e=U9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U9(t){var e=q9(t,"string");return Tf(e)=="symbol"?e:e+""}function q9(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z9(t){return Array.isArray(t)&&pn(t[0])&&pn(t[1])?t.join(" ~ "):t}var $9=function(e){var n=e.separator,r=n===void 0?" : ":n,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,u=o===void 0?{}:o,c=e.labelStyle,l=c===void 0?{}:c,h=e.payload,d=e.formatter,v=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,x=e.label,b=e.labelFormatter,w=e.accessibilityLayer,S=w===void 0?!1:w,A=function(){if(h&&h.length){var I={padding:0,margin:0},q=(v?sE(h,v):h).map(function(W,$){if(W.type==="none")return null;var j=Hx({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},u),U=W.formatter||d||z9,H=W.value,Y=W.name,B=H,K=Y;if(U&&B!=null&&K!=null){var J=U(H,Y,W,$,h);if(Array.isArray(J)){var ne=k9(J,2);B=ne[0],K=ne[1]}else B=J}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:j},pn(K)?V.createElement("span",{className:"recharts-tooltip-item-name"},K):null,pn(K)?V.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,V.createElement("span",{className:"recharts-tooltip-item-value"},B),V.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:I},q)}return null},O=Hx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=Hx({margin:0},l),C=!ut(x),R=C?x:"",D=Ye("recharts-default-tooltip",m),M=Ye("recharts-tooltip-label",y);C&&b&&h!==void 0&&h!==null&&(R=b(x,h));var N=S?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",Y_({className:D,style:O},N),V.createElement("p",{className:M,style:E},V.isValidElement(R)?R:"".concat(R)),A())};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Jd(t,e,n){return e=W9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W9(t){var e=H9(t,"string");return Cf(e)=="symbol"?e:e+""}function H9(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xl="recharts-tooltip-wrapper",V9={visibility:"hidden"};function G9(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ye(Xl,Jd(Jd(Jd(Jd({},"".concat(Xl,"-right"),_e(n)&&e&&_e(e.x)&&n>=e.x),"".concat(Xl,"-left"),_e(n)&&e&&_e(e.x)&&n<e.x),"".concat(Xl,"-bottom"),_e(r)&&e&&_e(e.y)&&r>=e.y),"".concat(Xl,"-top"),_e(r)&&e&&_e(e.y)&&r<e.y))}function jN(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,l=t.viewBoxDimension;if(i&&_e(i[r]))return i[r];var h=n[r]-u-a,d=n[r]+a;if(e[r])return o[r]?h:d;if(o[r]){var v=h,m=c[r];return v<m?Math.max(d,c[r]):Math.max(h,c[r])}var y=d+u,x=c[r]+l;return y>x?Math.max(h,c[r]):Math.max(d,c[r])}function K9(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function X9(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,l,h,d;return o.height>0&&o.width>0&&n?(h=jN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=jN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),l=K9({translateX:h,translateY:d,useTranslate3d:u})):l=V9,{cssProperties:l,cssClasses:G9({translateX:h,translateY:d,coordinate:n})}}function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function UN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){Z_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uj(r.key),r)}}function Z9(t,e,n){return e&&Q9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function J9(t,e,n){return e=Kp(e),eK(t,oj()?Reflect.construct(e,n||[],Kp(t).constructor):e.apply(t,n))}function eK(t,e){if(e&&(sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tK(t)}function tK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oj=function(){return!!t})()}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kp(t)}function nK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q_(t,e)}function Q_(t,e){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Q_(t,e)}function Z_(t,e,n){return e=uj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uj(t){var e=rK(t,"string");return sc(e)=="symbol"?e:e+""}function rK(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qN=1,aK=function(t){function e(){var n;Y9(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=J9(this,e,[].concat(a)),Z_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Z_(n,"handleKeyDown",function(o){if(o.key==="Escape"){var u,c,l,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(l=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&l!==void 0?l:0}})}}),n}return nK(e,t),Z9(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>qN||Math.abs(r.height-this.state.lastBoundingBox.height)>qN)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,u=a.animationDuration,c=a.animationEasing,l=a.children,h=a.coordinate,d=a.hasPayload,v=a.isAnimationActive,m=a.offset,y=a.position,x=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,S=a.wrapperStyle,A=X9({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:m,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),O=A.cssClasses,E=A.cssProperties,C=UN(UN({transition:v&&i?"transform ".concat(u,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},S);return V.createElement("div",{tabIndex:-1,className:O,style:C,ref:function(D){r.wrapperNode=D}},l)}}])}(Q.PureComponent),iK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qc={isSsr:iK()};function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $N(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){cE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cj(r.key),r)}}function sK(t,e,n){return e&&uK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cK(t,e,n){return e=Xp(e),lK(t,sj()?Reflect.construct(e,n||[],Xp(t).constructor):e.apply(t,n))}function lK(t,e){if(e&&(cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fK(t)}function fK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sj=function(){return!!t})()}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xp(t)}function hK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},J_(t,e)}function cE(t,e,n){return e=cj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cj(t){var e=dK(t,"string");return cc(e)=="symbol"?e:e+""}function dK(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pK(t){return t.dataKey}function vK(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement($9,e)}var Qr=function(t){function e(){return oK(this,e),cK(this,e,arguments)}return hK(e,t),sK(e,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,u=a.animationDuration,c=a.animationEasing,l=a.content,h=a.coordinate,d=a.filterNull,v=a.isAnimationActive,m=a.offset,y=a.payload,x=a.payloadUniqBy,b=a.position,w=a.reverseDirection,S=a.useTranslate3d,A=a.viewBox,O=a.wrapperStyle,E=y??[];d&&E.length&&(E=JL(y.filter(function(R){return R.value!=null&&(R.hide!==!0||r.props.includeHidden)}),x,pK));var C=E.length>0;return V.createElement(aK,{allowEscapeViewBox:o,animationDuration:u,animationEasing:c,isAnimationActive:v,active:i,coordinate:h,hasPayload:C,offset:m,position:b,reverseDirection:w,useTranslate3d:S,viewBox:A,wrapperStyle:O},vK(l,$N($N({},this.props),{},{payload:E})))}}])}(Q.PureComponent);cE(Qr,"displayName","Tooltip");cE(Qr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Vx,WN;function mK(){if(WN)return Vx;WN=1;var t=Xa(),e=function(){return t.Date.now()};return Vx=e,Vx}var Gx,HN;function gK(){if(HN)return Gx;HN=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Gx=e,Gx}var Kx,VN;function yK(){if(VN)return Kx;VN=1;var t=gK(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Kx=n,Kx}var Xx,GN;function lj(){if(GN)return Xx;GN=1;var t=yK(),e=ko(),n=jc(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function c(l){if(typeof l=="number")return l;if(n(l))return r;if(e(l)){var h=typeof l.valueOf=="function"?l.valueOf():l;l=e(h)?h+"":h}if(typeof l!="string")return l===0?l:+l;l=t(l);var d=i.test(l);return d||o.test(l)?u(l.slice(2),d?2:8):a.test(l)?r:+l}return Xx=c,Xx}var Yx,KN;function bK(){if(KN)return Yx;KN=1;var t=ko(),e=mK(),n=lj(),r="Expected a function",a=Math.max,i=Math.min;function o(u,c,l){var h,d,v,m,y,x,b=0,w=!1,S=!1,A=!0;if(typeof u!="function")throw new TypeError(r);c=n(c)||0,t(l)&&(w=!!l.leading,S="maxWait"in l,v=S?a(n(l.maxWait)||0,c):v,A="trailing"in l?!!l.trailing:A);function O(q){var W=h,$=d;return h=d=void 0,b=q,m=u.apply($,W),m}function E(q){return b=q,y=setTimeout(D,c),w?O(q):m}function C(q){var W=q-x,$=q-b,j=c-W;return S?i(j,v-$):j}function R(q){var W=q-x,$=q-b;return x===void 0||W>=c||W<0||S&&$>=v}function D(){var q=e();if(R(q))return M(q);y=setTimeout(D,C(q))}function M(q){return y=void 0,A&&h?O(q):(h=d=void 0,m)}function N(){y!==void 0&&clearTimeout(y),b=0,h=x=d=y=void 0}function k(){return y===void 0?m:M(e())}function I(){var q=e(),W=R(q);if(h=arguments,d=this,x=q,W){if(y===void 0)return E(x);if(S)return clearTimeout(y),y=setTimeout(D,c),O(x)}return y===void 0&&(y=setTimeout(D,c)),m}return I.cancel=N,I.flush=k,I}return Yx=o,Yx}var Qx,XN;function xK(){if(XN)return Qx;XN=1;var t=bK(),e=ko(),n="Expected a function";function r(a,i,o){var u=!0,c=!0;if(typeof a!="function")throw new TypeError(n);return e(o)&&(u="leading"in o?!!o.leading:u,c="trailing"in o?!!o.trailing:c),t(a,i,{leading:u,maxWait:i,trailing:c})}return Qx=r,Qx}var wK=xK();const fj=gt(wK);function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ep(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(r){_K(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _K(t,e,n){return e=SK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SK(t){var e=EK(t,"string");return Rf(e)=="symbol"?e:e+""}function EK(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AK(t,e){return RK(t)||CK(t,e)||TK(t,e)||OK()}function OK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TK(t,e){if(t){if(typeof t=="string")return QN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QN(t,e)}}function QN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){l=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return u}}function RK(t){if(Array.isArray(t))return t}var e2=Q.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=t.width,o=i===void 0?"100%":i,u=t.height,c=u===void 0?"100%":u,l=t.minWidth,h=l===void 0?0:l,d=t.minHeight,v=t.maxHeight,m=t.children,y=t.debounce,x=y===void 0?0:y,b=t.id,w=t.className,S=t.onResize,A=t.style,O=A===void 0?{}:A,E=Q.useRef(null),C=Q.useRef();C.current=S,Q.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var R=Q.useState({containerWidth:a.width,containerHeight:a.height}),D=AK(R,2),M=D[0],N=D[1],k=Q.useCallback(function(q,W){N(function($){var j=Math.round(q),U=Math.round(W);return $.containerWidth===j&&$.containerHeight===U?$:{containerWidth:j,containerHeight:U}})},[]);Q.useEffect(function(){var q=function(Y){var B,K=Y[0].contentRect,J=K.width,ne=K.height;k(J,ne),(B=C.current)===null||B===void 0||B.call(C,J,ne)};x>0&&(q=fj(q,x,{trailing:!0,leading:!1}));var W=new ResizeObserver(q),$=E.current.getBoundingClientRect(),j=$.width,U=$.height;return k(j,U),W.observe(E.current),function(){W.disconnect()}},[k,x]);var I=Q.useMemo(function(){var q=M.containerWidth,W=M.containerHeight;if(q<0||W<0)return null;wa(vu(o)||vu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),wa(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=vu(o)?q:o,j=vu(c)?W:c;n&&n>0&&($?j=$/n:j&&($=j*n),v&&j>v&&(j=v)),wa($>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,j,o,c,h,d,n);var U=!Array.isArray(m)&&Ai(m.type).endsWith("Chart");return V.Children.map(m,function(H){return V.isValidElement(H)?Q.cloneElement(H,ep({width:$,height:j},U?{style:ep({height:"100%",width:"100%",maxHeight:j,maxWidth:$},H.props.style)}:{})):H})},[n,m,c,v,d,h,M,o]);return V.createElement("div",{id:b?"".concat(b):void 0,className:Ye("recharts-responsive-container",w),style:ep(ep({},O),{},{width:o,height:c,minWidth:h,minHeight:d,maxHeight:v}),ref:E},I)}),Ks=function(e){return null};Ks.displayName="Cell";function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function t2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){DK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DK(t,e,n){return e=MK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MK(t){var e=PK(t,"string");return Df(e)=="symbol"?e:e+""}function PK(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rs={widthCache:{},cacheCount:0},NK=2e3,kK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JN="recharts_measurement_span";function IK(t){var e=t2({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var df=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||qc.isSsr)return{width:0,height:0};var r=IK(n),a=JSON.stringify({text:e,copyStyle:r});if(Rs.widthCache[a])return Rs.widthCache[a];try{var i=document.getElementById(JN);i||(i=document.createElement("span"),i.setAttribute("id",JN),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=t2(t2({},kK),r);Object.assign(i.style,o),i.textContent="".concat(e);var u=i.getBoundingClientRect(),c={width:u.width,height:u.height};return Rs.widthCache[a]=c,++Rs.cacheCount>NK&&(Rs.cacheCount=0,Rs.widthCache={}),c}catch{return{width:0,height:0}}},BK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function Yp(t,e){return UK(t)||FK(t,e)||jK(t,e)||LK()}function LK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jK(t,e){if(t){if(typeof t=="string")return ek(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ek(t,e)}}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){l=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return u}}function UK(t){if(Array.isArray(t))return t}function qK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$K(r.key),r)}}function zK(t,e,n){return e&&tk(t.prototype,e),n&&tk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $K(t){var e=WK(t,"string");return Mf(e)=="symbol"?e:e+""}function WK(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,VK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GK=Object.keys(hj),qs="NaN";function KK(t,e){return t*hj[e]}var tp=function(){function t(e,n){qK(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!HK.test(n)&&(this.num=NaN,this.unit=""),GK.includes(n)&&(this.num=KK(e,n),this.unit="px")}return zK(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=VK.exec(n))!==null&&r!==void 0?r:[],i=Yp(a,3),o=i[1],u=i[2];return new t(parseFloat(o),u??"")}}])}();function dj(t){if(t.includes(qs))return qs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=nk.exec(e))!==null&&n!==void 0?n:[],a=Yp(r,4),i=a[1],o=a[2],u=a[3],c=tp.parse(i??""),l=tp.parse(u??""),h=o==="*"?c.multiply(l):c.divide(l);if(h.isNaN())return qs;e=e.replace(nk,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,v=(d=rk.exec(e))!==null&&d!==void 0?d:[],m=Yp(v,4),y=m[1],x=m[2],b=m[3],w=tp.parse(y??""),S=tp.parse(b??""),A=x==="+"?w.add(S):w.subtract(S);if(A.isNaN())return qs;e=e.replace(rk,A.toString())}return e}var ak=/\(([^()]*)\)/;function XK(t){for(var e=t;e.includes("(");){var n=ak.exec(e),r=Yp(n,2),a=r[1];e=e.replace(ak,dj(a))}return e}function YK(t){var e=t.replace(/\s+/g,"");return e=XK(e),e=dj(e),e}function QK(t){try{return YK(t)}catch{return qs}}function Zx(t){var e=QK(t.slice(5,-1));return e===qs?"":e}var ZK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],JK=["dx","dy","angle","className","breakAll"];function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n2.apply(this,arguments)}function ik(t,e){if(t==null)return{};var n=eX(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ok(t,e){return aX(t)||rX(t,e)||nX(t,e)||tX()}function tX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nX(t,e){if(t){if(typeof t=="string")return uk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uk(t,e)}}function uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){l=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return u}}function aX(t){if(Array.isArray(t))return t}var pj=/[ \f\n\r\t\v\u2028\u2029]+/,vj=function(e){var n=e.children,r=e.breakAll,a=e.style;try{var i=[];ut(n)||(r?i=n.toString().split(""):i=n.toString().split(pj));var o=i.map(function(c){return{word:c,width:df(c,a).width}}),u=r?0:df("",a).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},iX=function(e,n,r,a,i){var o=e.maxLines,u=e.children,c=e.style,l=e.breakAll,h=_e(o),d=u,v=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(j,U){var H=U.word,Y=U.width,B=j[j.length-1];if(B&&(a==null||i||B.width+Y+r<Number(a)))B.words.push(H),B.width+=Y+r;else{var K={words:[H],width:Y};j.push(K)}return j},[])},m=v(n),y=function($){return $.reduce(function(j,U){return j.width>U.width?j:U})};if(!h)return m;for(var x="",b=function($){var j=d.slice(0,$),U=vj({breakAll:l,style:c,children:j+x}).wordsWithComputedWidth,H=v(U),Y=H.length>o||y(H).width>Number(a);return[Y,H]},w=0,S=d.length-1,A=0,O;w<=S&&A<=d.length-1;){var E=Math.floor((w+S)/2),C=E-1,R=b(C),D=ok(R,2),M=D[0],N=D[1],k=b(E),I=ok(k,1),q=I[0];if(!M&&!q&&(w=E+1),M&&q&&(S=E-1),!M&&q){O=N;break}A++}return O||m},sk=function(e){var n=ut(e)?[]:e.toString().split(pj);return[{words:n}]},oX=function(e){var n=e.width,r=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,u=e.maxLines;if((n||r)&&!qc.isSsr){var c,l,h=vj({breakAll:o,children:a,style:i});if(h){var d=h.wordsWithComputedWidth,v=h.spaceWidth;c=d,l=v}else return sk(a);return iX({breakAll:o,children:a,maxLines:u,style:i},c,l,n,r)}return sk(a)},ck="#808080",Tu=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,o=e.lineHeight,u=o===void 0?"1em":o,c=e.capHeight,l=c===void 0?"0.71em":c,h=e.scaleToFit,d=h===void 0?!1:h,v=e.textAnchor,m=v===void 0?"start":v,y=e.verticalAnchor,x=y===void 0?"end":y,b=e.fill,w=b===void 0?ck:b,S=ik(e,ZK),A=Q.useMemo(function(){return oX({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:d,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,d,S.style,S.width]),O=S.dx,E=S.dy,C=S.angle,R=S.className,D=S.breakAll,M=ik(S,JK);if(!pn(r)||!pn(i))return null;var N=r+(_e(O)?O:0),k=i+(_e(E)?E:0),I;switch(x){case"start":I=Zx("calc(".concat(l,")"));break;case"middle":I=Zx("calc(".concat((A.length-1)/2," * -").concat(u," + (").concat(l," / 2))"));break;default:I=Zx("calc(".concat(A.length-1," * -").concat(u,")"));break}var q=[];if(d){var W=A[0].width,$=S.width;q.push("scale(".concat((_e($)?$/W:1)/W,")"))}return C&&q.push("rotate(".concat(C,", ").concat(N,", ").concat(k,")")),q.length&&(M.transform=q.join(" ")),V.createElement("text",n2({},We(M,!0),{x:N,y:k,className:Ye("recharts-text",R),textAnchor:m,fill:w.includes("url")?ck:w}),A.map(function(j,U){var H=j.words.join(D?"":" ");return V.createElement("tspan",{x:N,dy:U===0?I:u,key:"".concat(H,"-").concat(U)},H)}))};function Ao(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lE(t){let e,n,r;t.length!==2?(e=Ao,n=(u,c)=>Ao(t(u),c),r=(u,c)=>t(u)-c):(e=t===Ao||t===uX?t:sX,n=t,r=t);function a(u,c,l=0,h=u.length){if(l<h){if(e(c,c)!==0)return h;do{const d=l+h>>>1;n(u[d],c)<0?l=d+1:h=d}while(l<h)}return l}function i(u,c,l=0,h=u.length){if(l<h){if(e(c,c)!==0)return h;do{const d=l+h>>>1;n(u[d],c)<=0?l=d+1:h=d}while(l<h)}return l}function o(u,c,l=0,h=u.length){const d=a(u,c,l,h-1);return d>l&&r(u[d-1],c)>-r(u[d],c)?d-1:d}return{left:a,center:o,right:i}}function sX(){return 0}function mj(t){return t===null?NaN:+t}function*cX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const lX=lE(Ao),_h=lX.right;lE(mj).center;class lk extends Map{constructor(e,n=dX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(fk(this,e))}has(e){return super.has(fk(this,e))}set(e,n){return super.set(fX(this,e),n)}delete(e){return super.delete(hX(this,e))}}function fk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function fX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function hX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function dX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function pX(t=Ao){if(t===Ao)return gj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function gj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vX=Math.sqrt(50),mX=Math.sqrt(10),gX=Math.sqrt(2);function Qp(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=vX?10:i>=mX?5:i>=gX?2:1;let u,c,l;return a<0?(l=Math.pow(10,-a)/o,u=Math.round(t*l),c=Math.round(e*l),u/l<t&&++u,c/l>e&&--c,l=-l):(l=Math.pow(10,a)*o,u=Math.round(t/l),c=Math.round(e/l),u*l<t&&++u,c*l>e&&--c),c<u&&.5<=n&&n<2?Qp(t,e,n*2):[u,c,l]}function r2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,o]=r?Qp(e,t,n):Qp(t,e,n);if(!(i>=a))return[];const u=i-a+1,c=new Array(u);if(r)if(o<0)for(let l=0;l<u;++l)c[l]=(i-l)/-o;else for(let l=0;l<u;++l)c[l]=(i-l)*o;else if(o<0)for(let l=0;l<u;++l)c[l]=(a+l)/-o;else for(let l=0;l<u;++l)c[l]=(a+l)*o;return c}function a2(t,e,n){return e=+e,t=+t,n=+n,Qp(t,e,n)[2]}function i2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?a2(e,t,n):a2(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function hk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function dk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yj(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?gj:pX(a);r>n;){if(r-n>600){const c=r-n+1,l=e-n+1,h=Math.log(c),d=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*d*(c-d)/c)*(l-c/2<0?-1:1),m=Math.max(n,Math.floor(e-l*d/c+v)),y=Math.min(r,Math.floor(e+(c-l)*d/c+v));yj(t,e,m,y,a)}const i=t[e];let o=n,u=r;for(Yl(t,n,e),a(t[r],i)>0&&Yl(t,n,r);o<u;){for(Yl(t,o,u),++o,--u;a(t[o],i)<0;)++o;for(;a(t[u],i)>0;)--u}a(t[n],i)===0?Yl(t,n,u):(++u,Yl(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Yl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function yX(t,e,n){if(t=Float64Array.from(cX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return dk(t);if(e>=1)return hk(t);var r,a=(r-1)*e,i=Math.floor(a),o=hk(yj(t,i).subarray(0,i+1)),u=dk(t.subarray(i+1));return o+(u-o)*(a-i)}}function bX(t,e,n=mj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),o=+n(t[i],i,t),u=+n(t[i+1],i+1,t);return o+(u-o)*(a-i)}}function xX(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function oa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ki(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const o2=Symbol("implicit");function fE(){var t=new lk,e=[],n=[],r=o2;function a(i){let o=t.get(i);if(o===void 0){if(r!==o2)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new lk;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return fE(e,n).unknown(r)},oa.apply(a,arguments),a}function Pf(){var t=fE().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,o,u=!1,c=0,l=0,h=.5;delete t.unknown;function d(){var v=e().length,m=a<r,y=m?a:r,x=m?r:a;i=(x-y)/Math.max(1,v-c+l*2),u&&(i=Math.floor(i)),y+=(x-y-i*(v-c))*h,o=i*(1-c),u&&(y=Math.round(y),o=Math.round(o));var b=xX(v).map(function(w){return y+i*w});return n(m?b.reverse():b)}return t.domain=function(v){return arguments.length?(e(v),d()):e()},t.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,d()):[r,a]},t.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,u=!0,d()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(v){return arguments.length?(u=!!v,d()):u},t.padding=function(v){return arguments.length?(c=Math.min(1,l=+v),d()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),d()):c},t.paddingOuter=function(v){return arguments.length?(l=+v,d()):l},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),d()):h},t.copy=function(){return Pf(e(),[r,a]).round(u).paddingInner(c).paddingOuter(l).align(h)},oa.apply(d(),arguments)}function bj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return bj(e())},t}function pf(){return bj(Pf.apply(null,arguments).paddingInner(1))}function hE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sh(){}var Nf=.7,Zp=1/Nf,Xs="\\s*([+-]?\\d+)\\s*",kf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wX=/^#([0-9a-f]{3,8})$/,_X=new RegExp(`^rgb\\(${Xs},${Xs},${Xs}\\)$`),SX=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),EX=new RegExp(`^rgba\\(${Xs},${Xs},${Xs},${kf}\\)$`),AX=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${kf}\\)$`),OX=new RegExp(`^hsl\\(${kf},${Ua},${Ua}\\)$`),TX=new RegExp(`^hsla\\(${kf},${Ua},${Ua},${kf}\\)$`),pk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hE(Sh,If,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vk,formatHex:vk,formatHex8:CX,formatHsl:RX,formatRgb:mk,toString:mk});function vk(){return this.rgb().formatHex()}function CX(){return this.rgb().formatHex8()}function RX(){return wj(this).formatHsl()}function mk(){return this.rgb().formatRgb()}function If(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?gk(e):n===3?new mr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?np(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?np(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_X.exec(t))?new mr(e[1],e[2],e[3],1):(e=SX.exec(t))?new mr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=EX.exec(t))?np(e[1],e[2],e[3],e[4]):(e=AX.exec(t))?np(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=OX.exec(t))?xk(e[1],e[2]/100,e[3]/100,1):(e=TX.exec(t))?xk(e[1],e[2]/100,e[3]/100,e[4]):pk.hasOwnProperty(t)?gk(pk[t]):t==="transparent"?new mr(NaN,NaN,NaN,0):null}function gk(t){return new mr(t>>16&255,t>>8&255,t&255,1)}function np(t,e,n,r){return r<=0&&(t=e=n=NaN),new mr(t,e,n,r)}function DX(t){return t instanceof Sh||(t=If(t)),t?(t=t.rgb(),new mr(t.r,t.g,t.b,t.opacity)):new mr}function u2(t,e,n,r){return arguments.length===1?DX(t):new mr(t,e,n,r??1)}function mr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}hE(mr,u2,xj(Sh,{brighter(t){return t=t==null?Zp:Math.pow(Zp,t),new mr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nf:Math.pow(Nf,t),new mr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mr(_u(this.r),_u(this.g),_u(this.b),Jp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yk,formatHex:yk,formatHex8:MX,formatRgb:bk,toString:bk}));function yk(){return`#${mu(this.r)}${mu(this.g)}${mu(this.b)}`}function MX(){return`#${mu(this.r)}${mu(this.g)}${mu(this.b)}${mu((isNaN(this.opacity)?1:this.opacity)*255)}`}function bk(){const t=Jp(this.opacity);return`${t===1?"rgb(":"rgba("}${_u(this.r)}, ${_u(this.g)}, ${_u(this.b)}${t===1?")":`, ${t})`}`}function Jp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _u(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mu(t){return t=_u(t),(t<16?"0":"")+t.toString(16)}function xk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ya(t,e,n,r)}function wj(t){if(t instanceof ya)return new ya(t.h,t.s,t.l,t.opacity);if(t instanceof Sh||(t=If(t)),!t)return new ya;if(t instanceof ya)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,u=i-a,c=(i+a)/2;return u?(e===i?o=(n-r)/u+(n<r)*6:n===i?o=(r-e)/u+2:o=(e-n)/u+4,u/=c<.5?i+a:2-i-a,o*=60):u=c>0&&c<1?0:o,new ya(o,u,c,t.opacity)}function PX(t,e,n,r){return arguments.length===1?wj(t):new ya(t,e,n,r??1)}function ya(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}hE(ya,PX,xj(Sh,{brighter(t){return t=t==null?Zp:Math.pow(Zp,t),new ya(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nf:Math.pow(Nf,t),new ya(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new mr(Jx(t>=240?t-240:t+120,a,r),Jx(t,a,r),Jx(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new ya(wk(this.h),rp(this.s),rp(this.l),Jp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jp(this.opacity);return`${t===1?"hsl(":"hsla("}${wk(this.h)}, ${rp(this.s)*100}%, ${rp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wk(t){return t=(t||0)%360,t<0?t+360:t}function rp(t){return Math.max(0,Math.min(1,t||0))}function Jx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dE=t=>()=>t;function NX(t,e){return function(n){return t+n*e}}function kX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function IX(t){return(t=+t)==1?_j:function(e,n){return n-e?kX(e,n,t):dE(isNaN(e)?n:e)}}function _j(t,e){var n=e-t;return n?NX(t,n):dE(isNaN(t)?e:t)}const _k=function t(e){var n=IX(e);function r(a,i){var o=n((a=u2(a)).r,(i=u2(i)).r),u=n(a.g,i.g),c=n(a.b,i.b),l=_j(a.opacity,i.opacity);return function(h){return a.r=o(h),a.g=u(h),a.b=c(h),a.opacity=l(h),a+""}}return r.gamma=t,r}(1);function BX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function LX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=zc(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(u){for(o=0;o<r;++o)i[o]=a[o](u);return i}}function FX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ev(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function UX(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=zc(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var s2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ew=new RegExp(s2.source,"g");function qX(t){return function(){return t}}function zX(t){return function(e){return t(e)+""}}function $X(t,e){var n=s2.lastIndex=ew.lastIndex=0,r,a,i,o=-1,u=[],c=[];for(t=t+"",e=e+"";(r=s2.exec(t))&&(a=ew.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),u[o]?u[o]+=i:u[++o]=i),(r=r[0])===(a=a[0])?u[o]?u[o]+=a:u[++o]=a:(u[++o]=null,c.push({i:o,x:ev(r,a)})),n=ew.lastIndex;return n<e.length&&(i=e.slice(n),u[o]?u[o]+=i:u[++o]=i),u.length<2?c[0]?zX(c[0].x):qX(e):(e=c.length,function(l){for(var h=0,d;h<e;++h)u[(d=c[h]).i]=d.x(l);return u.join("")})}function zc(t,e){var n=typeof e,r;return e==null||n==="boolean"?dE(e):(n==="number"?ev:n==="string"?(r=If(e))?(e=r,_k):$X:e instanceof If?_k:e instanceof Date?FX:LX(e)?BX:Array.isArray(e)?jX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?UX:ev)(t,e)}function pE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function WX(t,e){e===void 0&&(e=t,t=zc);for(var n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(a,a=e[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[u](o-u)}}function HX(t){return function(){return t}}function tv(t){return+t}var Sk=[0,1];function ar(t){return t}function c2(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:HX(isNaN(e)?NaN:.5)}function VX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function GX(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=c2(a,r),i=n(o,i)):(r=c2(r,a),i=n(i,o)),function(u){return i(r(u))}}function KX(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=c2(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(u){var c=_h(t,u,1,r)-1;return i[c](a[c](u))}}function Eh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Tm(){var t=Sk,e=Sk,n=zc,r,a,i,o=ar,u,c,l;function h(){var v=Math.min(t.length,e.length);return o!==ar&&(o=VX(t[0],t[v-1])),u=v>2?KX:GX,c=l=null,d}function d(v){return v==null||isNaN(v=+v)?i:(c||(c=u(t.map(r),e,n)))(r(o(v)))}return d.invert=function(v){return o(a((l||(l=u(e,t.map(r),ev)))(v)))},d.domain=function(v){return arguments.length?(t=Array.from(v,tv),h()):t.slice()},d.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},d.rangeRound=function(v){return e=Array.from(v),n=pE,h()},d.clamp=function(v){return arguments.length?(o=v?!0:ar,h()):o!==ar},d.interpolate=function(v){return arguments.length?(n=v,h()):n},d.unknown=function(v){return arguments.length?(i=v,d):i},function(v,m){return r=v,a=m,h()}}function vE(){return Tm()(ar,ar)}function XX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function nv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function lc(t){return t=nv(Math.abs(t)),t?t[1]:NaN}function YX(t,e){return function(n,r){for(var a=n.length,i=[],o=0,u=t[0],c=0;a>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),i.push(n.substring(a-=u,a+u)),!((c+=u+1)>r));)u=t[o=(o+1)%t.length];return i.reverse().join(e)}}function QX(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ZX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bf(t){if(!(e=ZX.exec(t)))throw new Error("invalid format: "+t);var e;return new mE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bf.prototype=mE.prototype;function mE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JX(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var Sj;function eY(t,e){var n=nv(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(Sj=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+nv(t,Math.max(0,e+i-1))[0]}function Ek(t,e){var n=nv(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Ak={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:XX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ek(t*100,e),r:Ek,s:eY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ok(t){return t}var Tk=Array.prototype.map,Ck=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tY(t){var e=t.grouping===void 0||t.thousands===void 0?Ok:YX(Tk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Ok:QX(Tk.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function l(d){d=Bf(d);var v=d.fill,m=d.align,y=d.sign,x=d.symbol,b=d.zero,w=d.width,S=d.comma,A=d.precision,O=d.trim,E=d.type;E==="n"?(S=!0,E="g"):Ak[E]||(A===void 0&&(A=12),O=!0,E="g"),(b||v==="0"&&m==="=")&&(b=!0,v="0",m="=");var C=x==="$"?n:x==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",R=x==="$"?r:/[%p]/.test(E)?o:"",D=Ak[E],M=/[defgprs%]/.test(E);A=A===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function N(k){var I=C,q=R,W,$,j;if(E==="c")q=D(k)+q,k="";else{k=+k;var U=k<0||1/k<0;if(k=isNaN(k)?c:D(Math.abs(k),A),O&&(k=JX(k)),U&&+k==0&&y!=="+"&&(U=!1),I=(U?y==="("?y:u:y==="-"||y==="("?"":y)+I,q=(E==="s"?Ck[8+Sj/3]:"")+q+(U&&y==="("?")":""),M){for(W=-1,$=k.length;++W<$;)if(j=k.charCodeAt(W),48>j||j>57){q=(j===46?a+k.slice(W+1):k.slice(W))+q,k=k.slice(0,W);break}}}S&&!b&&(k=e(k,1/0));var H=I.length+k.length+q.length,Y=H<w?new Array(w-H+1).join(v):"";switch(S&&b&&(k=e(Y+k,Y.length?w-q.length:1/0),Y=""),m){case"<":k=I+k+q+Y;break;case"=":k=I+Y+k+q;break;case"^":k=Y.slice(0,H=Y.length>>1)+I+k+q+Y.slice(H);break;default:k=Y+I+k+q;break}return i(k)}return N.toString=function(){return d+""},N}function h(d,v){var m=l((d=Bf(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(lc(v)/3)))*3,x=Math.pow(10,-y),b=Ck[8+y/3];return function(w){return m(x*w)+b}}return{format:l,formatPrefix:h}}var ap,gE,Ej;nY({thousands:",",grouping:[3],currency:["$",""]});function nY(t){return ap=tY(t),gE=ap.format,Ej=ap.formatPrefix,ap}function rY(t){return Math.max(0,-lc(Math.abs(t)))}function aY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lc(e)/3)))*3-lc(Math.abs(t)))}function iY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,lc(e)-lc(t))+1}function Aj(t,e,n,r){var a=i2(t,e,n),i;switch(r=Bf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=aY(a,o))&&(r.precision=i),Ej(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=iY(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=rY(a))&&(r.precision=i-(r.type==="%")*2);break}}return gE(r)}function Io(t){var e=t.domain;return t.ticks=function(n){var r=e();return r2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return Aj(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,o=r[a],u=r[i],c,l,h=10;for(u<o&&(l=o,o=u,u=l,l=a,a=i,i=l);h-- >0;){if(l=a2(o,u,n),l===c)return r[a]=o,r[i]=u,e(r);if(l>0)o=Math.floor(o/l)*l,u=Math.ceil(u/l)*l;else if(l<0)o=Math.ceil(o*l)/l,u=Math.floor(u*l)/l;else break;c=l}return t},t}function rv(){var t=vE();return t.copy=function(){return Eh(t,rv())},oa.apply(t,arguments),Io(t)}function Oj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,tv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Oj(t).unknown(e)},t=arguments.length?Array.from(t,tv):[0,1],Io(n)}function Tj(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),t[n]=e.floor(a),t[r]=e.ceil(i),t}function Rk(t){return Math.log(t)}function Dk(t){return Math.exp(t)}function oY(t){return-Math.log(-t)}function uY(t){return-Math.exp(-t)}function sY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cY(t){return t===10?sY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Mk(t){return(e,n)=>-t(-e,n)}function yE(t){const e=t(Rk,Dk),n=e.domain;let r=10,a,i;function o(){return a=lY(r),i=cY(r),n()[0]<0?(a=Mk(a),i=Mk(i),t(oY,uY)):t(Rk,Dk),e}return e.base=function(u){return arguments.length?(r=+u,o()):r},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const c=n();let l=c[0],h=c[c.length-1];const d=h<l;d&&([l,h]=[h,l]);let v=a(l),m=a(h),y,x;const b=u==null?10:+u;let w=[];if(!(r%1)&&m-v<b){if(v=Math.floor(v),m=Math.ceil(m),l>0){for(;v<=m;++v)for(y=1;y<r;++y)if(x=v<0?y/i(-v):y*i(v),!(x<l)){if(x>h)break;w.push(x)}}else for(;v<=m;++v)for(y=r-1;y>=1;--y)if(x=v>0?y/i(-v):y*i(v),!(x<l)){if(x>h)break;w.push(x)}w.length*2<b&&(w=r2(l,h,b))}else w=r2(v,m,Math.min(m-v,b)).map(i);return d?w.reverse():w},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Bf(c)).precision==null&&(c.trim=!0),c=gE(c)),u===1/0)return c;const l=Math.max(1,r*u/e.ticks().length);return h=>{let d=h/i(Math.round(a(h)));return d*r<r-.5&&(d*=r),d<=l?c(h):""}},e.nice=()=>n(Tj(n(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),e}function Cj(){const t=yE(Tm()).domain([1,10]);return t.copy=()=>Eh(t,Cj()).base(t.base()),oa.apply(t,arguments),t}function Pk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Nk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function bE(t){var e=1,n=t(Pk(e),Nk(e));return n.constant=function(r){return arguments.length?t(Pk(e=+r),Nk(e)):e},Io(n)}function Rj(){var t=bE(Tm());return t.copy=function(){return Eh(t,Rj()).constant(t.constant())},oa.apply(t,arguments)}function kk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function fY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hY(t){return t<0?-t*t:t*t}function xE(t){var e=t(ar,ar),n=1;function r(){return n===1?t(ar,ar):n===.5?t(fY,hY):t(kk(n),kk(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Io(e)}function wE(){var t=xE(Tm());return t.copy=function(){return Eh(t,wE()).exponent(t.exponent())},oa.apply(t,arguments),t}function dY(){return wE.apply(null,arguments).exponent(.5)}function Ik(t){return Math.sign(t)*t*t}function pY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Dj(){var t=vE(),e=[0,1],n=!1,r;function a(i){var o=pY(t(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return t.invert(Ik(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,tv)).map(Ik)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Dj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},oa.apply(a,arguments),Io(a)}function Mj(){var t=[],e=[],n=[],r;function a(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=bX(t,o/u);return i}function i(o){return o==null||isNaN(o=+o)?r:e[_h(n,o)]}return i.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ao),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return Mj().domain(t).range(e).unknown(r)},oa.apply(i,arguments)}function Pj(){var t=0,e=1,n=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[_h(r,c,0,n)]:i}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,u()):a.slice()},o.invertExtent=function(c){var l=a.indexOf(c);return l<0?[NaN,NaN]:l<1?[t,r[0]]:l>=n?[r[n-1],e]:[r[l-1],r[l]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Pj().domain([t,e]).range(a).unknown(i)},oa.apply(Io(o),arguments)}function Nj(){var t=[.5],e=[0,1],n,r=1;function a(i){return i!=null&&i<=i?e[_h(t,i,0,r)]:n}return a.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Nj().domain(t).range(e).unknown(n)},oa.apply(a,arguments)}const tw=new Date,nw=new Date;function bn(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),u=a.ceil(i);return i-o<u-i?o:u},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,u)=>{const c=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<o)||!(u>0))return c;let l;do c.push(l=new Date(+i)),e(i,u),t(i);while(l<i&&i<o);return c},a.filter=i=>bn(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!i(o););else for(;--u>=0;)for(;e(o,1),!i(o););}),n&&(a.count=(i,o)=>(tw.setTime(+i),nw.setTime(+o),t(tw),t(nw),Math.floor(n(tw,nw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const av=bn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);av.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?bn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):av);av.range;const _i=1e3,na=_i*60,Si=na*60,Ti=Si*24,_E=Ti*7,Bk=Ti*30,rw=Ti*365,gu=bn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCSeconds());gu.range;const SE=bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_i)},(t,e)=>{t.setTime(+t+e*na)},(t,e)=>(e-t)/na,t=>t.getMinutes());SE.range;const EE=bn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*na)},(t,e)=>(e-t)/na,t=>t.getUTCMinutes());EE.range;const AE=bn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_i-t.getMinutes()*na)},(t,e)=>{t.setTime(+t+e*Si)},(t,e)=>(e-t)/Si,t=>t.getHours());AE.range;const OE=bn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Si)},(t,e)=>(e-t)/Si,t=>t.getUTCHours());OE.range;const Ah=bn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*na)/Ti,t=>t.getDate()-1);Ah.range;const Cm=bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ti,t=>t.getUTCDate()-1);Cm.range;const kj=bn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ti,t=>Math.floor(t/Ti));kj.range;function Iu(t){return bn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*na)/_E)}const Rm=Iu(0),iv=Iu(1),vY=Iu(2),mY=Iu(3),fc=Iu(4),gY=Iu(5),yY=Iu(6);Rm.range;iv.range;vY.range;mY.range;fc.range;gY.range;yY.range;function Bu(t){return bn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_E)}const Dm=Bu(0),ov=Bu(1),bY=Bu(2),xY=Bu(3),hc=Bu(4),wY=Bu(5),_Y=Bu(6);Dm.range;ov.range;bY.range;xY.range;hc.range;wY.range;_Y.range;const TE=bn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());TE.range;const CE=bn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CE.range;const Ci=bn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ci.range;const Ri=bn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ri.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ri.range;function Ij(t,e,n,r,a,i){const o=[[gu,1,_i],[gu,5,5*_i],[gu,15,15*_i],[gu,30,30*_i],[i,1,na],[i,5,5*na],[i,15,15*na],[i,30,30*na],[a,1,Si],[a,3,3*Si],[a,6,6*Si],[a,12,12*Si],[r,1,Ti],[r,2,2*Ti],[n,1,_E],[e,1,Bk],[e,3,3*Bk],[t,1,rw]];function u(l,h,d){const v=h<l;v&&([l,h]=[h,l]);const m=d&&typeof d.range=="function"?d:c(l,h,d),y=m?m.range(l,+h+1):[];return v?y.reverse():y}function c(l,h,d){const v=Math.abs(h-l)/d,m=lE(([,,b])=>b).right(o,v);if(m===o.length)return t.every(i2(l/rw,h/rw,d));if(m===0)return av.every(Math.max(i2(l,h,d),1));const[y,x]=o[v/o[m-1][2]<o[m][2]/v?m-1:m];return y.every(x)}return[u,c]}const[SY,EY]=Ij(Ri,CE,Dm,kj,OE,EE),[AY,OY]=Ij(Ci,TE,Rm,Ah,AE,SE);function aw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function iw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ql(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function TY(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,u=t.months,c=t.shortMonths,l=Zl(a),h=Jl(a),d=Zl(i),v=Jl(i),m=Zl(o),y=Jl(o),x=Zl(u),b=Jl(u),w=Zl(c),S=Jl(c),A={a:U,A:H,b:Y,B,c:null,d:zk,e:zk,f:YY,g:oQ,G:sQ,H:GY,I:KY,j:XY,L:Bj,m:QY,M:ZY,p:K,q:J,Q:Hk,s:Vk,S:JY,u:eQ,U:tQ,V:nQ,w:rQ,W:aQ,x:null,X:null,y:iQ,Y:uQ,Z:cQ,"%":Wk},O={a:ne,A:ve,b:we,B:xe,c:null,d:$k,e:$k,f:dQ,g:SQ,G:AQ,H:lQ,I:fQ,j:hQ,L:jj,m:pQ,M:vQ,p:Fe,q:Ae,Q:Hk,s:Vk,S:mQ,u:gQ,U:yQ,V:bQ,w:xQ,W:wQ,x:null,X:null,y:_Q,Y:EQ,Z:OQ,"%":Wk},E={a:N,A:k,b:I,B:q,c:W,d:Uk,e:Uk,f:$Y,g:Fk,G:jk,H:qk,I:qk,j:FY,L:zY,m:jY,M:UY,p:M,q:LY,Q:HY,s:VY,S:qY,u:PY,U:NY,V:kY,w:MY,W:IY,x:$,X:j,y:Fk,Y:jk,Z:BY,"%":WY};A.x=C(n,A),A.X=C(r,A),A.c=C(e,A),O.x=C(n,O),O.X=C(r,O),O.c=C(e,O);function C(ge,Te){return function(Se){var le=[],Le=-1,Ie=0,Ge=ge.length,Ke,ct,Xt;for(Se instanceof Date||(Se=new Date(+Se));++Le<Ge;)ge.charCodeAt(Le)===37&&(le.push(ge.slice(Ie,Le)),(ct=Lk[Ke=ge.charAt(++Le)])!=null?Ke=ge.charAt(++Le):ct=Ke==="e"?" ":"0",(Xt=Te[Ke])&&(Ke=Xt(Se,ct)),le.push(Ke),Ie=Le+1);return le.push(ge.slice(Ie,Le)),le.join("")}}function R(ge,Te){return function(Se){var le=Ql(1900,void 0,1),Le=D(le,ge,Se+="",0),Ie,Ge;if(Le!=Se.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Te&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Ie=iw(Ql(le.y,0,1)),Ge=Ie.getUTCDay(),Ie=Ge>4||Ge===0?ov.ceil(Ie):ov(Ie),Ie=Cm.offset(Ie,(le.V-1)*7),le.y=Ie.getUTCFullYear(),le.m=Ie.getUTCMonth(),le.d=Ie.getUTCDate()+(le.w+6)%7):(Ie=aw(Ql(le.y,0,1)),Ge=Ie.getDay(),Ie=Ge>4||Ge===0?iv.ceil(Ie):iv(Ie),Ie=Ah.offset(Ie,(le.V-1)*7),le.y=Ie.getFullYear(),le.m=Ie.getMonth(),le.d=Ie.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),Ge="Z"in le?iw(Ql(le.y,0,1)).getUTCDay():aw(Ql(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(Ge+5)%7:le.w+le.U*7-(Ge+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,iw(le)):aw(le)}}function D(ge,Te,Se,le){for(var Le=0,Ie=Te.length,Ge=Se.length,Ke,ct;Le<Ie;){if(le>=Ge)return-1;if(Ke=Te.charCodeAt(Le++),Ke===37){if(Ke=Te.charAt(Le++),ct=E[Ke in Lk?Te.charAt(Le++):Ke],!ct||(le=ct(ge,Se,le))<0)return-1}else if(Ke!=Se.charCodeAt(le++))return-1}return le}function M(ge,Te,Se){var le=l.exec(Te.slice(Se));return le?(ge.p=h.get(le[0].toLowerCase()),Se+le[0].length):-1}function N(ge,Te,Se){var le=m.exec(Te.slice(Se));return le?(ge.w=y.get(le[0].toLowerCase()),Se+le[0].length):-1}function k(ge,Te,Se){var le=d.exec(Te.slice(Se));return le?(ge.w=v.get(le[0].toLowerCase()),Se+le[0].length):-1}function I(ge,Te,Se){var le=w.exec(Te.slice(Se));return le?(ge.m=S.get(le[0].toLowerCase()),Se+le[0].length):-1}function q(ge,Te,Se){var le=x.exec(Te.slice(Se));return le?(ge.m=b.get(le[0].toLowerCase()),Se+le[0].length):-1}function W(ge,Te,Se){return D(ge,e,Te,Se)}function $(ge,Te,Se){return D(ge,n,Te,Se)}function j(ge,Te,Se){return D(ge,r,Te,Se)}function U(ge){return o[ge.getDay()]}function H(ge){return i[ge.getDay()]}function Y(ge){return c[ge.getMonth()]}function B(ge){return u[ge.getMonth()]}function K(ge){return a[+(ge.getHours()>=12)]}function J(ge){return 1+~~(ge.getMonth()/3)}function ne(ge){return o[ge.getUTCDay()]}function ve(ge){return i[ge.getUTCDay()]}function we(ge){return c[ge.getUTCMonth()]}function xe(ge){return u[ge.getUTCMonth()]}function Fe(ge){return a[+(ge.getUTCHours()>=12)]}function Ae(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Te=C(ge+="",A);return Te.toString=function(){return ge},Te},parse:function(ge){var Te=R(ge+="",!1);return Te.toString=function(){return ge},Te},utcFormat:function(ge){var Te=C(ge+="",O);return Te.toString=function(){return ge},Te},utcParse:function(ge){var Te=R(ge+="",!0);return Te.toString=function(){return ge},Te}}}var Lk={"-":"",_:" ",0:"0"},Mn=/^\s*\d+/,CY=/^%/,RY=/[\\^$*+?|[\]().{}]/g;function pt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function DY(t){return t.replace(RY,"\\$&")}function Zl(t){return new RegExp("^(?:"+t.map(DY).join("|")+")","i")}function Jl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function MY(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function PY(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function NY(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function kY(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function IY(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function jk(t,e,n){var r=Mn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Fk(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function BY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function LY(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function jY(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Uk(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function FY(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function qk(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function UY(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function qY(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function zY(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function $Y(t,e,n){var r=Mn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function WY(t,e,n){var r=CY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function HY(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function VY(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function zk(t,e){return pt(t.getDate(),e,2)}function GY(t,e){return pt(t.getHours(),e,2)}function KY(t,e){return pt(t.getHours()%12||12,e,2)}function XY(t,e){return pt(1+Ah.count(Ci(t),t),e,3)}function Bj(t,e){return pt(t.getMilliseconds(),e,3)}function YY(t,e){return Bj(t,e)+"000"}function QY(t,e){return pt(t.getMonth()+1,e,2)}function ZY(t,e){return pt(t.getMinutes(),e,2)}function JY(t,e){return pt(t.getSeconds(),e,2)}function eQ(t){var e=t.getDay();return e===0?7:e}function tQ(t,e){return pt(Rm.count(Ci(t)-1,t),e,2)}function Lj(t){var e=t.getDay();return e>=4||e===0?fc(t):fc.ceil(t)}function nQ(t,e){return t=Lj(t),pt(fc.count(Ci(t),t)+(Ci(t).getDay()===4),e,2)}function rQ(t){return t.getDay()}function aQ(t,e){return pt(iv.count(Ci(t)-1,t),e,2)}function iQ(t,e){return pt(t.getFullYear()%100,e,2)}function oQ(t,e){return t=Lj(t),pt(t.getFullYear()%100,e,2)}function uQ(t,e){return pt(t.getFullYear()%1e4,e,4)}function sQ(t,e){var n=t.getDay();return t=n>=4||n===0?fc(t):fc.ceil(t),pt(t.getFullYear()%1e4,e,4)}function cQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pt(e/60|0,"0",2)+pt(e%60,"0",2)}function $k(t,e){return pt(t.getUTCDate(),e,2)}function lQ(t,e){return pt(t.getUTCHours(),e,2)}function fQ(t,e){return pt(t.getUTCHours()%12||12,e,2)}function hQ(t,e){return pt(1+Cm.count(Ri(t),t),e,3)}function jj(t,e){return pt(t.getUTCMilliseconds(),e,3)}function dQ(t,e){return jj(t,e)+"000"}function pQ(t,e){return pt(t.getUTCMonth()+1,e,2)}function vQ(t,e){return pt(t.getUTCMinutes(),e,2)}function mQ(t,e){return pt(t.getUTCSeconds(),e,2)}function gQ(t){var e=t.getUTCDay();return e===0?7:e}function yQ(t,e){return pt(Dm.count(Ri(t)-1,t),e,2)}function Fj(t){var e=t.getUTCDay();return e>=4||e===0?hc(t):hc.ceil(t)}function bQ(t,e){return t=Fj(t),pt(hc.count(Ri(t),t)+(Ri(t).getUTCDay()===4),e,2)}function xQ(t){return t.getUTCDay()}function wQ(t,e){return pt(ov.count(Ri(t)-1,t),e,2)}function _Q(t,e){return pt(t.getUTCFullYear()%100,e,2)}function SQ(t,e){return t=Fj(t),pt(t.getUTCFullYear()%100,e,2)}function EQ(t,e){return pt(t.getUTCFullYear()%1e4,e,4)}function AQ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hc(t):hc.ceil(t),pt(t.getUTCFullYear()%1e4,e,4)}function OQ(){return"+0000"}function Wk(){return"%"}function Hk(t){return+t}function Vk(t){return Math.floor(+t/1e3)}var Ds,Uj,qj;TQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function TQ(t){return Ds=TY(t),Uj=Ds.format,Ds.parse,qj=Ds.utcFormat,Ds.utcParse,Ds}function CQ(t){return new Date(t)}function RQ(t){return t instanceof Date?+t:+new Date(+t)}function RE(t,e,n,r,a,i,o,u,c,l){var h=vE(),d=h.invert,v=h.domain,m=l(".%L"),y=l(":%S"),x=l("%I:%M"),b=l("%I %p"),w=l("%a %d"),S=l("%b %d"),A=l("%B"),O=l("%Y");function E(C){return(c(C)<C?m:u(C)<C?y:o(C)<C?x:i(C)<C?b:r(C)<C?a(C)<C?w:S:n(C)<C?A:O)(C)}return h.invert=function(C){return new Date(d(C))},h.domain=function(C){return arguments.length?v(Array.from(C,RQ)):v().map(CQ)},h.ticks=function(C){var R=v();return t(R[0],R[R.length-1],C??10)},h.tickFormat=function(C,R){return R==null?E:l(R)},h.nice=function(C){var R=v();return(!C||typeof C.range!="function")&&(C=e(R[0],R[R.length-1],C??10)),C?v(Tj(R,C)):h},h.copy=function(){return Eh(h,RE(t,e,n,r,a,i,o,u,c,l))},h}function DQ(){return oa.apply(RE(AY,OY,Ci,TE,Rm,Ah,AE,SE,gu,Uj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MQ(){return oa.apply(RE(SY,EY,Ri,CE,Dm,Cm,OE,EE,gu,qj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mm(){var t=0,e=1,n,r,a,i,o=ar,u=!1,c;function l(d){return d==null||isNaN(d=+d)?c:o(a===0?.5:(d=(i(d)-n)*a,u?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([t,e]=d,n=i(t=+t),r=i(e=+e),a=n===r?0:1/(r-n),l):[t,e]},l.clamp=function(d){return arguments.length?(u=!!d,l):u},l.interpolator=function(d){return arguments.length?(o=d,l):o};function h(d){return function(v){var m,y;return arguments.length?([m,y]=v,o=d(m,y),l):[o(0),o(1)]}}return l.range=h(zc),l.rangeRound=h(pE),l.unknown=function(d){return arguments.length?(c=d,l):c},function(d){return i=d,n=d(t),r=d(e),a=n===r?0:1/(r-n),l}}function Bo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zj(){var t=Io(Mm()(ar));return t.copy=function(){return Bo(t,zj())},ki.apply(t,arguments)}function $j(){var t=yE(Mm()).domain([1,10]);return t.copy=function(){return Bo(t,$j()).base(t.base())},ki.apply(t,arguments)}function Wj(){var t=bE(Mm());return t.copy=function(){return Bo(t,Wj()).constant(t.constant())},ki.apply(t,arguments)}function DE(){var t=xE(Mm());return t.copy=function(){return Bo(t,DE()).exponent(t.exponent())},ki.apply(t,arguments)}function PQ(){return DE.apply(null,arguments).exponent(.5)}function Hj(){var t=[],e=ar;function n(r){if(r!=null&&!isNaN(r=+r))return e((_h(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ao),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>yX(t,i/r))},n.copy=function(){return Hj(e).domain(t)},ki.apply(n,arguments)}function Pm(){var t=0,e=.5,n=1,r=1,a,i,o,u,c,l=ar,h,d=!1,v;function m(x){return isNaN(x=+x)?v:(x=.5+((x=+h(x))-i)*(r*x<r*i?u:c),l(d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([t,e,n]=x,a=h(t=+t),i=h(e=+e),o=h(n=+n),u=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m):[t,e,n]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(l=x,m):l};function y(x){return function(b){var w,S,A;return arguments.length?([w,S,A]=b,l=WX(x,[w,S,A]),m):[l(0),l(.5),l(1)]}}return m.range=y(zc),m.rangeRound=y(pE),m.unknown=function(x){return arguments.length?(v=x,m):v},function(x){return h=x,a=x(t),i=x(e),o=x(n),u=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function Vj(){var t=Io(Pm()(ar));return t.copy=function(){return Bo(t,Vj())},ki.apply(t,arguments)}function Gj(){var t=yE(Pm()).domain([.1,1,10]);return t.copy=function(){return Bo(t,Gj()).base(t.base())},ki.apply(t,arguments)}function Kj(){var t=bE(Pm());return t.copy=function(){return Bo(t,Kj()).constant(t.constant())},ki.apply(t,arguments)}function ME(){var t=xE(Pm());return t.copy=function(){return Bo(t,ME()).exponent(t.exponent())},ki.apply(t,arguments)}function NQ(){return ME.apply(null,arguments).exponent(.5)}const Gk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Pf,scaleDiverging:Vj,scaleDivergingLog:Gj,scaleDivergingPow:ME,scaleDivergingSqrt:NQ,scaleDivergingSymlog:Kj,scaleIdentity:Oj,scaleImplicit:o2,scaleLinear:rv,scaleLog:Cj,scaleOrdinal:fE,scalePoint:pf,scalePow:wE,scaleQuantile:Mj,scaleQuantize:Pj,scaleRadial:Dj,scaleSequential:zj,scaleSequentialLog:$j,scaleSequentialPow:DE,scaleSequentialQuantile:Hj,scaleSequentialSqrt:PQ,scaleSequentialSymlog:Wj,scaleSqrt:dY,scaleSymlog:Rj,scaleThreshold:Nj,scaleTime:DQ,scaleUtc:MQ,tickFormat:Aj},Symbol.toStringTag,{value:"Module"}));var ow,Kk;function Nm(){if(Kk)return ow;Kk=1;var t=jc();function e(n,r,a){for(var i=-1,o=n.length;++i<o;){var u=n[i],c=r(u);if(c!=null&&(l===void 0?c===c&&!t(c):a(c,l)))var l=c,h=u}return h}return ow=e,ow}var uw,Xk;function Xj(){if(Xk)return uw;Xk=1;function t(e,n){return e>n}return uw=t,uw}var sw,Yk;function kQ(){if(Yk)return sw;Yk=1;var t=Nm(),e=Xj(),n=Uc();function r(a){return a&&a.length?t(a,n,e):void 0}return sw=r,sw}var IQ=kQ();const km=gt(IQ);var cw,Qk;function Yj(){if(Qk)return cw;Qk=1;function t(e,n){return e<n}return cw=t,cw}var lw,Zk;function BQ(){if(Zk)return lw;Zk=1;var t=Nm(),e=Yj(),n=Uc();function r(a){return a&&a.length?t(a,n,e):void 0}return lw=r,lw}var LQ=BQ();const Im=gt(LQ);var fw,Jk;function jQ(){if(Jk)return fw;Jk=1;var t=GS(),e=Ya(),n=aj(),r=wr();function a(i,o){var u=r(i)?t:n;return u(i,e(o,3))}return fw=a,fw}var hw,eI;function FQ(){if(eI)return hw;eI=1;var t=nj(),e=jQ();function n(r,a){return t(e(r,a),1)}return hw=n,hw}var UQ=FQ();const qQ=gt(UQ);var dw,tI;function zQ(){if(tI)return dw;tI=1;var t=oE();function e(n,r){return t(n,r)}return dw=e,dw}var $Q=zQ();const Bm=gt($Q);var $c=1e9,WQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},NE,jt=!0,ia="[DecimalError] ",Su=ia+"Invalid argument: ",PE=ia+"Exponent out of range: ",Wc=Math.floor,cu=Math.pow,HQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nr,Tn=1e7,Bt=7,Qj=9007199254740991,uv=Wc(Qj/Bt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,n,r,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Bt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(t){return Oi(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,n=e.constructor;return Rt(Oi(e,new n(t),0,1),n.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return sn(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,n=this,r=n.constructor,a=r.precision,i=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Nr))throw Error(ia+"NaN");if(n.s<1)throw Error(ia+(n.s?"NaN":"-Infinity"));return n.eq(Nr)?new r(0):(jt=!1,e=Oi(Lf(n,i),Lf(t,i),i),jt=!0,Rt(e,a))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eF(e,t):Zj(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(ia+"NaN");return n.s?(jt=!1,e=Oi(n,t,0,1).times(t),jt=!0,n.minus(e)):Rt(new r(n),a)};Ce.naturalExponential=Ce.exp=function(){return Jj(this)};Ce.naturalLogarithm=Ce.ln=function(){return Lf(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Zj(e,t):eF(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Su+t);if(e=sn(a)+1,r=a.d.length-1,n=r*Bt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ce.squareRoot=Ce.sqrt=function(){var t,e,n,r,a,i,o,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(ia+"NaN")}for(t=sn(u),jt=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=ja(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Wc((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=r,r=i.plus(Oi(u,i,o+2)).times(.5),ja(i.d).slice(0,o)===(e=ja(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(Rt(i,n+1,0),i.times(i).eq(u)){r=i;break}}else if(e!="9999")break;o+=4}return jt=!0,Rt(r,n)};Ce.times=Ce.mul=function(t){var e,n,r,a,i,o,u,c,l,h=this,d=h.constructor,v=h.d,m=(t=new d(t)).d;if(!h.s||!t.s)return new d(0);for(t.s*=h.s,n=h.e+t.e,c=v.length,l=m.length,c<l&&(i=v,v=m,m=i,o=c,c=l,l=o),i=[],o=c+l,r=o;r--;)i.push(0);for(r=l;--r>=0;){for(e=0,a=c+r;a>r;)u=i[a]+m[r]*v[a-r-1]+e,i[a--]=u%Tn|0,e=u/Tn|0;i[a]=(i[a]+e)%Tn|0}for(;!i[--o];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,jt?Rt(t,d.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Va(t,0,$c),e===void 0?e=r.rounding:Va(e,0,8),Rt(n,t+sn(n)+1,e))};Ce.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=Cu(r,!0):(Va(t,0,$c),e===void 0?e=a.rounding:Va(e,0,8),r=Rt(new a(r),t+1,e),n=Cu(r,!0,t+1)),n};Ce.toFixed=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?Cu(a):(Va(t,0,$c),e===void 0?e=i.rounding:Va(e,0,8),r=Rt(new i(a),t+sn(a)+1,e),n=Cu(r.abs(),!1,t+sn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return Rt(new e(t),sn(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,n,r,a,i,o,u=this,c=u.constructor,l=12,h=+(t=new c(t));if(!t.s)return new c(Nr);if(u=new c(u),!u.s){if(t.s<1)throw Error(ia+"Infinity");return u}if(u.eq(Nr))return u;if(r=c.precision,t.eq(Nr))return Rt(u,r);if(e=t.e,n=t.d.length-1,o=e>=n,i=u.s,o){if((n=h<0?-h:h)<=Qj){for(a=new c(Nr),e=Math.ceil(r/Bt+4),jt=!1;n%2&&(a=a.times(u),rI(a.d,e)),n=Wc(n/2),n!==0;)u=u.times(u),rI(u.d,e);return jt=!0,t.s<0?new c(Nr).div(a):Rt(a,r)}}else if(i<0)throw Error(ia+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,jt=!1,a=t.times(Lf(u,r+l)),jt=!0,a=Jj(a),a.s=i,a};Ce.toPrecision=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?(n=sn(a),r=Cu(a,n<=i.toExpNeg||n>=i.toExpPos)):(Va(t,1,$c),e===void 0?e=i.rounding:Va(e,0,8),a=Rt(new i(a),t,e),n=sn(a),r=Cu(a,t<=n||n<=i.toExpNeg,t)),r};Ce.toSignificantDigits=Ce.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Va(t,1,$c),e===void 0?e=r.rounding:Va(e,0,8)),Rt(new r(n),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=sn(t),n=t.constructor;return Cu(t,e<=n.toExpNeg||e>=n.toExpPos)};function Zj(t,e){var n,r,a,i,o,u,c,l,h=t.constructor,d=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),jt?Rt(e,d):e;if(c=t.d,l=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,u=l.length):(r=l,a=o,u=c.length),o=Math.ceil(d/Bt),u=o>u?o+1:u+1,i>u&&(i=u,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(u=c.length,i=l.length,u-i<0&&(i=u,r=l,l=c,c=r),n=0;i;)n=(c[--i]=c[i]+l[i]+n)/Tn|0,c[i]%=Tn;for(n&&(c.unshift(n),++a),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=a,jt?Rt(e,d):e}function Va(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Su+t)}function ja(t){var e,n,r,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)r=t[e]+"",n=Bt-r.length,n&&(i+=mo(n)),i+=r;o=t[e],r=o+"",n=Bt-r.length,n&&(i+=mo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Oi=function(){function t(r,a){var i,o=0,u=r.length;for(r=r.slice();u--;)i=r[u]*a+o,r[u]=i%Tn|0,o=i/Tn|0;return o&&r.unshift(o),r}function e(r,a,i,o){var u,c;if(i!=o)c=i>o?1:-1;else for(u=c=0;u<i;u++)if(r[u]!=a[u]){c=r[u]>a[u]?1:-1;break}return c}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*Tn+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var u,c,l,h,d,v,m,y,x,b,w,S,A,O,E,C,R,D,M=r.constructor,N=r.s==a.s?1:-1,k=r.d,I=a.d;if(!r.s)return new M(r);if(!a.s)throw Error(ia+"Division by zero");for(c=r.e-a.e,R=I.length,E=k.length,m=new M(N),y=m.d=[],l=0;I[l]==(k[l]||0);)++l;if(I[l]>(k[l]||0)&&--c,i==null?S=i=M.precision:o?S=i+(sn(r)-sn(a))+1:S=i,S<0)return new M(0);if(S=S/Bt+2|0,l=0,R==1)for(h=0,I=I[0],S++;(l<E||h)&&S--;l++)A=h*Tn+(k[l]||0),y[l]=A/I|0,h=A%I|0;else{for(h=Tn/(I[0]+1)|0,h>1&&(I=t(I,h),k=t(k,h),R=I.length,E=k.length),O=R,x=k.slice(0,R),b=x.length;b<R;)x[b++]=0;D=I.slice(),D.unshift(0),C=I[0],I[1]>=Tn/2&&++C;do h=0,u=e(I,x,R,b),u<0?(w=x[0],R!=b&&(w=w*Tn+(x[1]||0)),h=w/C|0,h>1?(h>=Tn&&(h=Tn-1),d=t(I,h),v=d.length,b=x.length,u=e(d,x,v,b),u==1&&(h--,n(d,R<v?D:I,v))):(h==0&&(u=h=1),d=I.slice()),v=d.length,v<b&&d.unshift(0),n(x,d,b),u==-1&&(b=x.length,u=e(I,x,R,b),u<1&&(h++,n(x,R<b?D:I,b))),b=x.length):u===0&&(h++,x=[0]),y[l++]=h,u&&x[0]?x[b++]=k[O]||0:(x=[k[O]],b=1);while((O++<E||x[0]!==void 0)&&S--)}return y[0]||y.shift(),m.e=c,Rt(m,o?i+sn(m)+1:i)}}();function Jj(t,e){var n,r,a,i,o,u,c=0,l=0,h=t.constructor,d=h.precision;if(sn(t)>16)throw Error(PE+sn(t));if(!t.s)return new h(Nr);for(jt=!1,u=d,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),l+=5;for(r=Math.log(cu(2,l))/Math.LN10*2+5|0,u+=r,n=a=i=new h(Nr),h.precision=u;;){if(a=Rt(a.times(t),u),n=n.times(++c),o=i.plus(Oi(a,n,u)),ja(o.d).slice(0,u)===ja(i.d).slice(0,u)){for(;l--;)i=Rt(i.times(i),u);return h.precision=d,e==null?(jt=!0,Rt(i,d)):i}i=o}}function sn(t){for(var e=t.e*Bt,n=t.d[0];n>=10;n/=10)e++;return e}function pw(t,e,n){if(e>t.LN10.sd())throw jt=!0,n&&(t.precision=n),Error(ia+"LN10 precision limit exceeded");return Rt(new t(t.LN10),e)}function mo(t){for(var e="";t--;)e+="0";return e}function Lf(t,e){var n,r,a,i,o,u,c,l,h,d=1,v=10,m=t,y=m.d,x=m.constructor,b=x.precision;if(m.s<1)throw Error(ia+(m.s?"NaN":"-Infinity"));if(m.eq(Nr))return new x(0);if(e==null?(jt=!1,l=b):l=e,m.eq(10))return e==null&&(jt=!0),pw(x,l);if(l+=v,x.precision=l,n=ja(y),r=n.charAt(0),i=sn(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=ja(m.d),r=n.charAt(0),d++;i=sn(m),r>1?(m=new x("0."+n),i++):m=new x(r+"."+n.slice(1))}else return c=pw(x,l+2,b).times(i+""),m=Lf(new x(r+"."+n.slice(1)),l-v).plus(c),x.precision=b,e==null?(jt=!0,Rt(m,b)):m;for(u=o=m=Oi(m.minus(Nr),m.plus(Nr),l),h=Rt(m.times(m),l),a=3;;){if(o=Rt(o.times(h),l),c=u.plus(Oi(o,new x(a),l)),ja(c.d).slice(0,l)===ja(u.d).slice(0,l))return u=u.times(2),i!==0&&(u=u.plus(pw(x,l+2,b).times(i+""))),u=Oi(u,new x(d),l),x.precision=b,e==null?(jt=!0,Rt(u,b)):u;u=c,a+=2}}function nI(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=Wc(n/Bt),t.d=[],r=(n+1)%Bt,n<0&&(r+=Bt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Bt;r<a;)t.d.push(+e.slice(r,r+=Bt));e=e.slice(r),r=Bt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),jt&&(t.e>uv||t.e<-uv))throw Error(PE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Rt(t,e,n){var r,a,i,o,u,c,l,h,d=t.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(r=e-o,r<0)r+=Bt,a=e,l=d[h=0];else{if(h=Math.ceil((r+1)/Bt),i=d.length,h>=i)return t;for(l=i=d[h],o=1;i>=10;i/=10)o++;r%=Bt,a=r-Bt+o}if(n!==void 0&&(i=cu(10,o-a-1),u=l/i%10|0,c=e<0||d[h+1]!==void 0||l%i,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?a>0?l/cu(10,o-a):0:d[h-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return c?(i=sn(t),d.length=1,e=e-i-1,d[0]=cu(10,(Bt-e%Bt)%Bt),t.e=Wc(-e/Bt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=h,i=1,h--):(d.length=h+1,i=cu(10,Bt-r),d[h]=a>0?(l/cu(10,o-a)%cu(10,a)|0)*i:0),c)for(;;)if(h==0){(d[0]+=i)==Tn&&(d[0]=1,++t.e);break}else{if(d[h]+=i,d[h]!=Tn)break;d[h--]=0,i=1}for(r=d.length;d[--r]===0;)d.pop();if(jt&&(t.e>uv||t.e<-uv))throw Error(PE+sn(t));return t}function eF(t,e){var n,r,a,i,o,u,c,l,h,d,v=t.constructor,m=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),jt?Rt(e,m):e;if(c=t.d,d=e.d,r=e.e,l=t.e,c=c.slice(),o=l-r,o){for(h=o<0,h?(n=c,o=-o,u=d.length):(n=d,r=l,u=c.length),a=Math.max(Math.ceil(m/Bt),u)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,u=d.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(c[a]!=d[a]){h=c[a]<d[a];break}o=0}for(h&&(n=c,c=d,d=n,e.s=-e.s),u=c.length,a=d.length-u;a>0;--a)c[u++]=0;for(a=d.length;a>o;){if(c[--a]<d[a]){for(i=a;i&&c[--i]===0;)c[i]=Tn-1;--c[i],c[a]+=Tn}c[a]-=d[a]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,jt?Rt(e,m):e):new v(0)}function Cu(t,e,n){var r,a=sn(t),i=ja(t.d),o=i.length;return e?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+mo(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+mo(-a-1)+i,n&&(r=n-o)>0&&(i+=mo(r))):a>=o?(i+=mo(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+mo(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=mo(r))),t.s<0?"-"+i:i}function rI(t,e){if(t.length>e)return t.length=e,!0}function tF(t){var e,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Su+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return nI(o,i.toString())}else if(typeof i!="string")throw Error(Su+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,HQ.test(i))nI(o,i);else throw Error(Su+i)}if(a.prototype=Ce,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=tF,a.config=a.set=VQ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function VQ(t){if(!t||typeof t!="object")throw Error(ia+"Object expected");var e,n,r,a=["precision",1,$c,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(Wc(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(Su+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Su+n+": "+r);return this}var NE=tF(WQ);Nr=new NE(1);const Tt=NE;function GQ(t){return QQ(t)||YQ(t)||XQ(t)||KQ()}function KQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XQ(t,e){if(t){if(typeof t=="string")return l2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l2(t,e)}}function YQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function QQ(t){if(Array.isArray(t))return l2(t)}function l2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ZQ=function(e){return e},nF={},rF=function(e){return e===nF},aI=function(e){return function n(){return arguments.length===0||arguments.length===1&&rF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},JQ=function t(e,n){return e===1?n:aI(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(u){return u!==nF}).length;return o>=e?n.apply(void 0,a):t(e-o,aI(function(){for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];var h=a.map(function(d){return rF(d)?c.shift():d});return n.apply(void 0,GQ(h).concat(c))}))})},Lm=function(e){return JQ(e.length,e)},f2=function(e,n){for(var r=[],a=e;a<n;++a)r[a-e]=a;return r},eZ=Lm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),tZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ZQ;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(u,c){return c(u)},i.apply(void 0,arguments))}},h2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},aF=function(e){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(u,c){return u===n[c]})||(n=i,r=e.apply(void 0,i)),r}};function nZ(t){var e;return t===0?e=1:e=Math.floor(new Tt(t).abs().log(10).toNumber())+1,e}function rZ(t,e,n){for(var r=new Tt(t),a=0,i=[];r.lt(e)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var aZ=Lm(function(t,e,n){var r=+t,a=+e;return r+n*(a-r)}),iZ=Lm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),oZ=Lm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const jm={rangeStep:rZ,getDigitCount:nZ,interpolateNumber:aZ,uninterpolateNumber:iZ,uninterpolateTruncation:oZ};function d2(t){return cZ(t)||sZ(t)||iF(t)||uZ()}function uZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sZ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function cZ(t){if(Array.isArray(t))return p2(t)}function jf(t,e){return hZ(t)||fZ(t,e)||iF(t,e)||lZ()}function lZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iF(t,e){if(t){if(typeof t=="string")return p2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p2(t,e)}}function p2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fZ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),u;!(r=(u=o.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function hZ(t){if(Array.isArray(t))return t}function oF(t){var e=jf(t,2),n=e[0],r=e[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function uF(t,e,n){if(t.lte(0))return new Tt(0);var r=jm.getDigitCount(t.toNumber()),a=new Tt(10).pow(r),i=t.div(a),o=r!==1?.05:.1,u=new Tt(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=u.mul(a);return e?c:new Tt(Math.ceil(c))}function dZ(t,e,n){var r=1,a=new Tt(t);if(!a.isint()&&n){var i=Math.abs(t);i<1?(r=new Tt(10).pow(jm.getDigitCount(t)-1),a=new Tt(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Tt(Math.floor(t)))}else t===0?a=new Tt(Math.floor((e-1)/2)):n||(a=new Tt(Math.floor(t)));var o=Math.floor((e-1)/2),u=tZ(eZ(function(c){return a.add(new Tt(c-o).mul(r)).toNumber()}),f2);return u(0,e)}function sF(t,e,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var i=uF(new Tt(e).sub(t).div(n-1),r,a),o;t<=0&&e>=0?o=new Tt(0):(o=new Tt(t).add(e).div(2),o=o.sub(new Tt(o).mod(i)));var u=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new Tt(e).sub(o).div(i).toNumber()),l=u+c+1;return l>n?sF(t,e,n,r,a+1):(l<n&&(c=e>0?c+(n-l):c,u=e>0?u:u+(n-l)),{step:i,tickMin:o.sub(new Tt(u).mul(i)),tickMax:o.add(new Tt(c).mul(i))})}function pZ(t){var e=jf(t,2),n=e[0],r=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),u=oF([n,r]),c=jf(u,2),l=c[0],h=c[1];if(l===-1/0||h===1/0){var d=h===1/0?[l].concat(d2(f2(0,a-1).map(function(){return 1/0}))):[].concat(d2(f2(0,a-1).map(function(){return-1/0})),[h]);return n>r?h2(d):d}if(l===h)return dZ(l,a,i);var v=sF(l,h,o,i),m=v.step,y=v.tickMin,x=v.tickMax,b=jm.rangeStep(y,x.add(new Tt(.1).mul(m)),m);return n>r?h2(b):b}function vZ(t,e){var n=jf(t,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=oF([r,a]),u=jf(o,2),c=u[0],l=u[1];if(c===-1/0||l===1/0)return[r,a];if(c===l)return[c];var h=Math.max(e,2),d=uF(new Tt(l).sub(c).div(h-1),i,0),v=[].concat(d2(jm.rangeStep(new Tt(c),new Tt(l).sub(new Tt(.99).mul(d)),d)),[l]);return r>a?h2(v):v}var mZ=aF(pZ),gZ=aF(vZ),yZ="Invariant failed";function Ru(t,e){throw new Error(yZ)}var bZ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(this,arguments)}function xZ(t,e){return EZ(t)||SZ(t,e)||_Z(t,e)||wZ()}function wZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Z(t,e){if(t){if(typeof t=="string")return iI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iI(t,e)}}function iI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){l=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return u}}function EZ(t){if(Array.isArray(t))return t}function AZ(t,e){if(t==null)return{};var n=OZ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fF(r.key),r)}}function RZ(t,e,n){return e&&CZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DZ(t,e,n){return e=cv(e),MZ(t,cF()?Reflect.construct(e,n||[],cv(t).constructor):e.apply(t,n))}function MZ(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PZ(t)}function PZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cF=function(){return!!t})()}function cv(t){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cv(t)}function NZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v2(t,e)}function v2(t,e){return v2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},v2(t,e)}function lF(t,e,n){return e=fF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fF(t){var e=kZ(t,"string");return dc(e)=="symbol"?e:e+""}function kZ(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fm=function(t){function e(){return TZ(this,e),DZ(this,e,arguments)}return NZ(e,t),RZ(e,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,u=r.dataKey,c=r.data,l=r.dataPointFormatter,h=r.xAxis,d=r.yAxis,v=AZ(r,bZ),m=We(v,!1);this.props.direction==="x"&&h.type!=="number"&&Ru();var y=c.map(function(x){var b=l(x,u),w=b.x,S=b.y,A=b.value,O=b.errorVal;if(!O)return null;var E=[],C,R;if(Array.isArray(O)){var D=xZ(O,2);C=D[0],R=D[1]}else C=R=O;if(i==="vertical"){var M=h.scale,N=S+a,k=N+o,I=N-o,q=M(A-C),W=M(A+R);E.push({x1:W,y1:k,x2:W,y2:I}),E.push({x1:q,y1:N,x2:W,y2:N}),E.push({x1:q,y1:k,x2:q,y2:I})}else if(i==="horizontal"){var $=d.scale,j=w+a,U=j-o,H=j+o,Y=$(A-C),B=$(A+R);E.push({x1:U,y1:B,x2:H,y2:B}),E.push({x1:j,y1:Y,x2:j,y2:B}),E.push({x1:U,y1:Y,x2:H,y2:Y})}return V.createElement(St,sv({className:"recharts-errorBar",key:"bar-".concat(E.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},m),E.map(function(K){return V.createElement("line",sv({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return V.createElement(St,{className:"recharts-errorBars"},y)}}])}(V.Component);lF(Fm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lF(Fm,"displayName","ErrorBar");function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){IZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IZ(t,e,n){return e=BZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BZ(t){var e=LZ(t,"string");return Ff(e)=="symbol"?e:e+""}function LZ(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hF=function(e){var n=e.children,r=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=Dr(n,Eo);if(!o)return null;var u=Eo.defaultProps,c=u!==void 0?au(au({},u),o.props):{},l;return o.props&&o.props.payload?l=o.props&&o.props.payload:i==="children"?l=(r||[]).reduce(function(h,d){var v=d.item,m=d.props,y=m.sectors||m.data||[];return h.concat(y.map(function(x){return{type:o.props.iconType||v.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):l=(r||[]).map(function(h){var d=h.item,v=d.type.defaultProps,m=v!==void 0?au(au({},v),d.props):{},y=m.dataKey,x=m.name,b=m.legendType,w=m.hide;return{inactive:w,dataKey:y,type:c.iconType||b||"square",color:kE(d),value:x||y,payload:m}}),au(au(au({},c),Eo.getWithHeight(o,a)),{},{payload:l,item:o})};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function uI(t){return qZ(t)||UZ(t)||FZ(t)||jZ()}function jZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FZ(t,e){if(t){if(typeof t=="string")return m2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m2(t,e)}}function UZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qZ(t){if(Array.isArray(t))return m2(t)}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){Ys(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ys(t,e,n){return e=zZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zZ(t){var e=$Z(t,"string");return Uf(e)=="symbol"?e:e+""}function $Z(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yn(t,e,n){return ut(t)||ut(e)?n:pn(e)?jr(t,e,n):Ve(e)?e(t):n}function vf(t,e,n,r){var a=qQ(t,function(u){return Yn(u,e)});if(n==="number"){var i=a.filter(function(u){return _e(u)||parseFloat(u)});return i.length?[Im(i),km(i)]:[1/0,-1/0]}var o=r?a.filter(function(u){return!ut(u)}):a;return o.map(function(u){return pn(u)||u instanceof Date?u:""})}var WZ=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,l=0;l<u;l++){var h=l>0?a[l-1].coordinate:a[u-1].coordinate,d=a[l].coordinate,v=l>=u-1?a[0].coordinate:a[l+1].coordinate,m=void 0;if(nr(d-h)!==nr(v-d)){var y=[];if(nr(v-d)===nr(c[1]-c[0])){m=v;var x=d+c[1]-c[0];y[0]=Math.min(x,(x+h)/2),y[1]=Math.max(x,(x+h)/2)}else{m=h;var b=v+c[1]-c[0];y[0]=Math.min(d,(b+d)/2),y[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){o=a[l].index;break}}else{var S=Math.min(h,v),A=Math.max(h,v);if(e>(S+d)/2&&e<=(A+d)/2){o=a[l].index;break}}}else for(var O=0;O<u;O++)if(O===0&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<u-1&&e>(r[O].coordinate+r[O-1].coordinate)/2&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O===u-1&&e>(r[O].coordinate+r[O-1].coordinate)/2){o=r[O].index;break}return o},kE=function(e){var n,r=e,a=r.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Kt(Kt({},e.type.defaultProps),e.props):e.props,o=i.stroke,u=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:u;break;default:c=u;break}return c},HZ=function(e){var n=e.barSize,r=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},u=Object.keys(i),c=0,l=u.length;c<l;c++)for(var h=i[u[c]].stackGroups,d=Object.keys(h),v=0,m=d.length;v<m;v++){var y=h[d[v]],x=y.items,b=y.cateAxisId,w=x.filter(function(R){return Ai(R.type).indexOf("Bar")>=0});if(w&&w.length){var S=w[0].type.defaultProps,A=S!==void 0?Kt(Kt({},S),w[0].props):w[0].props,O=A.barSize,E=A[b];o[E]||(o[E]=[]);var C=ut(O)?n:O;o[E].push({item:w[0],stackList:w.slice(1),barSize:ut(C)?void 0:rr(C,r,0)})}}return o},VZ=function(e){var n=e.barGap,r=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,u=e.maxBarSize,c=o.length;if(c<1)return null;var l=rr(n,a,0,!0),h,d=[];if(o[0].barSize===+o[0].barSize){var v=!1,m=a/c,y=o.reduce(function(O,E){return O+E.barSize||0},0);y+=(c-1)*l,y>=a&&(y-=(c-1)*l,l=0),y>=a&&m>0&&(v=!0,m*=.9,y=c*m);var x=(a-y)/2>>0,b={offset:x-l,size:0};h=o.reduce(function(O,E){var C={item:E.item,position:{offset:b.offset+b.size+l,size:v?m:E.barSize}},R=[].concat(uI(O),[C]);return b=R[R.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(D){R.push({item:D,position:b})}),R},d)}else{var w=rr(r,a,0,!0);a-2*w-(c-1)*l<=0&&(l=0);var S=(a-2*w-(c-1)*l)/c;S>1&&(S>>=0);var A=u===+u?Math.min(S,u):S;h=o.reduce(function(O,E,C){var R=[].concat(uI(O),[{item:E.item,position:{offset:w+(S+l)*C+(S-A)/2,size:A}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(D){R.push({item:D,position:R[R.length-1].position})}),R},d)}return h},GZ=function(e,n,r,a){var i=r.children,o=r.width,u=r.margin,c=o-(u.left||0)-(u.right||0),l=hF({children:i,legendWidth:c});if(l){var h=a||{},d=h.width,v=h.height,m=l.align,y=l.verticalAlign,x=l.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&m!=="center"&&_e(e[m]))return Kt(Kt({},e),{},Ys({},m,e[m]+(d||0)));if((x==="horizontal"||x==="vertical"&&m==="center")&&y!=="middle"&&_e(e[y]))return Kt(Kt({},e),{},Ys({},y,e[y]+(v||0)))}return e},KZ=function(e,n,r){return ut(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},dF=function(e,n,r,a,i){var o=n.props.children,u=aa(o,Fm).filter(function(l){return KZ(a,i,l.props.direction)});if(u&&u.length){var c=u.map(function(l){return l.props.dataKey});return e.reduce(function(l,h){var d=Yn(h,r);if(ut(d))return l;var v=Array.isArray(d)?[Im(d),km(d)]:[d,d],m=c.reduce(function(y,x){var b=Yn(h,x,0),w=v[0]-Math.abs(Array.isArray(b)?b[0]:b),S=v[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,y[0]),Math.max(S,y[1])]},[1/0,-1/0]);return[Math.min(m[0],l[0]),Math.max(m[1],l[1])]},[1/0,-1/0])}return null},XZ=function(e,n,r,a,i){var o=n.map(function(u){return dF(e,u,r,i,a)}).filter(function(u){return!ut(u)});return o&&o.length?o.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},pF=function(e,n,r,a,i){var o=n.map(function(c){var l=c.props.dataKey;return r==="number"&&l&&dF(e,c,l,a)||vf(e,l,r,i)});if(r==="number")return o.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]);var u={};return o.reduce(function(c,l){for(var h=0,d=l.length;h<d;h++)u[l[h]]||(u[l[h]]=!0,c.push(l[h]));return c},[])},vF=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},mF=function(e,n,r,a){if(a)return e.map(function(c){return c.coordinate});var i,o,u=e.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||u.push(n),o||u.push(r),u},Ei=function(e,n,r){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,u=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,l=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(l=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?nr(u[0]-u[1])*2*l:l,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(d){var v=i?i.indexOf(d):d;return{coordinate:a(v)+l,value:d,offset:l}});return h.filter(function(d){return!bh(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,v){return{coordinate:a(d)+l,value:d,index:v,offset:l}}):a.ticks&&!r?a.ticks(e.tickCount).map(function(d){return{coordinate:a(d)+l,value:d,offset:l}}):a.domain().map(function(d,v){return{coordinate:a(d)+l,value:i?i[d]:d,index:v,offset:l}})},vw=new WeakMap,ip=function(e,n){if(typeof n!="function")return e;vw.has(e)||vw.set(e,new WeakMap);var r=vw.get(e);if(r.has(n))return r.get(n);var a=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},gF=function(e,n,r){var a=e.scale,i=e.type,o=e.layout,u=e.axisType;if(a==="auto")return o==="radial"&&u==="radiusAxis"?{scale:Pf(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:rv(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:pf(),realScaleType:"point"}:i==="category"?{scale:Pf(),realScaleType:"band"}:{scale:rv(),realScaleType:"linear"};if(yh(a)){var c="scale".concat(xm(a));return{scale:(Gk[c]||pf)(),realScaleType:Gk[c]?c:"point"}}return Ve(a)?{scale:a}:{scale:pf(),realScaleType:"point"}},cI=1e-4,yF=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,a=e.range(),i=Math.min(a[0],a[1])-cI,o=Math.max(a[0],a[1])+cI,u=e(n[0]),c=e(n[r-1]);(u<i||u>o||c<i||c>o)&&e.domain([n[0],n[r-1]])}},YZ=function(e,n){if(!e)return null;for(var r=0,a=e.length;r<a;r++)if(e[r].item===n)return e[r].position;return null},QZ=function(e,n){if(!n||n.length!==2||!_e(n[0])||!_e(n[1]))return e;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!_e(e[0])||e[0]<r)&&(i[0]=r),(!_e(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},ZZ=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,o=0,u=0;u<n;++u){var c=bh(e[u][r][1])?e[u][r][0]:e[u][r][1];c>=0?(e[u][r][0]=i,e[u][r][1]=i+c,i=e[u][r][1]):(e[u][r][0]=o,e[u][r][1]=o+c,o=e[u][r][1])}},JZ=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var u=bh(e[o][r][1])?e[o][r][0]:e[o][r][1];u>=0?(e[o][r][0]=i,e[o][r][1]=i+u,i=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},eJ={sign:ZZ,expand:qG,none:ic,silhouette:zG,wiggle:$G,positive:JZ},tJ=function(e,n,r){var a=n.map(function(u){return u.props.dataKey}),i=eJ[r],o=UG().keys(a).value(function(u,c){return+Yn(u,c,0)}).order(H_).offset(i);return o(e)},nJ=function(e,n,r,a,i,o){if(!e)return null;var u=o?n.reverse():n,c={},l=u.reduce(function(d,v){var m,y=(m=v.type)!==null&&m!==void 0&&m.defaultProps?Kt(Kt({},v.type.defaultProps),v.props):v.props,x=y.stackId,b=y.hide;if(b)return d;var w=y[r],S=d[w]||{hasStack:!1,stackGroups:{}};if(pn(x)){var A=S.stackGroups[x]||{numericAxisId:r,cateAxisId:a,items:[]};A.items.push(v),S.hasStack=!0,S.stackGroups[x]=A}else S.stackGroups[xh("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[v]};return Kt(Kt({},d),{},Ys({},w,S))},c),h={};return Object.keys(l).reduce(function(d,v){var m=l[v];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(x,b){var w=m.stackGroups[b];return Kt(Kt({},x),{},Ys({},b,{numericAxisId:r,cateAxisId:a,items:w.items,stackedData:tJ(e,w.items,i)}))},y)}return Kt(Kt({},d),{},Ys({},v,m))},h)},bF=function(e,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,u=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var l=e.domain();if(!l.length)return null;var h=mZ(l,i,u);return e.domain([Im(h),km(h)]),{niceTicks:h}}if(i&&a==="number"){var d=e.domain(),v=gZ(d,i,u);return{niceTicks:v}}return null},lI=function(e){var n=e.axis,r=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+a:null;var c=Yn(o,n.dataKey,n.domain[u]);return ut(c)?null:n.scale(c)-i/2+a},rJ=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},aJ=function(e,n){var r,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Kt(Kt({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(pn(i)){var o=n[i];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},iJ=function(e){return e.reduce(function(n,r){return[Im(r.concat([n[0]]).filter(_e)),km(r.concat([n[1]]).filter(_e))]},[1/0,-1/0])},xF=function(e,n,r){return Object.keys(e).reduce(function(a,i){var o=e[i],u=o.stackedData,c=u.reduce(function(l,h){var d=iJ(h.slice(n,r+1));return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},fI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,g2=function(e,n,r){if(Ve(e))return e(n,r);if(!Array.isArray(e))return n;var a=[];if(_e(e[0]))a[0]=r?e[0]:Math.min(e[0],n[0]);else if(fI.test(e[0])){var i=+fI.exec(e[0])[1];a[0]=n[0]-i}else Ve(e[0])?a[0]=e[0](n[0]):a[0]=n[0];if(_e(e[1]))a[1]=r?e[1]:Math.max(e[1],n[1]);else if(hI.test(e[1])){var o=+hI.exec(e[1])[1];a[1]=n[1]+o}else Ve(e[1])?a[1]=e[1](n[1]):a[1]=n[1];return a},lv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&n&&n.length>=2){for(var i=sE(n,function(d){return d.coordinate}),o=1/0,u=1,c=i.length;u<c;u++){var l=i[u],h=i[u-1];o=Math.min((l.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},dI=function(e,n,r){return!e||!e.length||Bm(e,jr(r,"type.defaultProps.domain"))?n:e},wF=function(e,n){var r=e.type.defaultProps?Kt(Kt({},e.type.defaultProps),e.props):e.props,a=r.dataKey,i=r.name,o=r.unit,u=r.formatter,c=r.tooltipType,l=r.chartType,h=r.hide;return Kt(Kt({},We(e,!1)),{},{dataKey:a,unit:o,formatter:u,name:i||a,color:kE(e),value:Yn(n,a),type:c,payload:n,chartType:l,hide:h})};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){_F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _F(t,e,n){return e=oJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=uJ(t,"string");return qf(e)=="symbol"?e:e+""}function uJ(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sJ(t,e){return hJ(t)||fJ(t,e)||lJ(t,e)||cJ()}function cJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lJ(t,e){if(t){if(typeof t=="string")return vI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vI(t,e)}}function vI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){l=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return u}}function hJ(t){if(Array.isArray(t))return t}var fv=Math.PI/180,dJ=function(e){return e*180/Math.PI},Nt=function(e,n,r,a){return{x:e+Math.cos(-fv*a)*r,y:n+Math.sin(-fv*a)*r}},SF=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},pJ=function(e,n,r,a,i){var o=e.width,u=e.height,c=e.startAngle,l=e.endAngle,h=rr(e.cx,o,o/2),d=rr(e.cy,u,u/2),v=SF(o,u,r),m=rr(e.innerRadius,v,0),y=rr(e.outerRadius,v,v*.8),x=Object.keys(n);return x.reduce(function(b,w){var S=n[w],A=S.domain,O=S.reversed,E;if(ut(S.range))a==="angleAxis"?E=[c,l]:a==="radiusAxis"&&(E=[m,y]),O&&(E=[E[1],E[0]]);else{E=S.range;var C=E,R=sJ(C,2);c=R[0],l=R[1]}var D=gF(S,i),M=D.realScaleType,N=D.scale;N.domain(A).range(E),yF(N);var k=bF(N,xi(xi({},S),{},{realScaleType:M})),I=xi(xi(xi({},S),k),{},{range:E,radius:y,realScaleType:M,scale:N,cx:h,cy:d,innerRadius:m,outerRadius:y,startAngle:c,endAngle:l});return xi(xi({},b),{},_F({},w,I))},{})},vJ=function(e,n){var r=e.x,a=e.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},mJ=function(e,n){var r=e.x,a=e.y,i=n.cx,o=n.cy,u=vJ({x:r,y:a},{x:i,y:o});if(u<=0)return{radius:u};var c=(r-i)/u,l=Math.acos(c);return a>o&&(l=2*Math.PI-l),{radius:u,angle:dJ(l),angleInRadian:l}},gJ=function(e){var n=e.startAngle,r=e.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},yJ=function(e,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),u=Math.min(i,o);return e+u*360},mI=function(e,n){var r=e.x,a=e.y,i=mJ({x:r,y:a},n),o=i.radius,u=i.angle,c=n.innerRadius,l=n.outerRadius;if(o<c||o>l)return!1;if(o===0)return!0;var h=gJ(n),d=h.startAngle,v=h.endAngle,m=u,y;if(d<=v){for(;m>v;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=v}else{for(;m>d;)m-=360;for(;m<v;)m+=360;y=m>=v&&m<=d}return y?xi(xi({},n),{},{radius:o,angle:yJ(m,n)}):null},EF=function(e){return!Q.isValidElement(e)&&!Ve(e)&&typeof e!="boolean"?e.className:""};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}var bJ=["offset"];function xJ(t){return EJ(t)||SJ(t)||_J(t)||wJ()}function wJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _J(t,e){if(t){if(typeof t=="string")return y2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y2(t,e)}}function SJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EJ(t){if(Array.isArray(t))return y2(t)}function y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AJ(t,e){if(t==null)return{};var n=OJ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){TJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TJ(t,e,n){return e=CJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CJ(t){var e=RJ(t,"string");return zf(e)=="symbol"?e:e+""}function RJ(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $f(){return $f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$f.apply(this,arguments)}var DJ=function(e){var n=e.value,r=e.formatter,a=ut(e.children)?n:e.children;return Ve(r)?r(a):a},MJ=function(e,n){var r=nr(n-e),a=Math.min(Math.abs(n-e),360);return r*a},PJ=function(e,n,r){var a=e.position,i=e.viewBox,o=e.offset,u=e.className,c=i,l=c.cx,h=c.cy,d=c.innerRadius,v=c.outerRadius,m=c.startAngle,y=c.endAngle,x=c.clockWise,b=(d+v)/2,w=MJ(m,y),S=w>=0?1:-1,A,O;a==="insideStart"?(A=m+S*o,O=x):a==="insideEnd"?(A=y-S*o,O=!x):a==="end"&&(A=y+S*o,O=x),O=w<=0?O:!O;var E=Nt(l,h,b,A),C=Nt(l,h,b,A+(O?1:-1)*359),R="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(O?0:1,`,
    `).concat(C.x,",").concat(C.y),D=ut(e.id)?xh("recharts-radial-line-"):e.id;return V.createElement("text",$f({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",u)}),V.createElement("defs",null,V.createElement("path",{id:D,d:R})),V.createElement("textPath",{xlinkHref:"#".concat(D)},n))},NJ=function(e){var n=e.viewBox,r=e.offset,a=e.position,i=n,o=i.cx,u=i.cy,c=i.innerRadius,l=i.outerRadius,h=i.startAngle,d=i.endAngle,v=(h+d)/2;if(a==="outside"){var m=Nt(o,u,l+r,v),y=m.x,x=m.y;return{x:y,y:x,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(c+l)/2,w=Nt(o,u,b,v),S=w.x,A=w.y;return{x:S,y:A,textAnchor:"middle",verticalAnchor:"middle"}},kJ=function(e){var n=e.viewBox,r=e.parentViewBox,a=e.offset,i=e.position,o=n,u=o.x,c=o.y,l=o.width,h=o.height,d=h>=0?1:-1,v=d*a,m=d>0?"end":"start",y=d>0?"start":"end",x=l>=0?1:-1,b=x*a,w=x>0?"end":"start",S=x>0?"start":"end";if(i==="top"){var A={x:u+l/2,y:c-d*a,textAnchor:"middle",verticalAnchor:m};return hn(hn({},A),r?{height:Math.max(c-r.y,0),width:l}:{})}if(i==="bottom"){var O={x:u+l/2,y:c+h+v,textAnchor:"middle",verticalAnchor:y};return hn(hn({},O),r?{height:Math.max(r.y+r.height-(c+h),0),width:l}:{})}if(i==="left"){var E={x:u-b,y:c+h/2,textAnchor:w,verticalAnchor:"middle"};return hn(hn({},E),r?{width:Math.max(E.x-r.x,0),height:h}:{})}if(i==="right"){var C={x:u+l+b,y:c+h/2,textAnchor:S,verticalAnchor:"middle"};return hn(hn({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:h}:{})}var R=r?{width:l,height:h}:{};return i==="insideLeft"?hn({x:u+b,y:c+h/2,textAnchor:S,verticalAnchor:"middle"},R):i==="insideRight"?hn({x:u+l-b,y:c+h/2,textAnchor:w,verticalAnchor:"middle"},R):i==="insideTop"?hn({x:u+l/2,y:c+v,textAnchor:"middle",verticalAnchor:y},R):i==="insideBottom"?hn({x:u+l/2,y:c+h-v,textAnchor:"middle",verticalAnchor:m},R):i==="insideTopLeft"?hn({x:u+b,y:c+v,textAnchor:S,verticalAnchor:y},R):i==="insideTopRight"?hn({x:u+l-b,y:c+v,textAnchor:w,verticalAnchor:y},R):i==="insideBottomLeft"?hn({x:u+b,y:c+h-v,textAnchor:S,verticalAnchor:m},R):i==="insideBottomRight"?hn({x:u+l-b,y:c+h-v,textAnchor:w,verticalAnchor:m},R):Fc(i)&&(_e(i.x)||vu(i.x))&&(_e(i.y)||vu(i.y))?hn({x:u+rr(i.x,l),y:c+rr(i.y,h),textAnchor:"end",verticalAnchor:"end"},R):hn({x:u+l/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},R)},IJ=function(e){return"cx"in e&&_e(e.cx)};function Cn(t){var e=t.offset,n=e===void 0?5:e,r=AJ(t,bJ),a=hn({offset:n},r),i=a.viewBox,o=a.position,u=a.value,c=a.children,l=a.content,h=a.className,d=h===void 0?"":h,v=a.textBreakAll;if(!i||ut(u)&&ut(c)&&!Q.isValidElement(l)&&!Ve(l))return null;if(Q.isValidElement(l))return Q.cloneElement(l,a);var m;if(Ve(l)){if(m=Q.createElement(l,a),Q.isValidElement(m))return m}else m=DJ(a);var y=IJ(i),x=We(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return PJ(a,m,x);var b=y?NJ(a):kJ(a);return V.createElement(Tu,$f({className:Ye("recharts-label",d)},x,b,{breakAll:v}),m)}Cn.displayName="Label";var AF=function(e){var n=e.cx,r=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,u=e.r,c=e.radius,l=e.innerRadius,h=e.outerRadius,d=e.x,v=e.y,m=e.top,y=e.left,x=e.width,b=e.height,w=e.clockWise,S=e.labelViewBox;if(S)return S;if(_e(x)&&_e(b)){if(_e(d)&&_e(v))return{x:d,y:v,width:x,height:b};if(_e(m)&&_e(y))return{x:m,y,width:x,height:b}}return _e(d)&&_e(v)?{x:d,y:v,width:0,height:0}:_e(n)&&_e(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:l||0,outerRadius:h||c||u||0,clockWise:w}:e.viewBox?e.viewBox:{}},BJ=function(e,n){return e?e===!0?V.createElement(Cn,{key:"label-implicit",viewBox:n}):pn(e)?V.createElement(Cn,{key:"label-implicit",viewBox:n,value:e}):Q.isValidElement(e)?e.type===Cn?Q.cloneElement(e,{key:"label-implicit",viewBox:n}):V.createElement(Cn,{key:"label-implicit",content:e,viewBox:n}):Ve(e)?V.createElement(Cn,{key:"label-implicit",content:e,viewBox:n}):Fc(e)?V.createElement(Cn,$f({viewBox:n},e,{key:"label-implicit"})):null:null},LJ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=AF(e),o=aa(a,Cn).map(function(c,l){return Q.cloneElement(c,{viewBox:n||i,key:"label-".concat(l)})});if(!r)return o;var u=BJ(e.label,n||i);return[u].concat(xJ(o))};Cn.parseViewBox=AF;Cn.renderCallByParent=LJ;var mw,yI;function jJ(){if(yI)return mw;yI=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return mw=t,mw}var FJ=jJ();const UJ=gt(FJ);function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}var qJ=["valueAccessor"],zJ=["data","dataKey","clockWise","id","textBreakAll"];function $J(t){return GJ(t)||VJ(t)||HJ(t)||WJ()}function WJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HJ(t,e){if(t){if(typeof t=="string")return b2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b2(t,e)}}function VJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GJ(t){if(Array.isArray(t))return b2(t)}function b2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(this,arguments)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){KJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KJ(t,e,n){return e=XJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XJ(t){var e=YJ(t,"string");return Wf(e)=="symbol"?e:e+""}function YJ(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wI(t,e){if(t==null)return{};var n=QJ(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ZJ=function(e){return Array.isArray(e.value)?UJ(e.value):e.value};function Oo(t){var e=t.valueAccessor,n=e===void 0?ZJ:e,r=wI(t,qJ),a=r.data,i=r.dataKey,o=r.clockWise,u=r.id,c=r.textBreakAll,l=wI(r,zJ);return!a||!a.length?null:V.createElement(St,{className:"recharts-label-list"},a.map(function(h,d){var v=ut(i)?n(h,d):Yn(h&&h.payload,i),m=ut(u)?{}:{id:"".concat(u,"-").concat(d)};return V.createElement(Cn,hv({},We(h,!0),l,m,{parentViewBox:h.parentViewBox,value:v,textBreakAll:c,viewBox:Cn.parseViewBox(ut(o)?h:xI(xI({},h),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Oo.displayName="LabelList";function JJ(t,e){return t?t===!0?V.createElement(Oo,{key:"labelList-implicit",data:e}):V.isValidElement(t)||Ve(t)?V.createElement(Oo,{key:"labelList-implicit",data:e,content:t}):Fc(t)?V.createElement(Oo,hv({data:e},t,{key:"labelList-implicit"})):null:null}function eee(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,a=aa(r,Oo).map(function(o,u){return Q.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!n)return a;var i=JJ(t.label,e);return[i].concat($J(a))}Oo.renderCallByParent=eee;function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function x2(){return x2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x2.apply(this,arguments)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function SI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tee(t,e,n){return e=nee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nee(t){var e=ree(t,"string");return Hf(e)=="symbol"?e:e+""}function ree(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aee=function(e,n){var r=nr(n-e),a=Math.min(Math.abs(n-e),359.999);return r*a},op=function(e){var n=e.cx,r=e.cy,a=e.radius,i=e.angle,o=e.sign,u=e.isExternal,c=e.cornerRadius,l=e.cornerIsExternal,h=c*(u?1:-1)+a,d=Math.asin(c/h)/fv,v=l?i:i+o*d,m=Nt(n,r,h,v),y=Nt(n,r,a,v),x=l?i-o*d:i,b=Nt(n,r,h*Math.cos(d*fv),x);return{center:m,circleTangency:y,lineTangency:b,theta:d}},OF=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,u=e.endAngle,c=aee(o,u),l=o+c,h=Nt(n,r,i,o),d=Nt(n,r,i,l),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var m=Nt(n,r,a,o),y=Nt(n,r,a,l);v+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=l),`,
            `).concat(m.x,",").concat(m.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},iee=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,l=e.startAngle,h=e.endAngle,d=nr(h-l),v=op({cx:n,cy:r,radius:i,angle:l,sign:d,cornerRadius:o,cornerIsExternal:c}),m=v.circleTangency,y=v.lineTangency,x=v.theta,b=op({cx:n,cy:r,radius:i,angle:h,sign:-d,cornerRadius:o,cornerIsExternal:c}),w=b.circleTangency,S=b.lineTangency,A=b.theta,O=c?Math.abs(l-h):Math.abs(l-h)-x-A;if(O<0)return u?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):OF({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:l,endAngle:h});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
  `);if(a>0){var C=op({cx:n,cy:r,radius:a,angle:l,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),R=C.circleTangency,D=C.lineTangency,M=C.theta,N=op({cx:n,cy:r,radius:a,angle:h,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=N.circleTangency,I=N.lineTangency,q=N.theta,W=c?Math.abs(l-h):Math.abs(l-h)-M-q;if(W<0&&o===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(W>180),",").concat(+(d>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},oee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TF=function(e){var n=SI(SI({},oee),e),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,u=n.cornerRadius,c=n.forceCornerRadius,l=n.cornerIsExternal,h=n.startAngle,d=n.endAngle,v=n.className;if(o<i||h===d)return null;var m=Ye("recharts-sector",v),y=o-i,x=rr(u,y,0,!0),b;return x>0&&Math.abs(h-d)<360?b=iee({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,y/2),forceCornerRadius:c,cornerIsExternal:l,startAngle:h,endAngle:d}):b=OF({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:h,endAngle:d}),V.createElement("path",x2({},We(n,!0),{className:m,d:b,role:"img"}))};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function w2(){return w2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w2.apply(this,arguments)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function AI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){uee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uee(t,e,n){return e=see(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function see(t){var e=cee(t,"string");return Vf(e)=="symbol"?e:e+""}function cee(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OI={curveBasisClosed:RG,curveBasisOpen:DG,curveBasis:CG,curveBumpX:pG,curveBumpY:vG,curveLinearClosed:MG,curveLinear:_m,curveMonotoneX:PG,curveMonotoneY:NG,curveNatural:kG,curveStep:IG,curveStepAfter:LG,curveStepBefore:BG},up=function(e){return e.x===+e.x&&e.y===+e.y},ef=function(e){return e.x},tf=function(e){return e.y},lee=function(e,n){if(Ve(e))return e;var r="curve".concat(xm(e));return(r==="curveMonotone"||r==="curveBump")&&n?OI["".concat(r).concat(n==="vertical"?"Y":"X")]:OI[r]||_m},fee=function(e){var n=e.type,r=n===void 0?"linear":n,a=e.points,i=a===void 0?[]:a,o=e.baseLine,u=e.layout,c=e.connectNulls,l=c===void 0?!1:c,h=lee(r,u),d=l?i.filter(function(x){return up(x)}):i,v;if(Array.isArray(o)){var m=l?o.filter(function(x){return up(x)}):o,y=d.map(function(x,b){return AI(AI({},x),{},{base:m[b]})});return u==="vertical"?v=Zd().y(tf).x1(ef).x0(function(x){return x.base.x}):v=Zd().x(ef).y1(tf).y0(function(x){return x.base.y}),v.defined(up).curve(h),v(y)}return u==="vertical"&&_e(o)?v=Zd().y(tf).x1(ef).x0(o):_e(o)?v=Zd().x(ef).y1(tf).y0(o):v=AL().x(ef).y(tf),v.defined(up).curve(h),v(d)},_2=function(e){var n=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?fee(e):a;return V.createElement("path",w2({},We(e,!1),Up(e),{className:Ye("recharts-curve",n),d:o,ref:i}))},gw={exports:{}},yw,TI;function hee(){if(TI)return yw;TI=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yw=t,yw}var bw,CI;function dee(){if(CI)return bw;CI=1;var t=hee();function e(){}function n(){}return n.resetWarningCache=e,bw=function(){function r(o,u,c,l,h,d){if(d!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},bw}var RI;function pee(){return RI||(RI=1,gw.exports=dee()()),gw.exports}var vee=pee();const bt=gt(vee);var mee=Object.getOwnPropertyNames,gee=Object.getOwnPropertySymbols,yee=Object.prototype.hasOwnProperty;function DI(t,e){return function(r,a,i){return t(r,a,i)&&e(r,a,i)}}function sp(t){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,a);var i=a.cache,o=i.get(n),u=i.get(r);if(o&&u)return o===r&&u===n;i.set(n,r),i.set(r,n);var c=t(n,r,a);return i.delete(n),i.delete(r),c}}function MI(t){return mee(t).concat(gee(t))}var bee=Object.hasOwn||function(t,e){return yee.call(t,e)};function Lu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var xee="__v",wee="__o",_ee="_owner",PI=Object.getOwnPropertyDescriptor,NI=Object.keys;function See(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Eee(t,e){return Lu(t.getTime(),e.getTime())}function Aee(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Oee(t,e){return t===e}function kI(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.entries(),o,u,c=0;(o=i.next())&&!o.done;){for(var l=e.entries(),h=!1,d=0;(u=l.next())&&!u.done;){if(a[d]){d++;continue}var v=o.value,m=u.value;if(n.equals(v[0],m[0],c,d,t,e,n)&&n.equals(v[1],m[1],v[0],m[0],t,e,n)){h=a[d]=!0;break}d++}if(!h)return!1;c++}return!0}var Tee=Lu;function Cee(t,e,n){var r=NI(t),a=r.length;if(NI(e).length!==a)return!1;for(;a-- >0;)if(!CF(t,e,n,r[a]))return!1;return!0}function nf(t,e,n){var r=MI(t),a=r.length;if(MI(e).length!==a)return!1;for(var i,o,u;a-- >0;)if(i=r[a],!CF(t,e,n,i)||(o=PI(t,i),u=PI(e,i),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function Ree(t,e){return Lu(t.valueOf(),e.valueOf())}function Dee(t,e){return t.source===e.source&&t.flags===e.flags}function II(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.values(),o,u;(o=i.next())&&!o.done;){for(var c=e.values(),l=!1,h=0;(u=c.next())&&!u.done;){if(!a[h]&&n.equals(o.value,u.value,o.value,u.value,t,e,n)){l=a[h]=!0;break}h++}if(!l)return!1}return!0}function Mee(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Pee(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function CF(t,e,n,r){return(r===_ee||r===wee||r===xee)&&(t.$$typeof||e.$$typeof)?!0:bee(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Nee="[object Arguments]",kee="[object Boolean]",Iee="[object Date]",Bee="[object Error]",Lee="[object Map]",jee="[object Number]",Fee="[object Object]",Uee="[object RegExp]",qee="[object Set]",zee="[object String]",$ee="[object URL]",Wee=Array.isArray,BI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,LI=Object.assign,Hee=Object.prototype.toString.call.bind(Object.prototype.toString);function Vee(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,u=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,l=t.areRegExpsEqual,h=t.areSetsEqual,d=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(y,x,b){if(y===x)return!0;if(y==null||x==null)return!1;var w=typeof y;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?o(y,x,b):w==="function"?a(y,x,b):!1;var S=y.constructor;if(S!==x.constructor)return!1;if(S===Object)return u(y,x,b);if(Wee(y))return e(y,x,b);if(BI!=null&&BI(y))return d(y,x,b);if(S===Date)return n(y,x,b);if(S===RegExp)return l(y,x,b);if(S===Map)return i(y,x,b);if(S===Set)return h(y,x,b);var A=Hee(y);return A===Iee?n(y,x,b):A===Uee?l(y,x,b):A===Lee?i(y,x,b):A===qee?h(y,x,b):A===Fee?typeof y.then!="function"&&typeof x.then!="function"&&u(y,x,b):A===$ee?v(y,x,b):A===Bee?r(y,x,b):A===Nee?u(y,x,b):A===kee||A===jee||A===zee?c(y,x,b):!1}}function Gee(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,a={areArraysEqual:r?nf:See,areDatesEqual:Eee,areErrorsEqual:Aee,areFunctionsEqual:Oee,areMapsEqual:r?DI(kI,nf):kI,areNumbersEqual:Tee,areObjectsEqual:r?nf:Cee,arePrimitiveWrappersEqual:Ree,areRegExpsEqual:Dee,areSetsEqual:r?DI(II,nf):II,areTypedArraysEqual:r?nf:Mee,areUrlsEqual:Pee};if(n&&(a=LI({},a,n(a))),e){var i=sp(a.areArraysEqual),o=sp(a.areMapsEqual),u=sp(a.areObjectsEqual),c=sp(a.areSetsEqual);a=LI({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:u,areSetsEqual:c})}return a}function Kee(t){return function(e,n,r,a,i,o,u){return t(e,n,u)}}function Xee(t){var e=t.circular,n=t.comparator,r=t.createState,a=t.equals,i=t.strict;if(r)return function(c,l){var h=r(),d=h.cache,v=d===void 0?e?new WeakMap:void 0:d,m=h.meta;return n(c,l,{cache:v,equals:a,meta:m,strict:i})};if(e)return function(c,l){return n(c,l,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,l){return n(c,l,o)}}var Yee=Lo();Lo({strict:!0});Lo({circular:!0});Lo({circular:!0,strict:!0});Lo({createInternalComparator:function(){return Lu}});Lo({strict:!0,createInternalComparator:function(){return Lu}});Lo({circular:!0,createInternalComparator:function(){return Lu}});Lo({circular:!0,createInternalComparator:function(){return Lu},strict:!0});function Lo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,u=Gee(t),c=Vee(u),l=r?r(c):Kee(c);return Xee({circular:n,comparator:c,createState:a,equals:l,strict:o})}function Qee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function jI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>e?(t(i),n=-1):Qee(a)};requestAnimationFrame(r)}function S2(t){"@babel/helpers - typeof";return S2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S2(t)}function Zee(t){return nte(t)||tte(t)||ete(t)||Jee()}function Jee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ete(t,e){if(t){if(typeof t=="string")return FI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FI(t,e)}}function FI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nte(t){if(Array.isArray(t))return t}function rte(){var t={},e=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,u=Zee(o),c=u[0],l=u.slice(1);if(typeof c=="number"){jI(a.bind(null,l),c);return}a(c),jI(a.bind(null,l));return}S2(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function qI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){RF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RF(t,e,n){return e=ate(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=ite(t,"string");return Gf(e)==="symbol"?e:String(e)}function ite(t,e){if(Gf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ote=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},ute=function(e){return e},ste=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},mf=function(e,n){return Object.keys(n).reduce(function(r,a){return qI(qI({},r),{},RF({},a,e(a,n[a])))},{})},zI=function(e,n,r){return e.map(function(a){return"".concat(ste(a)," ").concat(n,"ms ").concat(r)}).join(",")};function cte(t,e){return hte(t)||fte(t,e)||DF(t,e)||lte()}function lte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){l=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return u}}function hte(t){if(Array.isArray(t))return t}function dte(t){return mte(t)||vte(t)||DF(t)||pte()}function pte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DF(t,e){if(t){if(typeof t=="string")return E2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E2(t,e)}}function vte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mte(t){if(Array.isArray(t))return E2(t)}function E2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dv=1e-4,MF=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},PF=function(e,n){return e.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},$I=function(e,n){return function(r){var a=MF(e,n);return PF(a,r)}},gte=function(e,n){return function(r){var a=MF(e,n),i=[].concat(dte(a.map(function(o,u){return o*u}).slice(1)),[0]);return PF(i,r)}},WI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,u=1;break;case"ease":a=.25,i=.1,o=.25,u=1;break;case"ease-in":a=.42,i=0,o=1,u=1;break;case"ease-out":a=.42,i=0,o=.58,u=1;break;case"ease-in-out":a=0,i=0,o=.58,u=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var l=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),h=cte(l,4);a=h[0],i=h[1],o=h[2],u=h[3]}}}var d=$I(a,o),v=$I(i,u),m=gte(a,o),y=function(w){return w>1?1:w<0?0:w},x=function(w){for(var S=w>1?1:w,A=S,O=0;O<8;++O){var E=d(A)-S,C=m(A);if(Math.abs(E-S)<dv||C<dv)return v(A);A=y(A-E/C)}return v(A)};return x.isStepper=!1,x},yte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,a=e.damping,i=a===void 0?8:a,o=e.dt,u=o===void 0?17:o,c=function(h,d,v){var m=-(h-d)*r,y=v*i,x=v+(m-y)*u/1e3,b=v*u/1e3+h;return Math.abs(b-d)<dv&&Math.abs(x)<dv?[d,0]:[b,x]};return c.isStepper=!0,c.dt=u,c},bte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WI(a);case"spring":return yte();default:if(a.split("(")[0]==="cubic-bezier")return WI(a)}return typeof a=="function"?a:null};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function HI(t){return _te(t)||wte(t)||NF(t)||xte()}function xte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _te(t){if(Array.isArray(t))return O2(t)}function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){A2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A2(t,e,n){return e=Ste(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ste(t){var e=Ete(t,"string");return Kf(e)==="symbol"?e:String(e)}function Ete(t,e){if(Kf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ate(t,e){return Cte(t)||Tte(t,e)||NF(t,e)||Ote()}function Ote(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NF(t,e){if(t){if(typeof t=="string")return O2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O2(t,e)}}function O2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){l=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return u}}function Cte(t){if(Array.isArray(t))return t}var pv=function(e,n,r){return e+(n-e)*r},T2=function(e){var n=e.from,r=e.to;return n!==r},Rte=function t(e,n,r){var a=mf(function(i,o){if(T2(o)){var u=e(o.from,o.to,o.velocity),c=Ate(u,2),l=c[0],h=c[1];return Bn(Bn({},o),{},{from:l,velocity:h})}return o},n);return r<1?mf(function(i,o){return T2(o)?Bn(Bn({},o),{},{velocity:pv(o.velocity,a[i].velocity,r),from:pv(o.from,a[i].from,r)}):o},n):t(e,a,r-1)};const Dte=function(t,e,n,r,a){var i=ote(t,e),o=i.reduce(function(b,w){return Bn(Bn({},b),{},A2({},w,[t[w],e[w]]))},{}),u=i.reduce(function(b,w){return Bn(Bn({},b),{},A2({},w,{from:t[w],velocity:0,to:e[w]}))},{}),c=-1,l,h,d=function(){return null},v=function(){return mf(function(w,S){return S.from},u)},m=function(){return!Object.values(u).filter(T2).length},y=function(w){l||(l=w);var S=w-l,A=S/n.dt;u=Rte(n,u,A),a(Bn(Bn(Bn({},t),e),v())),l=w,m()||(c=requestAnimationFrame(d))},x=function(w){h||(h=w);var S=(w-h)/r,A=mf(function(E,C){return pv.apply(void 0,HI(C).concat([n(S)]))},o);if(a(Bn(Bn(Bn({},t),e),A)),S<1)c=requestAnimationFrame(d);else{var O=mf(function(E,C){return pv.apply(void 0,HI(C).concat([n(1)]))},o);a(Bn(Bn(Bn({},t),e),O))}};return d=n.isStepper?y:x,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}var Mte=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Pte(t,e){if(t==null)return{};var n=Nte(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nte(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function xw(t){return Lte(t)||Bte(t)||Ite(t)||kte()}function kte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ite(t,e){if(t){if(typeof t=="string")return C2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C2(t,e)}}function Bte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lte(t){if(Array.isArray(t))return C2(t)}function C2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){hf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hf(t,e,n){return e=kF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kF(r.key),r)}}function Ute(t,e,n){return e&&Fte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kF(t){var e=qte(t,"string");return pc(e)==="symbol"?e:String(e)}function qte(t,e){if(pc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R2(t,e)}function R2(t,e){return R2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},R2(t,e)}function $te(t){var e=Wte();return function(){var r=vv(t),a;if(e){var i=vv(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return D2(this,a)}}function D2(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M2(t)}function M2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vv(t){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vv(t)}var Di=function(t){zte(n,t);var e=$te(n);function n(r,a){var i;jte(this,n),i=e.call(this,r,a);var o=i.props,u=o.isActive,c=o.attributeName,l=o.from,h=o.to,d=o.steps,v=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(M2(i)),i.changeStyle=i.changeStyle.bind(M2(i)),!u||m<=0)return i.state={style:{}},typeof v=="function"&&(i.state={style:h}),D2(i);if(d&&d.length)i.state={style:d[0].style};else if(l){if(typeof v=="function")return i.state={style:l},D2(i);i.state={style:c?hf({},c,l):l}}else i.state={style:{}};return i}return Ute(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,u=i.canBegin,c=i.attributeName,l=i.shouldReAnimate,h=i.to,d=i.from,v=this.state.style;if(u){if(!o){var m={style:c?hf({},c,h):h};this.state&&v&&(c&&v[c]!==h||!c&&v!==h)&&this.setState(m);return}if(!(Yee(a.to,h)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||l?d:a.to;if(this.state&&v){var b={style:c?hf({},c,x):x};(c&&v[c]!==x||!c&&v!==x)&&this.setState(b)}this.runAnimation(pa(pa({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,u=a.to,c=a.duration,l=a.easing,h=a.begin,d=a.onAnimationEnd,v=a.onAnimationStart,m=Dte(o,u,bte(l),c,this.changeStyle),y=function(){i.stopJSAnimation=m()};this.manager.start([v,h,y,c,d])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,u=a.begin,c=a.onAnimationStart,l=o[0],h=l.style,d=l.duration,v=d===void 0?0:d,m=function(x,b,w){if(w===0)return x;var S=b.duration,A=b.easing,O=A===void 0?"ease":A,E=b.style,C=b.properties,R=b.onAnimationEnd,D=w>0?o[w-1]:b,M=C||Object.keys(E);if(typeof O=="function"||O==="spring")return[].concat(xw(x),[i.runJSAnimation.bind(i,{from:D.style,to:E,duration:S,easing:O}),S]);var N=zI(M,S,O),k=pa(pa(pa({},D.style),E),{},{transition:N});return[].concat(xw(x),[k,S,R]).filter(ute)};return this.manager.start([c].concat(xw(o.reduce(m,[h,Math.max(v,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=rte());var i=a.begin,o=a.duration,u=a.attributeName,c=a.to,l=a.easing,h=a.onAnimationStart,d=a.onAnimationEnd,v=a.steps,m=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof l=="function"||typeof m=="function"||l==="spring"){this.runJSAnimation(a);return}if(v.length>1){this.runStepAnimation(a);return}var x=u?hf({},u,c):c,b=zI(Object.keys(x),o,l);y.start([h,i,pa(pa({},x),{},{transition:b}),o,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Pte(a,Mte),l=Q.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!u||l===0||o<=0)return i;var d=function(m){var y=m.props,x=y.style,b=x===void 0?{}:x,w=y.className,S=Q.cloneElement(m,pa(pa({},c),{},{style:pa(pa({},b),h),className:w}));return S};return l===1?d(Q.Children.only(i)):V.createElement("div",null,Q.Children.map(i,function(v){return d(v)}))}}]),n}(Q.PureComponent);Di.displayName="Animate";Di.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Di.propTypes={from:bt.oneOfType([bt.object,bt.string]),to:bt.oneOfType([bt.object,bt.string]),attributeName:bt.string,duration:bt.number,begin:bt.number,easing:bt.oneOfType([bt.string,bt.func]),steps:bt.arrayOf(bt.shape({duration:bt.number.isRequired,style:bt.object.isRequired,easing:bt.oneOfType([bt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),bt.func]),properties:bt.arrayOf("string"),onAnimationEnd:bt.func})),children:bt.oneOfType([bt.node,bt.func]),isActive:bt.bool,canBegin:bt.bool,onAnimationEnd:bt.func,shouldReAnimate:bt.bool,onAnimationStart:bt.func,onAnimationReStart:bt.func};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(this,arguments)}function Hte(t,e){return Xte(t)||Kte(t,e)||Gte(t,e)||Vte()}function Vte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gte(t,e){if(t){if(typeof t=="string")return KI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KI(t,e)}}function KI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){l=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return u}}function Xte(t){if(Array.isArray(t))return t}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function YI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){Yte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yte(t,e,n){return e=Qte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qte(t){var e=Zte(t,"string");return Xf(e)=="symbol"?e:e+""}function Zte(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QI=function(e,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),u=a>=0?1:-1,c=r>=0?1:-1,l=a>=0&&r>=0||a<0&&r<0?1:0,h;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],v=0,m=4;v<m;v++)d[v]=i[v]>o?o:i[v];h="M".concat(e,",").concat(n+u*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+c*d[0],",").concat(n)),h+="L ".concat(e+r-c*d[1],",").concat(n),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(n+u*d[1])),h+="L ".concat(e+r,",").concat(n+a-u*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+r-c*d[2],",").concat(n+a)),h+="L ".concat(e+c*d[3],",").concat(n+a),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(n+a-u*d[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);h="M ".concat(e,",").concat(n+u*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(e+c*y,",").concat(n,`
            L `).concat(e+r-c*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(e+r,",").concat(n+u*y,`
            L `).concat(e+r,",").concat(n+a-u*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(e+r-c*y,",").concat(n+a,`
            L `).concat(e+c*y,",").concat(n+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(l,",").concat(e,",").concat(n+a-u*y," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return h},Jte=function(e,n){if(!e||!n)return!1;var r=e.x,a=e.y,i=n.x,o=n.y,u=n.width,c=n.height;if(Math.abs(u)>0&&Math.abs(c)>0){var l=Math.min(i,i+u),h=Math.max(i,i+u),d=Math.min(o,o+c),v=Math.max(o,o+c);return r>=l&&r<=h&&a>=d&&a<=v}return!1},ene={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IE=function(e){var n=YI(YI({},ene),e),r=Q.useRef(),a=Q.useState(-1),i=Hte(a,2),o=i[0],u=i[1];Q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&u(O)}catch{}},[]);var c=n.x,l=n.y,h=n.width,d=n.height,v=n.radius,m=n.className,y=n.animationEasing,x=n.animationDuration,b=n.animationBegin,w=n.isAnimationActive,S=n.isUpdateAnimationActive;if(c!==+c||l!==+l||h!==+h||d!==+d||h===0||d===0)return null;var A=Ye("recharts-rectangle",m);return S?V.createElement(Di,{canBegin:o>0,from:{width:h,height:d,x:c,y:l},to:{width:h,height:d,x:c,y:l},duration:x,animationEasing:y,isActive:S},function(O){var E=O.width,C=O.height,R=O.x,D=O.y;return V.createElement(Di,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,isActive:w,easing:y},V.createElement("path",mv({},We(n,!0),{className:A,d:QI(R,D,E,C,v),ref:r})))}):V.createElement("path",mv({},We(n,!0),{className:A,d:QI(c,l,h,d,v)}))},tne=["points","className","baseLinePoints","connectNulls"];function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zs.apply(this,arguments)}function nne(t,e){if(t==null)return{};var n=rne(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZI(t){return une(t)||one(t)||ine(t)||ane()}function ane(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ine(t,e){if(t){if(typeof t=="string")return P2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P2(t,e)}}function one(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function une(t){if(Array.isArray(t))return P2(t)}function P2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var JI=function(e){return e&&e.x===+e.x&&e.y===+e.y},sne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){JI(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),JI(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},gf=function(e,n){var r=sne(e);n&&(r=[r.reduce(function(i,o){return[].concat(ZI(i),ZI(o))},[])]);var a=r.map(function(i){return i.reduce(function(o,u,c){return"".concat(o).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},cne=function(e,n,r){var a=gf(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(gf(n.reverse(),r).slice(1))},lne=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,i=e.connectNulls,o=nne(e,tne);if(!n||!n.length)return null;var u=Ye("recharts-polygon",r);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",l=cne(n,a,i);return V.createElement("g",{className:u},V.createElement("path",zs({},We(o,!0),{fill:l.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:l})),c?V.createElement("path",zs({},We(o,!0),{fill:"none",d:gf(n,i)})):null,c?V.createElement("path",zs({},We(o,!0),{fill:"none",d:gf(a,i)})):null)}var h=gf(n,i);return V.createElement("path",zs({},We(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",className:u,d:h}))};function N2(){return N2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N2.apply(this,arguments)}var BE=function(e){var n=e.cx,r=e.cy,a=e.r,i=e.className,o=Ye("recharts-dot",i);return n===+n&&r===+r&&a===+a?V.createElement("circle",N2({},We(e,!1),Up(e),{className:o,cx:n,cy:r,r:a})):null};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}var fne=["x","y","top","left","width","height","className"];function k2(){return k2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k2.apply(this,arguments)}function e3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e3(Object(n),!0).forEach(function(r){dne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dne(t,e,n){return e=pne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pne(t){var e=vne(t,"string");return Yf(e)=="symbol"?e:e+""}function vne(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mne(t,e){if(t==null)return{};var n=gne(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yne=function(e,n,r,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},bne=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,o=e.top,u=o===void 0?0:o,c=e.left,l=c===void 0?0:c,h=e.width,d=h===void 0?0:h,v=e.height,m=v===void 0?0:v,y=e.className,x=mne(e,fne),b=hne({x:r,y:i,top:u,left:l,width:d,height:m},x);return!_e(r)||!_e(i)||!_e(d)||!_e(m)||!_e(u)||!_e(l)?null:V.createElement("path",k2({},We(b,!0),{className:Ye("recharts-cross",y),d:yne(r,i,d,m,u,l)}))},ww,t3;function xne(){if(t3)return ww;t3=1;var t=Nm(),e=Xj(),n=Ya();function r(a,i){return a&&a.length?t(a,n(i,2),e):void 0}return ww=r,ww}var wne=xne();const _ne=gt(wne);var _w,n3;function Sne(){if(n3)return _w;n3=1;var t=Nm(),e=Ya(),n=Yj();function r(a,i){return a&&a.length?t(a,e(i,2),n):void 0}return _w=r,_w}var Ene=Sne();const Ane=gt(Ene);var One=["cx","cy","angle","ticks","axisLine"],Tne=["ticks","tick","angle","tickFormatter","stroke"];function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(this,arguments)}function r3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(n),!0).forEach(function(r){Um(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a3(t,e){if(t==null)return{};var n=Cne(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BF(r.key),r)}}function Dne(t,e,n){return e&&i3(t.prototype,e),n&&i3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mne(t,e,n){return e=gv(e),Pne(t,IF()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function Pne(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nne(t)}function Nne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function kne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I2(t,e)}function I2(t,e){return I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},I2(t,e)}function Um(t,e,n){return e=BF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BF(t){var e=Ine(t,"string");return vc(e)=="symbol"?e:e+""}function Ine(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qm=function(t){function e(){return Rne(this,e),Mne(this,e,arguments)}return kne(e,t),Dne(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,o=i.angle,u=i.cx,c=i.cy;return Nt(u,c,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,u=r.ticks,c=_ne(u,function(h){return h.coordinate||0}),l=Ane(u,function(h){return h.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:l.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,u=r.ticks,c=r.axisLine,l=a3(r,One),h=u.reduce(function(y,x){return[Math.min(y[0],x.coordinate),Math.max(y[1],x.coordinate)]},[1/0,-1/0]),d=Nt(a,i,h[0],o),v=Nt(a,i,h[1],o),m=iu(iu(iu({},We(l,!1)),{},{fill:"none"},We(c,!1)),{},{x1:d.x,y1:d.y,x2:v.x,y2:v.y});return V.createElement("line",yf({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,u=a.angle,c=a.tickFormatter,l=a.stroke,h=a3(a,Tne),d=this.getTickTextAnchor(),v=We(h,!1),m=We(o,!1),y=i.map(function(x,b){var w=r.getTickValueCoord(x),S=iu(iu(iu(iu({textAnchor:d,transform:"rotate(".concat(90-u,", ").concat(w.x,", ").concat(w.y,")")},v),{},{stroke:"none",fill:l},m),{},{index:b},w),{},{payload:x});return V.createElement(St,yf({className:Ye("recharts-polar-radius-axis-tick",EF(o)),key:"tick-".concat(x.coordinate)},Ou(r.props,x,b)),e.renderTickItem(o,S,c?c(x.value,b):x.value))});return V.createElement(St,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,o=r.tick;return!a||!a.length?null:V.createElement(St,{className:Ye("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Cn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return V.isValidElement(r)?o=V.cloneElement(r,a):Ve(r)?o=r(a):o=V.createElement(Tu,yf({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(Q.PureComponent);Um(qm,"displayName","PolarRadiusAxis");Um(qm,"axisType","radiusAxis");Um(qm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}function o3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o3(Object(n),!0).forEach(function(r){zm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jF(r.key),r)}}function Lne(t,e,n){return e&&u3(t.prototype,e),n&&u3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jne(t,e,n){return e=yv(e),Fne(t,LF()?Reflect.construct(e,n||[],yv(t).constructor):e.apply(t,n))}function Fne(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Une(t)}function Une(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LF=function(){return!!t})()}function yv(t){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(t)}function qne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B2(t,e)}function B2(t,e){return B2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},B2(t,e)}function zm(t,e,n){return e=jF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jF(t){var e=zne(t,"string");return mc(e)=="symbol"?e:e+""}function zne(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ne=Math.PI/180,Wne=1e-5,$m=function(t){function e(){return Bne(this,e),jne(this,e,arguments)}return qne(e,t),Lne(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,o=a.cy,u=a.radius,c=a.orientation,l=a.tickSize,h=l||8,d=Nt(i,o,u,r.coordinate),v=Nt(i,o,u+(c==="inner"?-1:1)*h,r.coordinate);return{x1:d.x,y1:d.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*$ne),o;return i>Wne?o=a==="outer"?"start":"end":i<-1e-5?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.radius,u=r.axisLine,c=r.axisLineType,l=ou(ou({},We(this.props,!1)),{},{fill:"none"},We(u,!1));if(c==="circle")return V.createElement(BE,hu({className:"recharts-polar-angle-axis-line"},l,{cx:a,cy:i,r:o}));var h=this.props.ticks,d=h.map(function(v){return Nt(a,i,o,v.coordinate)});return V.createElement(lne,hu({className:"recharts-polar-angle-axis-line"},l,{points:d}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,u=a.tickLine,c=a.tickFormatter,l=a.stroke,h=We(this.props,!1),d=We(o,!1),v=ou(ou({},h),{},{fill:"none"},We(u,!1)),m=i.map(function(y,x){var b=r.getTickLineCoord(y),w=r.getTickTextAnchor(y),S=ou(ou(ou({textAnchor:w},h),{},{stroke:"none",fill:l},d),{},{index:x,payload:y,x:b.x2,y:b.y2});return V.createElement(St,hu({className:Ye("recharts-polar-angle-axis-tick",EF(o)),key:"tick-".concat(y.coordinate)},Ou(r.props,y,x)),u&&V.createElement("line",hu({className:"recharts-polar-angle-axis-tick-line"},v,b)),o&&e.renderTickItem(o,S,c?c(y.value,x):y.value))});return V.createElement(St,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!a||!a.length?null:V.createElement(St,{className:Ye("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var o;return V.isValidElement(r)?o=V.cloneElement(r,a):Ve(r)?o=r(a):o=V.createElement(Tu,hu({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(Q.PureComponent);zm($m,"displayName","PolarAngleAxis");zm($m,"axisType","angleAxis");zm($m,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Sw,s3;function Hne(){if(s3)return Sw;s3=1;var t=KL(),e=t(Object.getPrototypeOf,Object);return Sw=e,Sw}var Ew,c3;function Vne(){if(c3)return Ew;c3=1;var t=Pi(),e=Hne(),n=Ni(),r="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,u=i.hasOwnProperty,c=o.call(Object);function l(h){if(!n(h)||t(h)!=r)return!1;var d=e(h);if(d===null)return!0;var v=u.call(d,"constructor")&&d.constructor;return typeof v=="function"&&v instanceof v&&o.call(v)==c}return Ew=l,Ew}var Gne=Vne();const Kne=gt(Gne);var Aw,l3;function Xne(){if(l3)return Aw;l3=1;var t=Pi(),e=Ni(),n="[object Boolean]";function r(a){return a===!0||a===!1||e(a)&&t(a)==n}return Aw=r,Aw}var Yne=Xne();const Qne=gt(Yne);function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(this,arguments)}function Zne(t,e){return nre(t)||tre(t,e)||ere(t,e)||Jne()}function Jne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ere(t,e){if(t){if(typeof t=="string")return f3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f3(t,e)}}function f3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){l=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return u}}function nre(t){if(Array.isArray(t))return t}function h3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function d3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h3(Object(n),!0).forEach(function(r){rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rre(t,e,n){return e=are(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function are(t){var e=ire(t,"string");return Qf(e)=="symbol"?e:e+""}function ire(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p3=function(e,n,r,a,i){var o=r-a,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-o/2,",").concat(n+i),u+="L ".concat(e+r-o/2-a,",").concat(n+i),u+="L ".concat(e,",").concat(n," Z"),u},ore={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ure=function(e){var n=d3(d3({},ore),e),r=Q.useRef(),a=Q.useState(-1),i=Zne(a,2),o=i[0],u=i[1];Q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&u(A)}catch{}},[]);var c=n.x,l=n.y,h=n.upperWidth,d=n.lowerWidth,v=n.height,m=n.className,y=n.animationEasing,x=n.animationDuration,b=n.animationBegin,w=n.isUpdateAnimationActive;if(c!==+c||l!==+l||h!==+h||d!==+d||v!==+v||h===0&&d===0||v===0)return null;var S=Ye("recharts-trapezoid",m);return w?V.createElement(Di,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:l},to:{upperWidth:h,lowerWidth:d,height:v,x:c,y:l},duration:x,animationEasing:y,isActive:w},function(A){var O=A.upperWidth,E=A.lowerWidth,C=A.height,R=A.x,D=A.y;return V.createElement(Di,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,easing:y},V.createElement("path",bv({},We(n,!0),{className:S,d:p3(R,D,O,E,C),ref:r})))}):V.createElement("g",null,V.createElement("path",bv({},We(n,!0),{className:S,d:p3(c,l,h,d,v)})))},sre=["option","shapeType","propTransformer","activeClassName","isActive"];function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function cre(t,e){if(t==null)return{};var n=lre(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return e=hre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hre(t){var e=dre(t,"string");return Zf(e)=="symbol"?e:e+""}function dre(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pre(t,e){return xv(xv({},e),t)}function vre(t,e){return t==="symbols"}function m3(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return V.createElement(IE,n);case"trapezoid":return V.createElement(ure,n);case"sector":return V.createElement(TF,n);case"symbols":if(vre(e))return V.createElement(eE,n);break;default:return null}}function mre(t){return Q.isValidElement(t)?t.props:t}function FF(t){var e=t.option,n=t.shapeType,r=t.propTransformer,a=r===void 0?pre:r,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,u=t.isActive,c=cre(t,sre),l;if(Q.isValidElement(e))l=Q.cloneElement(e,xv(xv({},c),mre(e)));else if(Ve(e))l=e(c);else if(Kne(e)&&!Qne(e)){var h=a(e,c);l=V.createElement(m3,{shapeType:n,elementProps:h})}else{var d=c;l=V.createElement(m3,{shapeType:n,elementProps:d})}return u?V.createElement(St,{className:o},l):l}function Wm(t,e){return e!=null&&"trapezoids"in t.props}function Hm(t,e){return e!=null&&"sectors"in t.props}function Jf(t,e){return e!=null&&"points"in t.props}function gre(t,e){var n,r,a=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return a&&i}function yre(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function bre(t,e){var n=t.x===e.x,r=t.y===e.y,a=t.z===e.z;return n&&r&&a}function xre(t,e){var n;return Wm(t,e)?n=gre:Hm(t,e)?n=yre:Jf(t,e)&&(n=bre),n}function wre(t,e){var n;return Wm(t,e)?n="trapezoids":Hm(t,e)?n="sectors":Jf(t,e)&&(n="points"),n}function _re(t,e){if(Wm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Hm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Jf(t,e)?e.payload:{}}function Sre(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,a=wre(n,e),i=_re(n,e),o=r.filter(function(c,l){var h=Bm(i,c),d=n.props[a].filter(function(y){var x=xre(n,e);return x(y,e)}),v=n.props[a].indexOf(d[d.length-1]),m=l===v;return h&&m}),u=r.indexOf(o[o.length-1]);return u}var kp;function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$s.apply(this,arguments)}function g3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g3(Object(n),!0).forEach(function(r){ea(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ere(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qF(r.key),r)}}function Are(t,e,n){return e&&y3(t.prototype,e),n&&y3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ore(t,e,n){return e=wv(e),Tre(t,UF()?Reflect.construct(e,n||[],wv(t).constructor):e.apply(t,n))}function Tre(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cre(t)}function Cre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UF=function(){return!!t})()}function wv(t){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wv(t)}function Rre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L2(t,e)}function L2(t,e){return L2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},L2(t,e)}function ea(t,e,n){return e=qF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qF(t){var e=Dre(t,"string");return gc(e)=="symbol"?e:e+""}function Dre(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ga=function(t){function e(n){var r;return Ere(this,e),r=Ore(this,e,[n]),ea(r,"pieRef",null),ea(r,"sectorRefs",[]),ea(r,"id",xh("recharts-pie-")),ea(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ve(a)&&a()}),ea(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ve(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Rre(e,t),Are(e,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,u=i.labelLine,c=i.dataKey,l=i.valueKey,h=We(this.props,!1),d=We(o,!1),v=We(u,!1),m=o&&o.offsetRadius||20,y=r.map(function(x,b){var w=(x.startAngle+x.endAngle)/2,S=Nt(x.cx,x.cy,x.outerRadius+m,w),A=Mt(Mt(Mt(Mt({},h),x),{},{stroke:"none"},d),{},{index:b,textAnchor:e.getTextAnchor(S.x,x.cx)},S),O=Mt(Mt(Mt(Mt({},h),x),{},{fill:"none",stroke:x.fill},v),{},{index:b,points:[Nt(x.cx,x.cy,x.outerRadius,w),S]}),E=c;return ut(c)&&ut(l)?E="value":ut(c)&&(E=l),V.createElement(St,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},u&&e.renderLabelLineItem(u,O,"line"),e.renderLabelItem(o,A,Yn(x,E)))});return V.createElement(St,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.activeShape,u=i.blendStroke,c=i.inactiveShape;return r.map(function(l,h){if((l==null?void 0:l.startAngle)===0&&(l==null?void 0:l.endAngle)===0&&r.length!==1)return null;var d=a.isActiveIndex(h),v=c&&a.hasActiveIndex()?c:null,m=d?o:v,y=Mt(Mt({},l),{},{stroke:u?l.fill:l.stroke,tabIndex:-1});return V.createElement(St,$s({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Ou(a.props,l,h),{key:"sector-".concat(l==null?void 0:l.startAngle,"-").concat(l==null?void 0:l.endAngle,"-").concat(l.midAngle,"-").concat(h)}),V.createElement(FF,$s({option:m,isActive:d,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,o=a.isAnimationActive,u=a.animationBegin,c=a.animationDuration,l=a.animationEasing,h=a.animationId,d=this.state,v=d.prevSectors,m=d.prevIsAnimationActive;return V.createElement(Di,{begin:u,duration:c,isActive:o,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,b=[],w=i&&i[0],S=w.startAngle;return i.forEach(function(A,O){var E=v&&v[O],C=O>0?jr(A,"paddingAngle",0):0;if(E){var R=vo(E.endAngle-E.startAngle,A.endAngle-A.startAngle),D=Mt(Mt({},A),{},{startAngle:S+C,endAngle:S+R(x)+C});b.push(D),S=D.endAngle}else{var M=A.endAngle,N=A.startAngle,k=vo(0,M-N),I=k(x),q=Mt(Mt({},A),{},{startAngle:S+C,endAngle:S+I+C});b.push(q),S=q.endAngle}}),V.createElement(St,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Bm(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,o=a.sectors,u=a.className,c=a.label,l=a.cx,h=a.cy,d=a.innerRadius,v=a.outerRadius,m=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!_e(l)||!_e(h)||!_e(d)||!_e(v))return null;var x=Ye("recharts-pie",u);return V.createElement(St,{tabIndex:this.props.rootTabIndex,className:x,ref:function(w){r.pieRef=w}},this.renderSectors(),c&&this.renderLabels(o),Cn.renderCallByParent(this.props,null,!1),(!m||y)&&Oo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(V.isValidElement(r))return V.cloneElement(r,a);if(Ve(r))return r(a);var o=Ye("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return V.createElement(_2,$s({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,a,i){if(V.isValidElement(r))return V.cloneElement(r,a);var o=i;if(Ve(r)&&(o=r(a),V.isValidElement(o)))return o;var u=Ye("recharts-pie-label-text",typeof r!="boolean"&&!Ve(r)?r.className:"");return V.createElement(Tu,$s({},a,{alignmentBaseline:"middle",className:u}),o)}}])}(Q.PureComponent);kp=Ga;ea(Ga,"displayName","Pie");ea(Ga,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!qc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ea(Ga,"parseDeltaAngle",function(t,e){var n=nr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ea(Ga,"getRealPieData",function(t){var e=t.data,n=t.children,r=We(t,!1),a=aa(n,Ks);return e&&e.length?e.map(function(i,o){return Mt(Mt(Mt({payload:i},r),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Mt(Mt({},r),i.props)}):[]});ea(Ga,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,a=e.width,i=e.height,o=SF(a,i),u=r+rr(t.cx,a,a/2),c=n+rr(t.cy,i,i/2),l=rr(t.innerRadius,o,0),h=rr(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:u,cy:c,innerRadius:l,outerRadius:h,maxRadius:d}});ea(Ga,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Mt(Mt({},e.type.defaultProps),e.props):e.props,a=kp.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,o=r.startAngle,u=r.endAngle,c=r.paddingAngle,l=r.dataKey,h=r.nameKey,d=r.valueKey,v=r.tooltipType,m=Math.abs(r.minAngle),y=kp.parseCoordinateOfPie(r,n),x=kp.parseDeltaAngle(o,u),b=Math.abs(x),w=l;ut(l)&&ut(d)?(wa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):ut(l)&&(wa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var S=a.filter(function(D){return Yn(D,w,0)!==0}).length,A=(b>=360?S:S-1)*c,O=b-S*m-A,E=a.reduce(function(D,M){var N=Yn(M,w,0);return D+(_e(N)?N:0)},0),C;if(E>0){var R;C=a.map(function(D,M){var N=Yn(D,w,0),k=Yn(D,h,M),I=(_e(N)?N:0)/E,q;M?q=R.endAngle+nr(x)*c*(N!==0?1:0):q=o;var W=q+nr(x)*((N!==0?m:0)+I*O),$=(q+W)/2,j=(y.innerRadius+y.outerRadius)/2,U=[{name:k,value:N,payload:D,dataKey:w,type:v}],H=Nt(y.cx,y.cy,j,$);return R=Mt(Mt(Mt({percent:I,cornerRadius:i,name:k,tooltipPayload:U,midAngle:$,middleRadius:j,tooltipPosition:H},D),y),{},{value:Yn(D,w),startAngle:q,endAngle:W,payload:D,paddingAngle:nr(x)*c}),R})}return Mt(Mt({},y),{},{sectors:C,data:a})});var Ow,b3;function Mre(){if(b3)return Ow;b3=1;var t=Math.ceil,e=Math.max;function n(r,a,i,o){for(var u=-1,c=e(t((a-r)/(i||1)),0),l=Array(c);c--;)l[o?c:++u]=r,r+=i;return l}return Ow=n,Ow}var Tw,x3;function zF(){if(x3)return Tw;x3=1;var t=lj(),e=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-1/0){var i=a<0?-1:1;return i*n}return a===a?a:0}return Tw=r,Tw}var Cw,w3;function Pre(){if(w3)return Cw;w3=1;var t=Mre(),e=Om(),n=zF();function r(a){return function(i,o,u){return u&&typeof u!="number"&&e(i,o,u)&&(o=u=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),u=u===void 0?i<o?1:-1:n(u),t(i,o,u,a)}}return Cw=r,Cw}var Rw,_3;function Nre(){if(_3)return Rw;_3=1;var t=Pre(),e=t();return Rw=e,Rw}var kre=Nre();const _v=gt(kre);function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function S3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function E3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S3(Object(n),!0).forEach(function(r){$F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $F(t,e,n){return e=Ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Bre(t,"string");return eh(e)=="symbol"?e:e+""}function Bre(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lre=["Webkit","Moz","O","ms"],jre=function(e,n){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Lre.reduce(function(i,o){return E3(E3({},i),{},$F({},o+r,n))},{});return a[e]=n,a};function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}function A3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A3(Object(n),!0).forEach(function(r){Rr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HF(r.key),r)}}function Ure(t,e,n){return e&&O3(t.prototype,e),n&&O3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qre(t,e,n){return e=Ev(e),zre(t,WF()?Reflect.construct(e,n||[],Ev(t).constructor):e.apply(t,n))}function zre(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $re(t)}function $re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WF=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ev(t)}function Wre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j2(t,e)}function j2(t,e){return j2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},j2(t,e)}function Rr(t,e,n){return e=HF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HF(t){var e=Hre(t,"string");return yc(e)=="symbol"?e:e+""}function Hre(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vre=function(e){var n=e.data,r=e.startIndex,a=e.endIndex,i=e.x,o=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,l=pf().domain(_v(0,c)).range([i,i+o-u]),h=l.domain().map(function(d){return l(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(a),scale:l,scaleValues:h}},T3=function(e){return e.changedTouches&&!!e.changedTouches.length},bc=function(t){function e(n){var r;return Fre(this,e),r=qre(this,e,[n]),Rr(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),Rr(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),Rr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,u=a.startIndex;o==null||o({endIndex:i,startIndex:u})}),r.detachDragEndListener()}),Rr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Rr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Rr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Rr(r,"handleSlideDragStart",function(a){var i=T3(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Wre(e,t),Ure(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,u=this.props,c=u.gap,l=u.data,h=l.length-1,d=Math.min(a,i),v=Math.max(a,i),m=e.getIndexInRange(o,d),y=e.getIndexInRange(o,v);return{startIndex:m-m%c,endIndex:y===h?h:y-y%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,u=a.dataKey,c=Yn(i[r],u,r);return Ve(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,u=a.endX,c=this.props,l=c.x,h=c.width,d=c.travellerWidth,v=c.startIndex,m=c.endIndex,y=c.onChange,x=r.pageX-i;x>0?x=Math.min(x,l+h-d-u,l+h-d-o):x<0&&(x=Math.max(x,l-o,l-u));var b=this.getIndex({startX:o+x,endX:u+x});(b.startIndex!==v||b.endIndex!==m)&&y&&y(b),this.setState({startX:o+x,endX:u+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=T3(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,u=a.endX,c=a.startX,l=this.state[o],h=this.props,d=h.x,v=h.width,m=h.travellerWidth,y=h.onChange,x=h.gap,b=h.data,w={startX:this.state.startX,endX:this.state.endX},S=r.pageX-i;S>0?S=Math.min(S,d+v-m-l):S<0&&(S=Math.max(S,d-l)),w[o]=l+S;var A=this.getIndex(w),O=A.startIndex,E=A.endIndex,C=function(){var D=b.length-1;return o==="startX"&&(u>c?O%x===0:E%x===0)||u<c&&E===D||o==="endX"&&(u>c?E%x===0:O%x===0)||u>c&&E===D};this.setState(Rr(Rr({},o,l+S),"brushMoveStartX",r.pageX),function(){y&&C()&&y(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,u=o.scaleValues,c=o.startX,l=o.endX,h=this.state[a],d=u.indexOf(h);if(d!==-1){var v=d+r;if(!(v===-1||v>=u.length)){var m=u[v];a==="startX"&&m>=l||a==="endX"&&m<=c||this.setState(Rr({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,u=r.height,c=r.fill,l=r.stroke;return V.createElement("rect",{stroke:l,fill:c,x:a,y:i,width:o,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,u=r.height,c=r.data,l=r.children,h=r.padding,d=Q.Children.only(l);return d?V.cloneElement(d,{x:a,y:i,width:o,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,u=this,c=this.props,l=c.y,h=c.travellerWidth,d=c.height,v=c.traveller,m=c.ariaLabel,y=c.data,x=c.startIndex,b=c.endIndex,w=Math.max(r,this.props.x),S=Dw(Dw({},We(this.props,!1)),{},{x:w,y:l,width:h,height:d}),A=m||"Min value: ".concat((i=y[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[b])===null||o===void 0?void 0:o.name);return V.createElement(St,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),u.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,S))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,u=i.height,c=i.stroke,l=i.travellerWidth,h=Math.min(r,a)+l,d=Math.max(Math.abs(a-r)-l,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:o,width:d,height:u})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,u=r.height,c=r.travellerWidth,l=r.stroke,h=this.state,d=h.startX,v=h.endX,m=5,y={pointerEvents:"none",fill:l};return V.createElement(St,{className:"recharts-brush-texts"},V.createElement(Tu,Sv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,v)-m,y:o+u/2},y),this.getTextOfTick(a)),V.createElement(Tu,Sv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,v)+c+m,y:o+u/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,u=r.x,c=r.y,l=r.width,h=r.height,d=r.alwaysShowText,v=this.state,m=v.startX,y=v.endX,x=v.isTextActive,b=v.isSlideMoving,w=v.isTravellerMoving,S=v.isTravellerFocused;if(!a||!a.length||!_e(u)||!_e(c)||!_e(l)||!_e(h)||l<=0||h<=0)return null;var A=Ye("recharts-brush",i),O=V.Children.count(o)===1,E=jre("userSelect","none");return V.createElement(St,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(x||b||w||S||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,u=r.height,c=r.stroke,l=Math.floor(i+u/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:a,y:i,width:o,height:u,fill:c,stroke:"none"}),V.createElement("line",{x1:a+1,y1:l,x2:a+o-1,y2:l,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:a+1,y1:l+2,x2:a+o-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return V.isValidElement(r)?i=V.cloneElement(r,a):Ve(r)?i=r(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,u=r.x,c=r.travellerWidth,l=r.updateId,h=r.startIndex,d=r.endIndex;if(i!==a.prevData||l!==a.prevUpdateId)return Dw({prevData:i,prevTravellerWidth:c,prevUpdateId:l,prevX:u,prevWidth:o},i&&i.length?Vre({data:i,width:o,x:u,travellerWidth:c,startIndex:h,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||u!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([u,u+o-c]);var v=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:l,prevX:u,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,u=i-1;u-o>1;){var c=Math.floor((o+u)/2);r[c]>a?u=c:o=c}return a>=r[u]?u:o}}])}(Q.PureComponent);Rr(bc,"displayName","Brush");Rr(bc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Mw,C3;function Gre(){if(C3)return Mw;C3=1;var t=uE();function e(n,r){var a;return t(n,function(i,o,u){return a=r(i,o,u),!a}),!!a}return Mw=e,Mw}var Pw,R3;function Kre(){if(R3)return Pw;R3=1;var t=qL(),e=Ya(),n=Gre(),r=wr(),a=Om();function i(o,u,c){var l=r(o)?t:n;return c&&a(o,u,c)&&(u=void 0),l(o,e(u,3))}return Pw=i,Pw}var Xre=Kre();const Yre=gt(Xre);var qa=function(e,n){var r=e.alwaysShow,a=e.ifOverflow;return r&&(a="extendDomain"),a===n},Nw,D3;function Qre(){if(D3)return Nw;D3=1;var t=ij();function e(n,r,a){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return Nw=e,Nw}var kw,M3;function Zre(){if(M3)return kw;M3=1;var t=Qre(),e=rj(),n=Ya();function r(a,i){var o={};return i=n(i,3),e(a,function(u,c,l){t(o,c,i(u,c,l))}),o}return kw=r,kw}var Jre=Zre();const eae=gt(Jre);var Iw,P3;function tae(){if(P3)return Iw;P3=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!n(e[r],r,e))return!1;return!0}return Iw=t,Iw}var Bw,N3;function nae(){if(N3)return Bw;N3=1;var t=uE();function e(n,r){var a=!0;return t(n,function(i,o,u){return a=!!r(i,o,u),a}),a}return Bw=e,Bw}var Lw,k3;function rae(){if(k3)return Lw;k3=1;var t=tae(),e=nae(),n=Ya(),r=wr(),a=Om();function i(o,u,c){var l=r(o)?t:e;return c&&a(o,u,c)&&(u=void 0),l(o,n(u,3))}return Lw=i,Lw}var aae=rae();const VF=gt(aae);var iae=["x","y"];function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function F2(){return F2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F2.apply(this,arguments)}function I3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(n),!0).forEach(function(r){oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oae(t,e,n){return e=uae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uae(t){var e=sae(t,"string");return th(e)=="symbol"?e:e+""}function sae(t,e){if(th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cae(t,e){if(t==null)return{};var n=lae(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fae(t,e){var n=t.x,r=t.y,a=cae(t,iae),i="".concat(n),o=parseInt(i,10),u="".concat(r),c=parseInt(u,10),l="".concat(e.height||a.height),h=parseInt(l,10),d="".concat(e.width||a.width),v=parseInt(d,10);return rf(rf(rf(rf(rf({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function B3(t){return V.createElement(FF,F2({shapeType:"rectangle",propTransformer:fae,activeClassName:"recharts-active-bar"},t))}var hae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof e=="number")return e;var i=typeof r=="number";return i?e(r,a):(i||Ru(),n)}},dae=["value","background"],GF;function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function pae(t,e){if(t==null)return{};var n=vae(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(this,arguments)}function L3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L3(Object(n),!0).forEach(function(r){bo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XF(r.key),r)}}function gae(t,e,n){return e&&j3(t.prototype,e),n&&j3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yae(t,e,n){return e=Ov(e),bae(t,KF()?Reflect.construct(e,n||[],Ov(t).constructor):e.apply(t,n))}function bae(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xae(t)}function xae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KF=function(){return!!t})()}function Ov(t){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ov(t)}function wae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U2(t,e)}function U2(t,e){return U2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},U2(t,e)}function bo(t,e,n){return e=XF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XF(t){var e=_ae(t,"string");return xc(e)=="symbol"?e:e+""}function _ae(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ju=function(t){function e(){var n;mae(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=yae(this,e,[].concat(a)),bo(n,"state",{isAnimationFinished:!1}),bo(n,"id",xh("recharts-bar-")),bo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),bo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return wae(e,t),gae(e,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,u=i.dataKey,c=i.activeIndex,l=i.activeBar,h=We(this.props,!1);return r&&r.map(function(d,v){var m=v===c,y=m?l:o,x=an(an(an({},h),d),{},{isActive:m,option:y,index:v,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return V.createElement(St,Av({className:"recharts-bar-rectangle"},Ou(a.props,d,v),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(v)}),V.createElement(B3,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,u=a.isAnimationActive,c=a.animationBegin,l=a.animationDuration,h=a.animationEasing,d=a.animationId,v=this.state.prevData;return V.createElement(Di,{begin:c,duration:l,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,x=i.map(function(b,w){var S=v&&v[w];if(S){var A=vo(S.x,b.x),O=vo(S.y,b.y),E=vo(S.width,b.width),C=vo(S.height,b.height);return an(an({},b),{},{x:A(y),y:O(y),width:E(y),height:C(y)})}if(o==="horizontal"){var R=vo(0,b.height),D=R(y);return an(an({},b),{},{y:b.y+b.height-D,height:D})}var M=vo(0,b.width),N=M(y);return an(an({},b),{},{width:N})});return V.createElement(St,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Bm(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,u=a.activeIndex,c=We(this.props.background,!1);return i.map(function(l,h){l.value;var d=l.background,v=pae(l,dae);if(!d)return null;var m=an(an(an(an(an({},v),{},{fill:"#eee"},d),c),Ou(r.props,l,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return V.createElement(B3,Av({key:"background-bar-".concat(h),option:r.props.background,isActive:h===u},m))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,u=i.xAxis,c=i.yAxis,l=i.layout,h=i.children,d=aa(h,Fm);if(!d)return null;var v=l==="vertical"?o[0].height/2:o[0].width/2,m=function(b,w){var S=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:S,errorVal:Yn(b,w)}},y={clipPath:r?"url(#clipPath-".concat(a,")"):null};return V.createElement(St,y,d.map(function(x){return V.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:o,xAxis:u,yAxis:c,layout:l,offset:v,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,u=r.xAxis,c=r.yAxis,l=r.left,h=r.top,d=r.width,v=r.height,m=r.isAnimationActive,y=r.background,x=r.id;if(a||!i||!i.length)return null;var b=this.state.isAnimationFinished,w=Ye("recharts-bar",o),S=u&&u.allowDataOverflow,A=c&&c.allowDataOverflow,O=S||A,E=ut(x)?this.id:x;return V.createElement(St,{className:w},S||A?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(E)},V.createElement("rect",{x:S?l:l-d/2,y:A?h:h-v/2,width:S?d:d*2,height:A?v:v*2}))):null,V.createElement(St,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,E),(!m||b)&&Oo.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(Q.PureComponent);GF=ju;bo(ju,"displayName","Bar");bo(ju,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});bo(ju,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,l=t.stackedData,h=t.dataStartIndex,d=t.displayedData,v=t.offset,m=YZ(r,n);if(!m)return null;var y=e.layout,x=n.type.defaultProps,b=x!==void 0?an(an({},x),n.props):n.props,w=b.dataKey,S=b.children,A=b.minPointSize,O=y==="horizontal"?o:i,E=l?O.scale.domain():null,C=rJ({numericAxis:O}),R=aa(S,Ks),D=d.map(function(M,N){var k,I,q,W,$,j;l?k=QZ(l[h+N],E):(k=Yn(M,w),Array.isArray(k)||(k=[C,k]));var U=hae(A,GF.defaultProps.minPointSize)(k[1],N);if(y==="horizontal"){var H,Y=[o.scale(k[0]),o.scale(k[1])],B=Y[0],K=Y[1];I=lI({axis:i,ticks:u,bandSize:a,offset:m.offset,entry:M,index:N}),q=(H=K??B)!==null&&H!==void 0?H:void 0,W=m.size;var J=B-K;if($=Number.isNaN(J)?0:J,j={x:I,y:o.y,width:W,height:o.height},Math.abs(U)>0&&Math.abs($)<Math.abs(U)){var ne=nr($||U)*(Math.abs(U)-Math.abs($));q-=ne,$+=ne}}else{var ve=[i.scale(k[0]),i.scale(k[1])],we=ve[0],xe=ve[1];if(I=we,q=lI({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:M,index:N}),W=xe-we,$=m.size,j={x:i.x,y:q,width:i.width,height:$},Math.abs(U)>0&&Math.abs(W)<Math.abs(U)){var Fe=nr(W||U)*(Math.abs(U)-Math.abs(W));W+=Fe}}return an(an(an({},M),{},{x:I,y:q,width:W,height:$,value:l?k:k[1],payload:M,background:j},R&&R[N]&&R[N].props),{},{tooltipPayload:[wF(n,M)],tooltipPosition:{x:I+W/2,y:q+$/2}})});return an({data:D,layout:y},v)});function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function Sae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YF(r.key),r)}}function Eae(t,e,n){return e&&F3(t.prototype,e),n&&F3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U3(Object(n),!0).forEach(function(r){Vm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vm(t,e,n){return e=YF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YF(t){var e=Aae(t,"string");return nh(e)=="symbol"?e:e+""}function Aae(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oae=function(e,n,r,a,i){var o=e.width,u=e.height,c=e.layout,l=e.children,h=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},v=!!Dr(l,ju);return h.reduce(function(m,y){var x=n[y],b=x.orientation,w=x.domain,S=x.padding,A=S===void 0?{}:S,O=x.mirror,E=x.reversed,C="".concat(b).concat(O?"Mirror":""),R,D,M,N,k;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var I=w[1]-w[0],q=1/0,W=x.categoricalDomain.sort();if(W.forEach(function(ve,we){we>0&&(q=Math.min((ve||0)-(W[we-1]||0),q))}),Number.isFinite(q)){var $=q/I,j=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(R=$*j/2),x.padding==="no-gap"){var U=rr(e.barCategoryGap,$*j),H=$*j/2;R=H-U-(H-U)/j*U}}}a==="xAxis"?D=[r.left+(A.left||0)+(R||0),r.left+r.width-(A.right||0)-(R||0)]:a==="yAxis"?D=c==="horizontal"?[r.top+r.height-(A.bottom||0),r.top+(A.top||0)]:[r.top+(A.top||0)+(R||0),r.top+r.height-(A.bottom||0)-(R||0)]:D=x.range,E&&(D=[D[1],D[0]]);var Y=gF(x,i,v),B=Y.scale,K=Y.realScaleType;B.domain(w).range(D),yF(B);var J=bF(B,ma(ma({},x),{},{realScaleType:K}));a==="xAxis"?(k=b==="top"&&!O||b==="bottom"&&O,M=r.left,N=d[C]-k*x.height):a==="yAxis"&&(k=b==="left"&&!O||b==="right"&&O,M=d[C]-k*x.width,N=r.top);var ne=ma(ma(ma({},x),J),{},{realScaleType:K,x:M,y:N,scale:B,width:a==="xAxis"?r.width:x.width,height:a==="yAxis"?r.height:x.height});return ne.bandSize=lv(ne,J),!x.hide&&a==="xAxis"?d[C]+=(k?-1:1)*ne.height:x.hide||(d[C]+=(k?-1:1)*ne.width),ma(ma({},m),{},Vm({},y,ne))},{})},QF=function(e,n){var r=e.x,a=e.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},Tae=function(e){var n=e.x1,r=e.y1,a=e.x2,i=e.y2;return QF({x:n,y:r},{x:a,y:i})},ZF=function(){function t(e){Sae(this,t),this.scale=e}return Eae(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new t(n)}}])}();Vm(ZF,"EPS",1e-4);var LE=function(e){var n=Object.keys(e).reduce(function(r,a){return ma(ma({},r),{},Vm({},a,ZF.create(e[a])))},{});return ma(ma({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,u=i.position;return eae(a,function(c,l){return n[l].apply(c,{bandAware:o,position:u})})},isInRange:function(a){return VF(a,function(i,o){return n[o].isInRange(i)})}})};function Cae(t){return(t%180+180)%180}var Rae=function(e){var n=e.width,r=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Cae(a),o=i*Math.PI/180,u=Math.atan(r/n),c=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},jw,q3;function Dae(){if(q3)return jw;q3=1;var t=Ya(),e=wh(),n=Em();function r(a){return function(i,o,u){var c=Object(i);if(!e(i)){var l=t(o,3);i=n(i),o=function(d){return l(c[d],d,c)}}var h=a(i,o,u);return h>-1?c[l?i[h]:h]:void 0}}return jw=r,jw}var Fw,z3;function Mae(){if(z3)return Fw;z3=1;var t=zF();function e(n){var r=t(n),a=r%1;return r===r?a?r-a:r:0}return Fw=e,Fw}var Uw,$3;function Pae(){if($3)return Uw;$3=1;var t=ZL(),e=Ya(),n=Mae(),r=Math.max;function a(i,o,u){var c=i==null?0:i.length;if(!c)return-1;var l=u==null?0:n(u);return l<0&&(l=r(c+l,0)),t(i,e(o,3),l)}return Uw=a,Uw}var qw,W3;function Nae(){if(W3)return qw;W3=1;var t=Dae(),e=Pae(),n=t(e);return qw=n,qw}var kae=Nae();const Iae=gt(kae);var Bae=pL();const Lae=gt(Bae);var jae=Lae(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),jE=Q.createContext(void 0),FE=Q.createContext(void 0),JF=Q.createContext(void 0),eU=Q.createContext({}),tU=Q.createContext(void 0),nU=Q.createContext(0),rU=Q.createContext(0),H3=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=e.clipPathId,u=e.children,c=e.width,l=e.height,h=jae(i);return V.createElement(jE.Provider,{value:r},V.createElement(FE.Provider,{value:a},V.createElement(eU.Provider,{value:i},V.createElement(JF.Provider,{value:h},V.createElement(tU.Provider,{value:o},V.createElement(nU.Provider,{value:l},V.createElement(rU.Provider,{value:c},u)))))))},Fae=function(){return Q.useContext(tU)},aU=function(e){var n=Q.useContext(jE);n==null&&Ru();var r=n[e];return r==null&&Ru(),r},Uae=function(){var e=Q.useContext(jE);return go(e)},qae=function(){var e=Q.useContext(FE),n=Iae(e,function(r){return VF(r.domain,Number.isFinite)});return n||go(e)},iU=function(e){var n=Q.useContext(FE);n==null&&Ru();var r=n[e];return r==null&&Ru(),r},zae=function(){var e=Q.useContext(JF);return e},$ae=function(){return Q.useContext(eU)},UE=function(){return Q.useContext(rU)},qE=function(){return Q.useContext(nU)};function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function Wae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uU(r.key),r)}}function Vae(t,e,n){return e&&Hae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gae(t,e,n){return e=Tv(e),Kae(t,oU()?Reflect.construct(e,n||[],Tv(t).constructor):e.apply(t,n))}function Kae(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xae(t)}function Xae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oU=function(){return!!t})()}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tv(t)}function Yae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q2(t,e)}function q2(t,e){return q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},q2(t,e)}function V3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function G3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(n),!0).forEach(function(r){zE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zE(t,e,n){return e=uU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uU(t){var e=Qae(t,"string");return wc(e)=="symbol"?e:e+""}function Qae(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Zae(t,e){return nie(t)||tie(t,e)||eie(t,e)||Jae()}function Jae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eie(t,e){if(t){if(typeof t=="string")return K3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K3(t,e)}}function K3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){l=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return u}}function nie(t){if(Array.isArray(t))return t}function z2(){return z2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z2.apply(this,arguments)}var rie=function(e,n){var r;return V.isValidElement(e)?r=V.cloneElement(e,n):Ve(e)?r=e(n):r=V.createElement("line",z2({},n,{className:"recharts-reference-line-line"})),r},aie=function(e,n,r,a,i,o,u,c,l){var h=i.x,d=i.y,v=i.width,m=i.height;if(r){var y=l.y,x=e.y.apply(y,{position:o});if(qa(l,"discard")&&!e.y.isInRange(x))return null;var b=[{x:h+v,y:x},{x:h,y:x}];return c==="left"?b.reverse():b}if(n){var w=l.x,S=e.x.apply(w,{position:o});if(qa(l,"discard")&&!e.x.isInRange(S))return null;var A=[{x:S,y:d+m},{x:S,y:d}];return u==="top"?A.reverse():A}if(a){var O=l.segment,E=O.map(function(C){return e.apply(C,{position:o})});return qa(l,"discard")&&Yre(E,function(C){return!e.isInRange(C)})?null:E}return null};function iie(t){var e=t.x,n=t.y,r=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,u=t.className,c=t.alwaysShow,l=Fae(),h=aU(a),d=iU(i),v=zae();if(!l||!v)return null;wa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=LE({x:h.scale,y:d.scale}),y=pn(e),x=pn(n),b=r&&r.length===2,w=aie(m,y,x,b,v,t.position,h.orientation,d.orientation,t);if(!w)return null;var S=Zae(w,2),A=S[0],O=A.x,E=A.y,C=S[1],R=C.x,D=C.y,M=qa(t,"hidden")?"url(#".concat(l,")"):void 0,N=G3(G3({clipPath:M},We(t,!0)),{},{x1:O,y1:E,x2:R,y2:D});return V.createElement(St,{className:Ye("recharts-reference-line",u)},rie(o,N),Cn.renderCallByParent(t,Tae({x1:O,y1:E,x2:R,y2:D})))}var $E=function(t){function e(){return Wae(this,e),Gae(this,e,arguments)}return Yae(e,t),Vae(e,[{key:"render",value:function(){return V.createElement(iie,this.props)}}])}(V.Component);zE($E,"displayName","ReferenceLine");zE($E,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $2(){return $2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$2.apply(this,arguments)}function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Y3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){Gm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cU(r.key),r)}}function sie(t,e,n){return e&&uie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cie(t,e,n){return e=Cv(e),lie(t,sU()?Reflect.construct(e,n||[],Cv(t).constructor):e.apply(t,n))}function lie(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fie(t)}function fie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sU=function(){return!!t})()}function Cv(t){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cv(t)}function hie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W2(t,e)}function W2(t,e){return W2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},W2(t,e)}function Gm(t,e,n){return e=cU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cU(t){var e=die(t,"string");return _c(e)=="symbol"?e:e+""}function die(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pie=function(e){var n=e.x,r=e.y,a=e.xAxis,i=e.yAxis,o=LE({x:a.scale,y:i.scale}),u=o.apply({x:n,y:r},{bandAware:!0});return qa(e,"discard")&&!o.isInRange(u)?null:u},Km=function(t){function e(){return oie(this,e),cie(this,e,arguments)}return hie(e,t),sie(e,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,u=r.alwaysShow,c=r.clipPathId,l=pn(a),h=pn(i);if(wa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!h)return null;var d=pie(this.props);if(!d)return null;var v=d.x,m=d.y,y=this.props,x=y.shape,b=y.className,w=qa(this.props,"hidden")?"url(#".concat(c,")"):void 0,S=Y3(Y3({clipPath:w},We(this.props,!0)),{},{cx:v,cy:m});return V.createElement(St,{className:Ye("recharts-reference-dot",b)},e.renderDot(x,S),Cn.renderCallByParent(this.props,{x:v-o,y:m-o,width:2*o,height:2*o}))}}])}(V.Component);Gm(Km,"displayName","ReferenceDot");Gm(Km,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gm(Km,"renderDot",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):Ve(t)?n=t(e):n=V.createElement(BE,$2({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function H2(){return H2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H2.apply(this,arguments)}function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function Q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Z3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(n),!0).forEach(function(r){Xm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fU(r.key),r)}}function gie(t,e,n){return e&&mie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yie(t,e,n){return e=Rv(e),bie(t,lU()?Reflect.construct(e,n||[],Rv(t).constructor):e.apply(t,n))}function bie(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xie(t)}function xie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lU=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rv(t)}function wie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V2(t,e)}function V2(t,e){return V2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},V2(t,e)}function Xm(t,e,n){return e=fU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fU(t){var e=_ie(t,"string");return Sc(e)=="symbol"?e:e+""}function _ie(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sie=function(e,n,r,a,i){var o=i.x1,u=i.x2,c=i.y1,l=i.y2,h=i.xAxis,d=i.yAxis;if(!h||!d)return null;var v=LE({x:h.scale,y:d.scale}),m={x:e?v.x.apply(o,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(c,{position:"start"}):v.y.rangeMin},y={x:n?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:a?v.y.apply(l,{position:"end"}):v.y.rangeMax};return qa(i,"discard")&&(!v.isInRange(m)||!v.isInRange(y))?null:QF(m,y)},Ym=function(t){function e(){return vie(this,e),yie(this,e,arguments)}return wie(e,t),gie(e,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,u=r.y2,c=r.className,l=r.alwaysShow,h=r.clipPathId;wa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=pn(a),v=pn(i),m=pn(o),y=pn(u),x=this.props.shape;if(!d&&!v&&!m&&!y&&!x)return null;var b=Sie(d,v,m,y,this.props);if(!b&&!x)return null;var w=qa(this.props,"hidden")?"url(#".concat(h,")"):void 0;return V.createElement(St,{className:Ye("recharts-reference-area",c)},e.renderRect(x,Z3(Z3({clipPath:w},We(this.props,!0)),b)),Cn.renderCallByParent(this.props,b))}}])}(V.Component);Xm(Ym,"displayName","ReferenceArea");Xm(Ym,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Xm(Ym,"renderRect",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):Ve(t)?n=t(e):n=V.createElement(IE,H2({},e,{className:"recharts-reference-area-rect"})),n});function hU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function Eie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Rae(r,n)}function Aie(t,e,n){var r=n==="width",a=t.x,i=t.y,o=t.width,u=t.height;return e===1?{start:r?a:i,end:r?a+o:i+u}:{start:r?a+o:i+u,end:r?a:i}}function Dv(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-a)<=0}function Oie(t,e){return hU(t,e+1)}function Tie(t,e,n,r,a){for(var i=(r||[]).slice(),o=e.start,u=e.end,c=0,l=1,h=o,d=function(){var y=r==null?void 0:r[c];if(y===void 0)return{v:hU(r,l)};var x=c,b,w=function(){return b===void 0&&(b=n(y,x)),b},S=y.coordinate,A=c===0||Dv(t,S,w,h,u);A||(c=0,h=o,l+=1),A&&(h=S+t*(w()/2+a),c+=l)},v;l<=i.length;)if(v=d(),v)return v.v;return[]}function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function J3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(n),!0).forEach(function(r){Cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cie(t,e,n){return e=Rie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rie(t){var e=Die(t,"string");return rh(e)=="symbol"?e:e+""}function Die(t,e){if(rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mie(t,e,n,r,a){for(var i=(r||[]).slice(),o=i.length,u=e.start,c=e.end,l=function(v){var m=i[v],y,x=function(){return y===void 0&&(y=n(m,v)),y};if(v===o-1){var b=t*(m.coordinate+t*x()/2-c);i[v]=m=Hn(Hn({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate})}else i[v]=m=Hn(Hn({},m),{},{tickCoord:m.coordinate});var w=Dv(t,m.tickCoord,x,u,c);w&&(c=m.tickCoord-t*(x()/2+a),i[v]=Hn(Hn({},m),{},{isShow:!0}))},h=o-1;h>=0;h--)l(h);return i}function Pie(t,e,n,r,a,i){var o=(r||[]).slice(),u=o.length,c=e.start,l=e.end;if(i){var h=r[u-1],d=n(h,u-1),v=t*(h.coordinate+t*d/2-l);o[u-1]=h=Hn(Hn({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var m=Dv(t,h.tickCoord,function(){return d},c,l);m&&(l=h.tickCoord-t*(d/2+a),o[u-1]=Hn(Hn({},h),{},{isShow:!0}))}for(var y=i?u-1:u,x=function(S){var A=o[S],O,E=function(){return O===void 0&&(O=n(A,S)),O};if(S===0){var C=t*(A.coordinate-t*E()/2-c);o[S]=A=Hn(Hn({},A),{},{tickCoord:C<0?A.coordinate-C*t:A.coordinate})}else o[S]=A=Hn(Hn({},A),{},{tickCoord:A.coordinate});var R=Dv(t,A.tickCoord,E,c,l);R&&(c=A.tickCoord+t*(E()/2+a),o[S]=Hn(Hn({},A),{},{isShow:!0}))},b=0;b<y;b++)x(b);return o}function WE(t,e,n){var r=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,u=t.orientation,c=t.interval,l=t.tickFormatter,h=t.unit,d=t.angle;if(!a||!a.length||!r)return[];if(_e(c)||qc.isSsr)return Oie(a,typeof c=="number"&&_e(c)?c:0);var v=[],m=u==="top"||u==="bottom"?"width":"height",y=h&&m==="width"?df(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(A,O){var E=Ve(l)?l(A.value,O):A.value;return m==="width"?Eie(df(E,{fontSize:e,letterSpacing:n}),y,d):df(E,{fontSize:e,letterSpacing:n})[m]},b=a.length>=2?nr(a[1].coordinate-a[0].coordinate):1,w=Aie(i,b,m);return c==="equidistantPreserveStart"?Tie(b,w,x,a,o):(c==="preserveStart"||c==="preserveStartEnd"?v=Pie(b,w,x,a,o,c==="preserveStartEnd"):v=Mie(b,w,x,a,o),v.filter(function(S){return S.isShow}))}var Nie=["viewBox"],kie=["viewBox"],Iie=["ticks"];function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ws.apply(this,arguments)}function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){HE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zw(t,e){if(t==null)return{};var n=Bie(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pU(r.key),r)}}function jie(t,e,n){return e&&t4(t.prototype,e),n&&t4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fie(t,e,n){return e=Mv(e),Uie(t,dU()?Reflect.construct(e,n||[],Mv(t).constructor):e.apply(t,n))}function Uie(t,e){if(e&&(Ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qie(t)}function qie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dU=function(){return!!t})()}function Mv(t){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mv(t)}function zie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G2(t,e)}function G2(t,e){return G2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},G2(t,e)}function HE(t,e,n){return e=pU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pU(t){var e=$ie(t,"string");return Ec(e)=="symbol"?e:e+""}function $ie(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hc=function(t){function e(n){var r;return Lie(this,e),r=Fie(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return zie(e,t),jie(e,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=zw(r,Nie),u=this.props,c=u.viewBox,l=zw(u,kie);return!Gs(i,c)||!Gs(o,l)||!Gs(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,u=a.width,c=a.height,l=a.orientation,h=a.tickSize,d=a.mirror,v=a.tickMargin,m,y,x,b,w,S,A=d?-1:1,O=r.tickSize||h,E=_e(r.tickCoord)?r.tickCoord:r.coordinate;switch(l){case"top":m=y=r.coordinate,b=o+ +!d*c,x=b-A*O,S=x-A*v,w=E;break;case"left":x=b=r.coordinate,y=i+ +!d*u,m=y-A*O,w=m-A*v,S=E;break;case"right":x=b=r.coordinate,y=i+ +d*u,m=y+A*O,w=m+A*v,S=E;break;default:m=y=r.coordinate,b=o+ +d*c,x=b+A*O,S=x+A*v,w=E;break}return{line:{x1:m,y1:x,x2:y,y2:b},tick:{x:w,y:S}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,u=r.height,c=r.orientation,l=r.mirror,h=r.axisLine,d=tr(tr(tr({},We(this.props,!1)),We(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!l||c==="bottom"&&l);d=tr(tr({},d),{},{x1:a,y1:i+v*u,x2:a+o,y2:i+v*u})}else{var m=+(c==="left"&&!l||c==="right"&&l);d=tr(tr({},d),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+u})}return V.createElement("line",Ws({},d,{className:Ye("recharts-cartesian-axis-line",jr(h,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,u=this.props,c=u.tickLine,l=u.stroke,h=u.tick,d=u.tickFormatter,v=u.unit,m=WE(tr(tr({},this.props),{},{ticks:r}),a,i),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),b=We(this.props,!1),w=We(h,!1),S=tr(tr({},b),{},{fill:"none"},We(c,!1)),A=m.map(function(O,E){var C=o.getTickLineCoord(O),R=C.line,D=C.tick,M=tr(tr(tr(tr({textAnchor:y,verticalAnchor:x},b),{},{stroke:"none",fill:l},w),D),{},{index:E,payload:O,visibleTicksCount:m.length,tickFormatter:d});return V.createElement(St,Ws({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Ou(o.props,O,E)),c&&V.createElement("line",Ws({},S,R,{className:Ye("recharts-cartesian-axis-tick-line",jr(c,"className"))})),h&&e.renderTickItem(h,M,"".concat(Ve(d)?d(O.value,E):O.value).concat(v||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,u=a.height,c=a.ticksGenerator,l=a.className,h=a.hide;if(h)return null;var d=this.props,v=d.ticks,m=zw(d,Iie),y=v;return Ve(c)&&(y=v&&v.length>0?c(this.props):c(m)),o<=0||u<=0||!y||!y.length?null:V.createElement(St,{className:Ye("recharts-cartesian-axis",l),ref:function(b){r.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Cn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return V.isValidElement(r)?o=V.cloneElement(r,a):Ve(r)?o=r(a):o=V.createElement(Tu,Ws({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(Q.Component);HE(Hc,"displayName","CartesianAxis");HE(Hc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Wie=["x1","y1","x2","y2","key"],Hie=["offset"];function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function n4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(n),!0).forEach(function(r){Vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vie(t,e,n){return e=Gie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gie(t){var e=Kie(t,"string");return Du(e)=="symbol"?e:e+""}function Kie(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yu.apply(this,arguments)}function r4(t,e){if(t==null)return{};var n=Xie(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Yie=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,a=e.x,i=e.y,o=e.width,u=e.height,c=e.ry;return V.createElement("rect",{x:a,y:i,ry:c,width:o,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function vU(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(Ve(t))n=t(e);else{var r=e.x1,a=e.y1,i=e.x2,o=e.y2,u=e.key,c=r4(e,Wie),l=We(c,!1);l.offset;var h=r4(l,Hie);n=V.createElement("line",yu({},h,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:u}))}return n}function Qie(t){var e=t.x,n=t.width,r=t.horizontal,a=r===void 0?!0:r,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(u,c){var l=Gn(Gn({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return vU(a,l)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Zie(t){var e=t.y,n=t.height,r=t.vertical,a=r===void 0?!0:r,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(u,c){var l=Gn(Gn({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return vU(a,l)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Jie(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,a=t.y,i=t.width,o=t.height,u=t.horizontalPoints,c=t.horizontal,l=c===void 0?!0:c;if(!l||!e||!e.length)return null;var h=u.map(function(v){return Math.round(v+a-a)}).sort(function(v,m){return v-m});a!==h[0]&&h.unshift(0);var d=h.map(function(v,m){var y=!h[m+1],x=y?a+o-v:h[m+1]-v;if(x<=0)return null;var b=m%e.length;return V.createElement("rect",{key:"react-".concat(m),y:v,x:r,height:x,width:i,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function eoe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,u=t.width,c=t.height,l=t.verticalPoints;if(!n||!r||!r.length)return null;var h=l.map(function(v){return Math.round(v+i-i)}).sort(function(v,m){return v-m});i!==h[0]&&h.unshift(0);var d=h.map(function(v,m){var y=!h[m+1],x=y?i+u-v:h[m+1]-v;if(x<=0)return null;var b=m%r.length;return V.createElement("rect",{key:"react-".concat(m),x:v,y:o,width:x,height:c,stroke:"none",fill:r[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var toe=function(e,n){var r=e.xAxis,a=e.width,i=e.height,o=e.offset;return mF(WE(Gn(Gn(Gn({},Hc.defaultProps),r),{},{ticks:Ei(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},noe=function(e,n){var r=e.yAxis,a=e.width,i=e.height,o=e.offset;return mF(WE(Gn(Gn(Gn({},Hc.defaultProps),r),{},{ticks:Ei(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Ms={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function mU(t){var e,n,r,a,i,o,u=UE(),c=qE(),l=$ae(),h=Gn(Gn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ms.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ms.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ms.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Ms.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Ms.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Ms.verticalFill,x:_e(t.x)?t.x:l.left,y:_e(t.y)?t.y:l.top,width:_e(t.width)?t.width:l.width,height:_e(t.height)?t.height:l.height}),d=h.x,v=h.y,m=h.width,y=h.height,x=h.syncWithTicks,b=h.horizontalValues,w=h.verticalValues,S=Uae(),A=qae();if(!_e(m)||m<=0||!_e(y)||y<=0||!_e(d)||d!==+d||!_e(v)||v!==+v)return null;var O=h.verticalCoordinatesGenerator||toe,E=h.horizontalCoordinatesGenerator||noe,C=h.horizontalPoints,R=h.verticalPoints;if((!C||!C.length)&&Ve(E)){var D=b&&b.length,M=E({yAxis:A?Gn(Gn({},A),{},{ticks:D?b:A.ticks}):void 0,width:u,height:c,offset:l},D?!0:x);wa(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Du(M),"]")),Array.isArray(M)&&(C=M)}if((!R||!R.length)&&Ve(O)){var N=w&&w.length,k=O({xAxis:S?Gn(Gn({},S),{},{ticks:N?w:S.ticks}):void 0,width:u,height:c,offset:l},N?!0:x);wa(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Du(k),"]")),Array.isArray(k)&&(R=k)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(Yie,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),V.createElement(Qie,yu({},h,{offset:l,horizontalPoints:C,xAxis:S,yAxis:A})),V.createElement(Zie,yu({},h,{offset:l,verticalPoints:R,xAxis:S,yAxis:A})),V.createElement(Jie,yu({},h,{horizontalPoints:C})),V.createElement(eoe,yu({},h,{verticalPoints:R})))}mU.displayName="CartesianGrid";function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function roe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bU(r.key),r)}}function ioe(t,e,n){return e&&aoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ooe(t,e,n){return e=Pv(e),uoe(t,gU()?Reflect.construct(e,n||[],Pv(t).constructor):e.apply(t,n))}function uoe(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return soe(t)}function soe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gU=function(){return!!t})()}function Pv(t){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pv(t)}function coe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K2(t,e)}function K2(t,e){return K2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},K2(t,e)}function yU(t,e,n){return e=bU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bU(t){var e=loe(t,"string");return Ac(e)=="symbol"?e:e+""}function loe(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function X2(){return X2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X2.apply(this,arguments)}function foe(t){var e=t.xAxisId,n=UE(),r=qE(),a=aU(e);return a==null?null:V.createElement(Hc,X2({},a,{className:Ye("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ei(o,!0)}}))}var Qm=function(t){function e(){return roe(this,e),ooe(this,e,arguments)}return coe(e,t),ioe(e,[{key:"render",value:function(){return V.createElement(foe,this.props)}}])}(V.Component);yU(Qm,"displayName","XAxis");yU(Qm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function hoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function doe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_U(r.key),r)}}function poe(t,e,n){return e&&doe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function voe(t,e,n){return e=Nv(e),moe(t,xU()?Reflect.construct(e,n||[],Nv(t).constructor):e.apply(t,n))}function moe(t,e){if(e&&(Oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return goe(t)}function goe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xU=function(){return!!t})()}function Nv(t){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nv(t)}function yoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y2(t,e)}function Y2(t,e){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Y2(t,e)}function wU(t,e,n){return e=_U(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _U(t){var e=boe(t,"string");return Oc(e)=="symbol"?e:e+""}function boe(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Q2(){return Q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q2.apply(this,arguments)}var xoe=function(e){var n=e.yAxisId,r=UE(),a=qE(),i=iU(n);return i==null?null:V.createElement(Hc,Q2({},i,{className:Ye("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(u){return Ei(u,!0)}}))},Zm=function(t){function e(){return hoe(this,e),voe(this,e,arguments)}return yoe(e,t),poe(e,[{key:"render",value:function(){return V.createElement(xoe,this.props)}}])}(V.Component);wU(Zm,"displayName","YAxis");wU(Zm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function a4(t){return Eoe(t)||Soe(t)||_oe(t)||woe()}function woe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _oe(t,e){if(t){if(typeof t=="string")return Z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z2(t,e)}}function Soe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eoe(t){if(Array.isArray(t))return Z2(t)}function Z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J2=function(e,n,r,a,i){var o=aa(e,$E),u=aa(e,Km),c=[].concat(a4(o),a4(u)),l=aa(e,Ym),h="".concat(a,"Id"),d=a[0],v=n;if(c.length&&(v=c.reduce(function(x,b){if(b.props[h]===r&&qa(b.props,"extendDomain")&&_e(b.props[d])){var w=b.props[d];return[Math.min(x[0],w),Math.max(x[1],w)]}return x},v)),l.length){var m="".concat(d,"1"),y="".concat(d,"2");v=l.reduce(function(x,b){if(b.props[h]===r&&qa(b.props,"extendDomain")&&_e(b.props[m])&&_e(b.props[y])){var w=b.props[m],S=b.props[y];return[Math.min(x[0],w,S),Math.max(x[1],w,S)]}return x},v)}return i&&i.length&&(v=i.reduce(function(x,b){return _e(b)?[Math.min(x[0],b),Math.max(x[1],b)]:x},v)),v},$w={exports:{}},i4;function Aoe(){return i4||(i4=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,l,h){this.fn=c,this.context=l,this.once=h||!1}function i(c,l,h,d,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new a(h,d||c,v),y=n?n+l:l;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var l=[],h,d;if(this._eventsCount===0)return l;for(d in h=this._events)e.call(h,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(h)):l},u.prototype.listeners=function(l){var h=n?n+l:l,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var v=0,m=d.length,y=new Array(m);v<m;v++)y[v]=d[v].fn;return y},u.prototype.listenerCount=function(l){var h=n?n+l:l,d=this._events[h];return d?d.fn?1:d.length:0},u.prototype.emit=function(l,h,d,v,m,y){var x=n?n+l:l;if(!this._events[x])return!1;var b=this._events[x],w=arguments.length,S,A;if(b.fn){switch(b.once&&this.removeListener(l,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,d),!0;case 4:return b.fn.call(b.context,h,d,v),!0;case 5:return b.fn.call(b.context,h,d,v,m),!0;case 6:return b.fn.call(b.context,h,d,v,m,y),!0}for(A=1,S=new Array(w-1);A<w;A++)S[A-1]=arguments[A];b.fn.apply(b.context,S)}else{var O=b.length,E;for(A=0;A<O;A++)switch(b[A].once&&this.removeListener(l,b[A].fn,void 0,!0),w){case 1:b[A].fn.call(b[A].context);break;case 2:b[A].fn.call(b[A].context,h);break;case 3:b[A].fn.call(b[A].context,h,d);break;case 4:b[A].fn.call(b[A].context,h,d,v);break;default:if(!S)for(E=1,S=new Array(w-1);E<w;E++)S[E-1]=arguments[E];b[A].fn.apply(b[A].context,S)}}return!0},u.prototype.on=function(l,h,d){return i(this,l,h,d,!1)},u.prototype.once=function(l,h,d){return i(this,l,h,d,!0)},u.prototype.removeListener=function(l,h,d,v){var m=n?n+l:l;if(!this._events[m])return this;if(!h)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===h&&(!v||y.once)&&(!d||y.context===d)&&o(this,m);else{for(var x=0,b=[],w=y.length;x<w;x++)(y[x].fn!==h||v&&!y[x].once||d&&y[x].context!==d)&&b.push(y[x]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},u.prototype.removeAllListeners=function(l){var h;return l?(h=n?n+l:l,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}($w)),$w.exports}var Ooe=Aoe();const Toe=gt(Ooe);var Ww=new Toe,Hw="recharts.syncMouseEvents";function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function Coe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Roe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SU(r.key),r)}}function Doe(t,e,n){return e&&Roe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vw(t,e,n){return e=SU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SU(t){var e=Moe(t,"string");return ah(e)=="symbol"?e:e+""}function Moe(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Poe=function(){function t(){Coe(this,t),Vw(this,"activeIndex",0),Vw(this,"coordinateList",[]),Vw(this,"layout","horizontal")}return Doe(t,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,u=o===void 0?null:o,c=n.layout,l=c===void 0?null:c,h=n.offset,d=h===void 0?null:h,v=n.mouseHandlerCallback,m=v===void 0?null:v;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=l??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,u=a.height,c=this.coordinateList[this.activeIndex].coordinate,l=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=i+c+l,v=o+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:d,pageY:v})}}}])}();function Noe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],a=t==null?void 0:t[1];if(r&&a&&_e(r)&&_e(a))return!0}return!1}function koe(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function EU(t){var e=t.cx,n=t.cy,r=t.radius,a=t.startAngle,i=t.endAngle,o=Nt(e,n,r,a),u=Nt(e,n,r,i);return{points:[o,u],cx:e,cy:n,radius:r,startAngle:a,endAngle:i}}function Ioe(t,e,n){var r,a,i,o;if(t==="horizontal")r=e.x,i=r,a=n.top,o=n.top+n.height;else if(t==="vertical")a=e.y,o=a,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,l=e.innerRadius,h=e.outerRadius,d=e.angle,v=Nt(u,c,l,d),m=Nt(u,c,h,d);r=v.x,a=v.y,i=m.x,o=m.y}else return EU(e);return[{x:r,y:a},{x:i,y:o}]}function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function o4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(n),!0).forEach(function(r){Boe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Boe(t,e,n){return e=Loe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Loe(t){var e=joe(t,"string");return ih(e)=="symbol"?e:e+""}function joe(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Foe(t){var e,n,r=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,u=t.activePayload,c=t.offset,l=t.activeTooltipIndex,h=t.tooltipAxisBandSize,d=t.layout,v=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!i||!o||v!=="ScatterChart"&&a!=="axis")return null;var y,x=_2;if(v==="ScatterChart")y=o,x=bne;else if(v==="BarChart")y=koe(d,o,c,h),x=IE;else if(d==="radial"){var b=EU(o),w=b.cx,S=b.cy,A=b.radius,O=b.startAngle,E=b.endAngle;y={cx:w,cy:S,startAngle:O,endAngle:E,innerRadius:A,outerRadius:A},x=TF}else y={points:Ioe(d,o,c)},x=_2;var C=cp(cp(cp(cp({stroke:"#ccc",pointerEvents:"none"},c),y),We(m,!1)),{},{payload:u,payloadIndex:l,className:Ye("recharts-tooltip-cursor",m.className)});return Q.isValidElement(m)?Q.cloneElement(m,C):Q.createElement(x,C)}var Uoe=["item"],qoe=["children","className","width","height","style","compact","title","desc"];function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hs.apply(this,arguments)}function u4(t,e){return Woe(t)||$oe(t,e)||OU(t,e)||zoe()}function zoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $oe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(h){l=!0,a=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return u}}function Woe(t){if(Array.isArray(t))return t}function s4(t,e){if(t==null)return{};var n=Hoe(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Goe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TU(r.key),r)}}function Koe(t,e,n){return e&&Goe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xoe(t,e,n){return e=kv(e),Yoe(t,AU()?Reflect.construct(e,n||[],kv(t).constructor):e.apply(t,n))}function Yoe(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qoe(t)}function Qoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AU=function(){return!!t})()}function kv(t){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kv(t)}function Zoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eS(t,e)}function eS(t,e){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},eS(t,e)}function Cc(t){return tue(t)||eue(t)||OU(t)||Joe()}function Joe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OU(t,e){if(t){if(typeof t=="string")return tS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tS(t,e)}}function eue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tue(t){if(Array.isArray(t))return tS(t)}function tS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function he(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(n),!0).forEach(function(r){ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ze(t,e,n){return e=TU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TU(t){var e=nue(t,"string");return Tc(e)=="symbol"?e:e+""}function nue(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rue={xAxis:["bottom","top"],yAxis:["left","right"]},aue={width:"100%",height:"100%"},CU={x:0,y:0};function lp(t){return t}var iue=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},oue=function(e,n,r,a){var i=n.find(function(h){return h&&h.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,u=a.radius;return he(he(he({},a),Nt(a.cx,a.cy,u,o)),{},{angle:o,radius:u})}var c=i.coordinate,l=a.angle;return he(he(he({},a),Nt(a.cx,a.cy,c,l)),{},{angle:l,radius:c})}return CU},Jm=function(e,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(u,c){var l=c.props.data;return l&&l.length?[].concat(Cc(u),Cc(l)):u},[]);return o.length>0?o:e&&e.length&&_e(a)&&_e(i)?e.slice(a,i+1):[]};function RU(t){return t==="number"?[0,"auto"]:void 0}var nS=function(e,n,r,a){var i=e.graphicalItems,o=e.tooltipAxis,u=Jm(n,e);return r<0||!i||!i.length||r>=u.length?null:i.reduce(function(c,l){var h,d=(h=l.props.data)!==null&&h!==void 0?h:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(o.dataKey&&!o.allowDuplicatedCategory){var m=d===void 0?u:d;v=B_(m,o.dataKey,a)}else v=d&&d[r]||u[r];return v?[].concat(Cc(c),[wF(l,v)]):c},[])},l4=function(e,n,r,a){var i=a||{x:e.chartX,y:e.chartY},o=iue(i,r),u=e.orderedTooltipTicks,c=e.tooltipAxis,l=e.tooltipTicks,h=WZ(o,u,l,c);if(h>=0&&l){var d=l[h]&&l[h].value,v=nS(e,n,h,d),m=oue(r,u,h,i);return{activeTooltipIndex:h,activeLabel:d,activePayload:v,activeCoordinate:m}}return null},uue=function(e,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,l=n.dataEndIndex,h=e.layout,d=e.children,v=e.stackOffset,m=vF(h,i);return r.reduce(function(y,x){var b,w=x.type.defaultProps!==void 0?he(he({},x.type.defaultProps),x.props):x.props,S=w.type,A=w.dataKey,O=w.allowDataOverflow,E=w.allowDuplicatedCategory,C=w.scale,R=w.ticks,D=w.includeHidden,M=w[o];if(y[M])return y;var N=Jm(e.data,{graphicalItems:a.filter(function(J){var ne,ve=o in J.props?J.props[o]:(ne=J.type.defaultProps)===null||ne===void 0?void 0:ne[o];return ve===M}),dataStartIndex:c,dataEndIndex:l}),k=N.length,I,q,W;Noe(w.domain,O,S)&&(I=g2(w.domain,null,O),m&&(S==="number"||C!=="auto")&&(W=vf(N,A,"category")));var $=RU(S);if(!I||I.length===0){var j,U=(j=w.domain)!==null&&j!==void 0?j:$;if(A){if(I=vf(N,A,S),S==="category"&&m){var H=FV(I);E&&H?(q=I,I=_v(0,k)):E||(I=dI(U,I,x).reduce(function(J,ne){return J.indexOf(ne)>=0?J:[].concat(Cc(J),[ne])},[]))}else if(S==="category")E?I=I.filter(function(J){return J!==""&&!ut(J)}):I=dI(U,I,x).reduce(function(J,ne){return J.indexOf(ne)>=0||ne===""||ut(ne)?J:[].concat(Cc(J),[ne])},[]);else if(S==="number"){var Y=XZ(N,a.filter(function(J){var ne,ve,we=o in J.props?J.props[o]:(ne=J.type.defaultProps)===null||ne===void 0?void 0:ne[o],xe="hide"in J.props?J.props.hide:(ve=J.type.defaultProps)===null||ve===void 0?void 0:ve.hide;return we===M&&(D||!xe)}),A,i,h);Y&&(I=Y)}m&&(S==="number"||C!=="auto")&&(W=vf(N,A,"category"))}else m?I=_v(0,k):u&&u[M]&&u[M].hasStack&&S==="number"?I=v==="expand"?[0,1]:xF(u[M].stackGroups,c,l):I=pF(N,a.filter(function(J){var ne=o in J.props?J.props[o]:J.type.defaultProps[o],ve="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return ne===M&&(D||!ve)}),S,h,!0);if(S==="number")I=J2(d,I,M,i,R),U&&(I=g2(U,I,O));else if(S==="category"&&U){var B=U,K=I.every(function(J){return B.indexOf(J)>=0});K&&(I=B)}}return he(he({},y),{},ze({},M,he(he({},w),{},{axisType:i,domain:I,categoricalDomain:W,duplicateDomain:q,originalDomain:(b=w.domain)!==null&&b!==void 0?b:$,isCategorical:m,layout:h})))},{})},sue=function(e,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,l=n.dataEndIndex,h=e.layout,d=e.children,v=Jm(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:l}),m=v.length,y=vF(h,i),x=-1;return r.reduce(function(b,w){var S=w.type.defaultProps!==void 0?he(he({},w.type.defaultProps),w.props):w.props,A=S[o],O=RU("number");if(!b[A]){x++;var E;return y?E=_v(0,m):u&&u[A]&&u[A].hasStack?(E=xF(u[A].stackGroups,c,l),E=J2(d,E,A,i)):(E=g2(O,pF(v,r.filter(function(C){var R,D,M=o in C.props?C.props[o]:(R=C.type.defaultProps)===null||R===void 0?void 0:R[o],N="hide"in C.props?C.props.hide:(D=C.type.defaultProps)===null||D===void 0?void 0:D.hide;return M===A&&!N}),"number",h),a.defaultProps.allowDataOverflow),E=J2(d,E,A,i)),he(he({},b),{},ze({},A,he(he({axisType:i},a.defaultProps),{},{hide:!0,orientation:jr(rue,"".concat(i,".").concat(x%2),null),domain:E,originalDomain:O,isCategorical:y,layout:h})))}return b},{})},cue=function(e,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,u=n.stackGroups,c=n.dataStartIndex,l=n.dataEndIndex,h=e.children,d="".concat(a,"Id"),v=aa(h,i),m={};return v&&v.length?m=uue(e,{axes:v,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:u,dataStartIndex:c,dataEndIndex:l}):o&&o.length&&(m=sue(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:u,dataStartIndex:c,dataEndIndex:l})),m},lue=function(e){var n=go(e),r=Ei(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:sE(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:lv(n,r)}},f4=function(e){var n=e.children,r=e.defaultShowTooltip,a=Dr(n,bc),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},fue=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ai(n&&n.type);return r&&r.indexOf("Bar")>=0})},h4=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},hue=function(e,n){var r=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,u=e.yAxisMap,c=u===void 0?{}:u,l=r.width,h=r.height,d=r.children,v=r.margin||{},m=Dr(d,bc),y=Dr(d,Eo),x=Object.keys(c).reduce(function(E,C){var R=c[C],D=R.orientation;return!R.mirror&&!R.hide?he(he({},E),{},ze({},D,E[D]+R.width)):E},{left:v.left||0,right:v.right||0}),b=Object.keys(o).reduce(function(E,C){var R=o[C],D=R.orientation;return!R.mirror&&!R.hide?he(he({},E),{},ze({},D,jr(E,"".concat(D))+R.height)):E},{top:v.top||0,bottom:v.bottom||0}),w=he(he({},b),x),S=w.bottom;m&&(w.bottom+=m.props.height||bc.defaultProps.height),y&&n&&(w=GZ(w,a,r,n));var A=l-w.left-w.right,O=h-w.top-w.bottom;return he(he({brushBottom:S},w),{},{width:Math.max(A,0),height:Math.max(O,0)})},due=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},DU=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,c=e.axisComponents,l=e.legendContent,h=e.formatAxisMap,d=e.defaultProps,v=function(w,S){var A=S.graphicalItems,O=S.stackGroups,E=S.offset,C=S.updateId,R=S.dataStartIndex,D=S.dataEndIndex,M=w.barSize,N=w.layout,k=w.barGap,I=w.barCategoryGap,q=w.maxBarSize,W=h4(N),$=W.numericAxisName,j=W.cateAxisName,U=fue(A),H=[];return A.forEach(function(Y,B){var K=Jm(w.data,{graphicalItems:[Y],dataStartIndex:R,dataEndIndex:D}),J=Y.type.defaultProps!==void 0?he(he({},Y.type.defaultProps),Y.props):Y.props,ne=J.dataKey,ve=J.maxBarSize,we=J["".concat($,"Id")],xe=J["".concat(j,"Id")],Fe={},Ae=c.reduce(function(Wt,wn){var qn=S["".concat(wn.axisType,"Map")],sa=J["".concat(wn.axisType,"Id")];qn&&qn[sa]||wn.axisType==="zAxis"||Ru();var sr=qn[sa];return he(he({},Wt),{},ze(ze({},wn.axisType,sr),"".concat(wn.axisType,"Ticks"),Ei(sr)))},Fe),ge=Ae[j],Te=Ae["".concat(j,"Ticks")],Se=O&&O[we]&&O[we].hasStack&&aJ(Y,O[we].stackGroups),le=Ai(Y.type).indexOf("Bar")>=0,Le=lv(ge,Te),Ie=[],Ge=U&&HZ({barSize:M,stackGroups:O,totalSize:due(Ae,j)});if(le){var Ke,ct,Xt=ut(ve)?q:ve,Ft=(Ke=(ct=lv(ge,Te,!0))!==null&&ct!==void 0?ct:Xt)!==null&&Ke!==void 0?Ke:0;Ie=VZ({barGap:k,barCategoryGap:I,bandSize:Ft!==Le?Ft:Le,sizeList:Ge[xe],maxBarSize:Xt}),Ft!==Le&&(Ie=Ie.map(function(Wt){return he(he({},Wt),{},{position:he(he({},Wt.position),{},{offset:Wt.position.offset-Ft/2})})}))}var ur=Y&&Y.type&&Y.type.getComposedData;ur&&H.push({props:he(he({},ur(he(he({},Ae),{},{displayedData:K,props:w,dataKey:ne,item:Y,bandSize:Le,barPosition:Ie,offset:E,stackedData:Se,layout:N,dataStartIndex:R,dataEndIndex:D}))),{},ze(ze(ze({key:Y.key||"item-".concat(B)},$,Ae[$]),j,Ae[j]),"animationId",C)),childIndex:YV(Y,w.children),item:Y})}),H},m=function(w,S){var A=w.props,O=w.dataStartIndex,E=w.dataEndIndex,C=w.updateId;if(!CM({props:A}))return null;var R=A.children,D=A.layout,M=A.stackOffset,N=A.data,k=A.reverseStackOrder,I=h4(D),q=I.numericAxisName,W=I.cateAxisName,$=aa(R,r),j=nJ(N,$,"".concat(q,"Id"),"".concat(W,"Id"),M,k),U=c.reduce(function(J,ne){var ve="".concat(ne.axisType,"Map");return he(he({},J),{},ze({},ve,cue(A,he(he({},ne),{},{graphicalItems:$,stackGroups:ne.axisType===q&&j,dataStartIndex:O,dataEndIndex:E}))))},{}),H=hue(he(he({},U),{},{props:A,graphicalItems:$}),S==null?void 0:S.legendBBox);Object.keys(U).forEach(function(J){U[J]=h(A,U[J],H,J.replace("Map",""),n)});var Y=U["".concat(W,"Map")],B=lue(Y),K=v(A,he(he({},U),{},{dataStartIndex:O,dataEndIndex:E,updateId:C,graphicalItems:$,stackGroups:j,offset:H}));return he(he({formattedGraphicalItems:K,graphicalItems:$,offset:H,stackGroups:j},B),U)},y=function(b){function w(S){var A,O,E;return Voe(this,w),E=Xoe(this,w,[S]),ze(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(E,"accessibilityManager",new Poe),ze(E,"handleLegendBBoxUpdate",function(C){if(C){var R=E.state,D=R.dataStartIndex,M=R.dataEndIndex,N=R.updateId;E.setState(he({legendBBox:C},m({props:E.props,dataStartIndex:D,dataEndIndex:M,updateId:N},he(he({},E.state),{},{legendBBox:C}))))}}),ze(E,"handleReceiveSyncEvent",function(C,R,D){if(E.props.syncId===C){if(D===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(R)}}),ze(E,"handleBrushChange",function(C){var R=C.startIndex,D=C.endIndex;if(R!==E.state.dataStartIndex||D!==E.state.dataEndIndex){var M=E.state.updateId;E.setState(function(){return he({dataStartIndex:R,dataEndIndex:D},m({props:E.props,dataStartIndex:R,dataEndIndex:D,updateId:M},E.state))}),E.triggerSyncEvent({dataStartIndex:R,dataEndIndex:D})}}),ze(E,"handleMouseEnter",function(C){var R=E.getMouseInfo(C);if(R){var D=he(he({},R),{},{isTooltipActive:!0});E.setState(D),E.triggerSyncEvent(D);var M=E.props.onMouseEnter;Ve(M)&&M(D,C)}}),ze(E,"triggeredAfterMouseMove",function(C){var R=E.getMouseInfo(C),D=R?he(he({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(D),E.triggerSyncEvent(D);var M=E.props.onMouseMove;Ve(M)&&M(D,C)}),ze(E,"handleItemMouseEnter",function(C){E.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),ze(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ze(E,"handleMouseMove",function(C){C.persist(),E.throttleTriggeredAfterMouseMove(C)}),ze(E,"handleMouseLeave",function(C){E.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};E.setState(R),E.triggerSyncEvent(R);var D=E.props.onMouseLeave;Ve(D)&&D(R,C)}),ze(E,"handleOuterEvent",function(C){var R=XV(C),D=jr(E.props,"".concat(R));if(R&&Ve(D)){var M,N;/.*touch.*/i.test(R)?N=E.getMouseInfo(C.changedTouches[0]):N=E.getMouseInfo(C),D((M=N)!==null&&M!==void 0?M:{},C)}}),ze(E,"handleClick",function(C){var R=E.getMouseInfo(C);if(R){var D=he(he({},R),{},{isTooltipActive:!0});E.setState(D),E.triggerSyncEvent(D);var M=E.props.onClick;Ve(M)&&M(D,C)}}),ze(E,"handleMouseDown",function(C){var R=E.props.onMouseDown;if(Ve(R)){var D=E.getMouseInfo(C);R(D,C)}}),ze(E,"handleMouseUp",function(C){var R=E.props.onMouseUp;if(Ve(R)){var D=E.getMouseInfo(C);R(D,C)}}),ze(E,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),ze(E,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseDown(C.changedTouches[0])}),ze(E,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseUp(C.changedTouches[0])}),ze(E,"handleDoubleClick",function(C){var R=E.props.onDoubleClick;if(Ve(R)){var D=E.getMouseInfo(C);R(D,C)}}),ze(E,"handleContextMenu",function(C){var R=E.props.onContextMenu;if(Ve(R)){var D=E.getMouseInfo(C);R(D,C)}}),ze(E,"triggerSyncEvent",function(C){E.props.syncId!==void 0&&Ww.emit(Hw,E.props.syncId,C,E.eventEmitterSymbol)}),ze(E,"applySyncEvent",function(C){var R=E.props,D=R.layout,M=R.syncMethod,N=E.state.updateId,k=C.dataStartIndex,I=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)E.setState(he({dataStartIndex:k,dataEndIndex:I},m({props:E.props,dataStartIndex:k,dataEndIndex:I,updateId:N},E.state)));else if(C.activeTooltipIndex!==void 0){var q=C.chartX,W=C.chartY,$=C.activeTooltipIndex,j=E.state,U=j.offset,H=j.tooltipTicks;if(!U)return;if(typeof M=="function")$=M(H,C);else if(M==="value"){$=-1;for(var Y=0;Y<H.length;Y++)if(H[Y].value===C.activeLabel){$=Y;break}}var B=he(he({},U),{},{x:U.left,y:U.top}),K=Math.min(q,B.x+B.width),J=Math.min(W,B.y+B.height),ne=H[$]&&H[$].value,ve=nS(E.state,E.props.data,$),we=H[$]?{x:D==="horizontal"?H[$].coordinate:K,y:D==="horizontal"?J:H[$].coordinate}:CU;E.setState(he(he({},C),{},{activeLabel:ne,activeCoordinate:we,activePayload:ve,activeTooltipIndex:$}))}else E.setState(C)}),ze(E,"renderCursor",function(C){var R,D=E.state,M=D.isTooltipActive,N=D.activeCoordinate,k=D.activePayload,I=D.offset,q=D.activeTooltipIndex,W=D.tooltipAxisBandSize,$=E.getTooltipEventType(),j=(R=C.props.active)!==null&&R!==void 0?R:M,U=E.props.layout,H=C.key||"_recharts-cursor";return V.createElement(Foe,{key:H,activeCoordinate:N,activePayload:k,activeTooltipIndex:q,chartName:n,element:C,isActive:j,layout:U,offset:I,tooltipAxisBandSize:W,tooltipEventType:$})}),ze(E,"renderPolarAxis",function(C,R,D){var M=jr(C,"type.axisType"),N=jr(E.state,"".concat(M,"Map")),k=C.type.defaultProps,I=k!==void 0?he(he({},k),C.props):C.props,q=N&&N[I["".concat(M,"Id")]];return Q.cloneElement(C,he(he({},q),{},{className:Ye(M,q.className),key:C.key||"".concat(R,"-").concat(D),ticks:Ei(q,!0)}))}),ze(E,"renderPolarGrid",function(C){var R=C.props,D=R.radialLines,M=R.polarAngles,N=R.polarRadius,k=E.state,I=k.radiusAxisMap,q=k.angleAxisMap,W=go(I),$=go(q),j=$.cx,U=$.cy,H=$.innerRadius,Y=$.outerRadius;return Q.cloneElement(C,{polarAngles:Array.isArray(M)?M:Ei($,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(N)?N:Ei(W,!0).map(function(B){return B.coordinate}),cx:j,cy:U,innerRadius:H,outerRadius:Y,key:C.key||"polar-grid",radialLines:D})}),ze(E,"renderLegend",function(){var C=E.state.formattedGraphicalItems,R=E.props,D=R.children,M=R.width,N=R.height,k=E.props.margin||{},I=M-(k.left||0)-(k.right||0),q=hF({children:D,formattedGraphicalItems:C,legendWidth:I,legendContent:l});if(!q)return null;var W=q.item,$=s4(q,Uoe);return Q.cloneElement(W,he(he({},$),{},{chartWidth:M,chartHeight:N,margin:k,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ze(E,"renderTooltip",function(){var C,R=E.props,D=R.children,M=R.accessibilityLayer,N=Dr(D,Qr);if(!N)return null;var k=E.state,I=k.isTooltipActive,q=k.activeCoordinate,W=k.activePayload,$=k.activeLabel,j=k.offset,U=(C=N.props.active)!==null&&C!==void 0?C:I;return Q.cloneElement(N,{viewBox:he(he({},j),{},{x:j.left,y:j.top}),active:U,label:$,payload:U?W:[],coordinate:q,accessibilityLayer:M})}),ze(E,"renderBrush",function(C){var R=E.props,D=R.margin,M=R.data,N=E.state,k=N.offset,I=N.dataStartIndex,q=N.dataEndIndex,W=N.updateId;return Q.cloneElement(C,{key:C.key||"_recharts-brush",onChange:ip(E.handleBrushChange,C.props.onChange),data:M,x:_e(C.props.x)?C.props.x:k.left,y:_e(C.props.y)?C.props.y:k.top+k.height+k.brushBottom-(D.bottom||0),width:_e(C.props.width)?C.props.width:k.width,startIndex:I,endIndex:q,updateId:"brush-".concat(W)})}),ze(E,"renderReferenceElement",function(C,R,D){if(!C)return null;var M=E,N=M.clipPathId,k=E.state,I=k.xAxisMap,q=k.yAxisMap,W=k.offset,$=C.type.defaultProps||{},j=C.props,U=j.xAxisId,H=U===void 0?$.xAxisId:U,Y=j.yAxisId,B=Y===void 0?$.yAxisId:Y;return Q.cloneElement(C,{key:C.key||"".concat(R,"-").concat(D),xAxis:I[H],yAxis:q[B],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:N})}),ze(E,"renderActivePoints",function(C){var R=C.item,D=C.activePoint,M=C.basePoint,N=C.childIndex,k=C.isRange,I=[],q=R.props.key,W=R.item.type.defaultProps!==void 0?he(he({},R.item.type.defaultProps),R.item.props):R.item.props,$=W.activeDot,j=W.dataKey,U=he(he({index:N,dataKey:j,cx:D.x,cy:D.y,r:4,fill:kE(R.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},We($,!1)),Up($));return I.push(w.renderActiveDot($,U,"".concat(q,"-activePoint-").concat(N))),M?I.push(w.renderActiveDot($,he(he({},U),{},{cx:M.x,cy:M.y}),"".concat(q,"-basePoint-").concat(N))):k&&I.push(null),I}),ze(E,"renderGraphicChild",function(C,R,D){var M=E.filterFormatItem(C,R,D);if(!M)return null;var N=E.getTooltipEventType(),k=E.state,I=k.isTooltipActive,q=k.tooltipAxis,W=k.activeTooltipIndex,$=k.activeLabel,j=E.props.children,U=Dr(j,Qr),H=M.props,Y=H.points,B=H.isRange,K=H.baseLine,J=M.item.type.defaultProps!==void 0?he(he({},M.item.type.defaultProps),M.item.props):M.item.props,ne=J.activeDot,ve=J.hide,we=J.activeBar,xe=J.activeShape,Fe=!!(!ve&&I&&U&&(ne||we||xe)),Ae={};N!=="axis"&&U&&U.props.trigger==="click"?Ae={onClick:ip(E.handleItemMouseEnter,C.props.onClick)}:N!=="axis"&&(Ae={onMouseLeave:ip(E.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:ip(E.handleItemMouseEnter,C.props.onMouseEnter)});var ge=Q.cloneElement(C,he(he({},M.props),Ae));function Te(wn){return typeof q.dataKey=="function"?q.dataKey(wn.payload):null}if(Fe)if(W>=0){var Se,le;if(q.dataKey&&!q.allowDuplicatedCategory){var Le=typeof q.dataKey=="function"?Te:"payload.".concat(q.dataKey.toString());Se=B_(Y,Le,$),le=B&&K&&B_(K,Le,$)}else Se=Y==null?void 0:Y[W],le=B&&K&&K[W];if(xe||we){var Ie=C.props.activeIndex!==void 0?C.props.activeIndex:W;return[Q.cloneElement(C,he(he(he({},M.props),Ae),{},{activeIndex:Ie})),null,null]}if(!ut(Se))return[ge].concat(Cc(E.renderActivePoints({item:M,activePoint:Se,basePoint:le,childIndex:W,isRange:B})))}else{var Ge,Ke=(Ge=E.getItemByXY(E.state.activeCoordinate))!==null&&Ge!==void 0?Ge:{graphicalItem:ge},ct=Ke.graphicalItem,Xt=ct.item,Ft=Xt===void 0?C:Xt,ur=ct.childIndex,Wt=he(he(he({},M.props),Ae),{},{activeIndex:ur});return[Q.cloneElement(Ft,Wt),null,null]}return B?[ge,null,null]:[ge,null]}),ze(E,"renderCustomized",function(C,R,D){return Q.cloneElement(C,he(he({key:"recharts-customized-".concat(D)},E.props),E.state))}),ze(E,"renderMap",{CartesianGrid:{handler:lp,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:lp},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:lp},YAxis:{handler:lp},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((A=S.id)!==null&&A!==void 0?A:xh("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=fj(E.triggeredAfterMouseMove,(O=S.throttleDelay)!==null&&O!==void 0?O:1e3/60),E.state={},E}return Zoe(w,b),Koe(w,[{key:"componentDidMount",value:function(){var A,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,O=A.children,E=A.data,C=A.height,R=A.layout,D=Dr(O,Qr);if(D){var M=D.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,k=nS(this.state,E,M,N),I=this.state.tooltipTicks[M].coordinate,q=(this.state.offset.top+C)/2,W=R==="horizontal",$=W?{x:I,y:q}:{y:I,x:q},j=this.state.formattedGraphicalItems.find(function(H){var Y=H.item;return Y.type.name==="Scatter"});j&&($=he(he({},$),j.props.points[M].tooltipPosition),k=j.props.points[M].tooltipPayload);var U={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:N,activePayload:k,activeCoordinate:$};this.setState(U),this.renderCursor(D),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var E,C;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(A){j_([Dr(A.children,Qr)],[Dr(this.props.children,Qr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=Dr(this.props.children,Qr);if(A&&typeof A.props.shared=="boolean"){var O=A.props.shared?"axis":"item";return u.indexOf(O)>=0?O:i}return i}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var O=this.container,E=O.getBoundingClientRect(),C=BK(E),R={chartX:Math.round(A.pageX-C.left),chartY:Math.round(A.pageY-C.top)},D=E.width/O.offsetWidth||1,M=this.inRange(R.chartX,R.chartY,D);if(!M)return null;var N=this.state,k=N.xAxisMap,I=N.yAxisMap,q=this.getTooltipEventType(),W=l4(this.state,this.props.data,this.props.layout,M);if(q!=="axis"&&k&&I){var $=go(k).scale,j=go(I).scale,U=$&&$.invert?$.invert(R.chartX):null,H=j&&j.invert?j.invert(R.chartY):null;return he(he({},R),{},{xValue:U,yValue:H},W)}return W?he(he({},R),W):null}},{key:"inRange",value:function(A,O){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,R=A/E,D=O/E;if(C==="horizontal"||C==="vertical"){var M=this.state.offset,N=R>=M.left&&R<=M.left+M.width&&D>=M.top&&D<=M.top+M.height;return N?{x:R,y:D}:null}var k=this.state,I=k.angleAxisMap,q=k.radiusAxisMap;if(I&&q){var W=go(I);return mI({x:R,y:D},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,O=this.getTooltipEventType(),E=Dr(A,Qr),C={};E&&O==="axis"&&(E.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=Up(this.props,this.handleOuterEvent);return he(he({},R),C)}},{key:"addListener",value:function(){Ww.on(Hw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ww.removeListener(Hw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,O,E){for(var C=this.state.formattedGraphicalItems,R=0,D=C.length;R<D;R++){var M=C[R];if(M.item===A||M.props.key===A.key||O===Ai(M.item.type)&&E===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,O=this.state.offset,E=O.left,C=O.top,R=O.height,D=O.width;return V.createElement("defs",null,V.createElement("clipPath",{id:A},V.createElement("rect",{x:E,y:C,height:R,width:D})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(O,E){var C=u4(E,2),R=C[0],D=C[1];return he(he({},O),{},ze({},R,D.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(O,E){var C=u4(E,2),R=C[0],D=C[1];return he(he({},O),{},ze({},R,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[A])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(A){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[A])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(A){var O=this.state,E=O.formattedGraphicalItems,C=O.activeItem;if(E&&E.length)for(var R=0,D=E.length;R<D;R++){var M=E[R],N=M.props,k=M.item,I=k.type.defaultProps!==void 0?he(he({},k.type.defaultProps),k.props):k.props,q=Ai(k.type);if(q==="Bar"){var W=(N.data||[]).find(function(H){return Jte(A,H)});if(W)return{graphicalItem:M,payload:W}}else if(q==="RadialBar"){var $=(N.data||[]).find(function(H){return mI(A,H)});if($)return{graphicalItem:M,payload:$}}else if(Wm(M,C)||Hm(M,C)||Jf(M,C)){var j=Sre({graphicalItem:M,activeTooltipItem:C,itemData:I.data}),U=I.activeIndex===void 0?j:I.activeIndex;return{graphicalItem:he(he({},M),{},{childIndex:U}),payload:Jf(M,C)?I.data[j]:M.props.data[j]}}}return null}},{key:"render",value:function(){var A=this;if(!CM(this))return null;var O=this.props,E=O.children,C=O.className,R=O.width,D=O.height,M=O.style,N=O.compact,k=O.title,I=O.desc,q=s4(O,qoe),W=We(q,!1);if(N)return V.createElement(H3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(U_,Hs({},W,{width:R,height:D,title:k,desc:I}),this.renderClipPath(),DM(E,this.renderMap)));if(this.props.accessibilityLayer){var $,j;W.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,W.role=(j=this.props.role)!==null&&j!==void 0?j:"application",W.onKeyDown=function(H){A.accessibilityManager.keyboardEvent(H)},W.onFocus=function(){A.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return V.createElement(H3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Hs({className:Ye("recharts-wrapper",C),style:he({position:"relative",cursor:"default",width:R,height:D},M)},U,{ref:function(Y){A.container=Y}}),V.createElement(U_,Hs({},W,{width:R,height:D,title:k,desc:I,style:aue}),this.renderClipPath(),DM(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(Q.Component);ze(y,"displayName",n),ze(y,"defaultProps",he({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ze(y,"getDerivedStateFromProps",function(b,w){var S=b.dataKey,A=b.data,O=b.children,E=b.width,C=b.height,R=b.layout,D=b.stackOffset,M=b.margin,N=w.dataStartIndex,k=w.dataEndIndex;if(w.updateId===void 0){var I=f4(b);return he(he(he({},I),{},{updateId:0},m(he(he({props:b},I),{},{updateId:0}),w)),{},{prevDataKey:S,prevData:A,prevWidth:E,prevHeight:C,prevLayout:R,prevStackOffset:D,prevMargin:M,prevChildren:O})}if(S!==w.prevDataKey||A!==w.prevData||E!==w.prevWidth||C!==w.prevHeight||R!==w.prevLayout||D!==w.prevStackOffset||!Gs(M,w.prevMargin)){var q=f4(b),W={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},$=he(he({},l4(w,A,R)),{},{updateId:w.updateId+1}),j=he(he(he({},q),W),$);return he(he(he({},j),m(he({props:b},j),w)),{},{prevDataKey:S,prevData:A,prevWidth:E,prevHeight:C,prevLayout:R,prevStackOffset:D,prevMargin:M,prevChildren:O})}if(!j_(O,w.prevChildren)){var U,H,Y,B,K=Dr(O,bc),J=K&&(U=(H=K.props)===null||H===void 0?void 0:H.startIndex)!==null&&U!==void 0?U:N,ne=K&&(Y=(B=K.props)===null||B===void 0?void 0:B.endIndex)!==null&&Y!==void 0?Y:k,ve=J!==N||ne!==k,we=!ut(A),xe=we&&!ve?w.updateId:w.updateId+1;return he(he({updateId:xe},m(he(he({props:b},w),{},{updateId:xe,dataStartIndex:J,dataEndIndex:ne}),w)),{},{prevChildren:O,dataStartIndex:J,dataEndIndex:ne})}return null}),ze(y,"renderActiveDot",function(b,w,S){var A;return Q.isValidElement(b)?A=Q.cloneElement(b,w):Ve(b)?A=b(w):A=V.createElement(BE,w),V.createElement(St,{className:"recharts-active-dot",key:S},A)});var x=Q.forwardRef(function(w,S){return V.createElement(y,Hs({},w,{ref:S}))});return x.displayName=y.displayName,x},pue=DU({chartName:"BarChart",GraphicalChild:ju,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Qm},{axisType:"yAxis",AxisComp:Zm}],formatAxisMap:Oae}),d4=DU({chartName:"PieChart",GraphicalChild:Ga,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:$m},{axisType:"radiusAxis",AxisComp:qm}],formatAxisMap:pJ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function vue(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}vue(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Oh=t=>typeof t=="number"&&!isNaN(t),Mu=t=>typeof t=="string",Mi=t=>typeof t=="function",mue=t=>Mu(t)||Oh(t),rS=t=>Mu(t)||Mi(t)?t:null,gue=(t,e)=>t===!1||Oh(t)&&t>0?t:e,aS=t=>Q.isValidElement(t)||Mu(t)||Mi(t)||Oh(t);function yue(t,e,n=300){let{scrollHeight:r,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function bue({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:a=300}){return function({children:i,position:o,preventExitTransition:u,done:c,nodeRef:l,isIn:h,playToast:d}){let v=n?`${t}--${o}`:t,m=n?`${e}--${o}`:e,y=Q.useRef(0);return Q.useLayoutEffect(()=>{let x=l.current,b=v.split(" "),w=S=>{S.target===l.current&&(d(),x.removeEventListener("animationend",w),x.removeEventListener("animationcancel",w),y.current===0&&S.type!=="animationcancel"&&x.classList.remove(...b))};x.classList.add(...b),x.addEventListener("animationend",w),x.addEventListener("animationcancel",w)},[]),Q.useEffect(()=>{let x=l.current,b=()=>{x.removeEventListener("animationend",b),r?yue(x,c,a):c()};h||(u?b():(y.current=1,x.className+=` ${m}`,x.addEventListener("animationend",b)))},[h]),V.createElement(V.Fragment,null,i)}}function p4(t,e){return{content:MU(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function MU(t,e,n=!1){return Q.isValidElement(t)&&!Mu(t.type)?Q.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Mi(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function xue({closeToast:t,theme:e,ariaLabel:n="close"}){return V.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},V.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},V.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function wue({delay:t,isRunning:e,closeToast:n,type:r="default",hide:a,className:i,controlledProgress:o,progress:u,rtl:c,isIn:l,theme:h}){let d=a||o&&u===0,v={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(v.transform=`scaleX(${u})`);let m=Ye("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),y=Mi(i)?i({rtl:c,type:r,defaultClassName:m}):Ye(m,i),x={[o&&u>=1?"onTransitionEnd":"onAnimationEnd"]:o&&u<1?null:()=>{l&&n()}};return V.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":d},V.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${r}`}),V.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:y,style:v,...x}))}var _ue=1,PU=()=>`${_ue++}`;function Sue(t,e,n){let r=1,a=0,i=[],o=[],u=e,c=new Map,l=new Set,h=S=>(l.add(S),()=>l.delete(S)),d=()=>{o=Array.from(c.values()),l.forEach(S=>S())},v=({containerId:S,toastId:A,updateId:O})=>{let E=S?S!==t:t!==1,C=c.has(A)&&O==null;return E||C},m=(S,A)=>{c.forEach(O=>{var E;(A==null||A===O.props.toastId)&&((E=O.toggle)==null||E.call(O,S))})},y=S=>{var A,O;(O=(A=S.props)==null?void 0:A.onClose)==null||O.call(A,S.removalReason),S.isActive=!1},x=S=>{if(S==null)c.forEach(y);else{let A=c.get(S);A&&y(A)}d()},b=()=>{a-=i.length,i=[]},w=S=>{var A,O;let{toastId:E,updateId:C}=S.props,R=C==null;S.staleId&&c.delete(S.staleId),S.isActive=!0,c.set(E,S),d(),n(p4(S,R?"added":"updated")),R&&((O=(A=S.props).onOpen)==null||O.call(A))};return{id:t,props:u,observe:h,toggle:m,removeToast:x,toasts:c,clearQueue:b,buildToast:(S,A)=>{if(v(A))return;let{toastId:O,updateId:E,data:C,staleId:R,delay:D}=A,M=E==null;M&&a++;let N={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(A).filter(([I,q])=>q!=null)),toastId:O,updateId:E,data:C,isIn:!1,className:rS(A.className||u.toastClassName),progressClassName:rS(A.progressClassName||u.progressClassName),autoClose:A.isLoading?!1:gue(A.autoClose,u.autoClose),closeToast(I){c.get(O).removalReason=I,x(O)},deleteToast(){let I=c.get(O);if(I!=null){if(n(p4(I,"removed")),c.delete(O),a--,a<0&&(a=0),i.length>0){w(i.shift());return}d()}}};N.closeButton=u.closeButton,A.closeButton===!1||aS(A.closeButton)?N.closeButton=A.closeButton:A.closeButton===!0&&(N.closeButton=aS(u.closeButton)?u.closeButton:!0);let k={content:S,props:N,staleId:R};u.limit&&u.limit>0&&a>u.limit&&M?i.push(k):Oh(D)?setTimeout(()=>{w(k)},D):w(k)},setProps(S){u=S},setToggle:(S,A)=>{let O=c.get(S);O&&(O.toggle=A)},isToastActive:S=>{var A;return(A=c.get(S))==null?void 0:A.isActive},getSnapshot:()=>o}}var ir=new Map,oh=[],iS=new Set,Eue=t=>iS.forEach(e=>e(t)),NU=()=>ir.size>0;function Aue(){oh.forEach(t=>IU(t.content,t.options)),oh=[]}var Oue=(t,{containerId:e})=>{var n;return(n=ir.get(e||1))==null?void 0:n.toasts.get(t)};function kU(t,e){var n;if(e)return!!((n=ir.get(e))!=null&&n.isToastActive(t));let r=!1;return ir.forEach(a=>{a.isToastActive(t)&&(r=!0)}),r}function Tue(t){if(!NU()){oh=oh.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||mue(t))ir.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=ir.get(t.containerId);e?e.removeToast(t.id):ir.forEach(n=>{n.removeToast(t.id)})}}var Cue=(t={})=>{ir.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function IU(t,e){aS(t)&&(NU()||oh.push({content:t,options:e}),ir.forEach(n=>{n.buildToast(t,e)}))}function Rue(t){var e;(e=ir.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function BU(t,e){ir.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function Due(t){let e=t.containerId||1;return{subscribe(n){let r=Sue(e,t,Eue);ir.set(e,r);let a=r.observe(n);return Aue(),()=>{a(),ir.delete(e)}},setProps(n){var r;(r=ir.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=ir.get(e))==null?void 0:n.getSnapshot()}}}function Mue(t){return iS.add(t),()=>{iS.delete(t)}}function Pue(t){return t&&(Mu(t.toastId)||Oh(t.toastId))?t.toastId:PU()}function Th(t,e){return IU(t,e),e.toastId}function eg(t,e){return{...e,type:e&&e.type||t,toastId:Pue(e)}}function tg(t){return(e,n)=>Th(e,eg(t,n))}function Xe(t,e){return Th(t,eg("default",e))}Xe.loading=(t,e)=>Th(t,eg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Nue(t,{pending:e,error:n,success:r},a){let i;e&&(i=Mu(e)?Xe.loading(e,a):Xe.loading(e.render,{...a,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(l,h,d)=>{if(h==null){Xe.dismiss(i);return}let v={type:l,...o,...a,data:d},m=Mu(h)?{render:h}:h;return i?Xe.update(i,{...v,...m}):Xe(m.render,{...v,...m}),d},c=Mi(t)?t():t;return c.then(l=>u("success",r,l)).catch(l=>u("error",n,l)),c}Xe.promise=Nue;Xe.success=tg("success");Xe.info=tg("info");Xe.error=tg("error");Xe.warning=tg("warning");Xe.warn=Xe.warning;Xe.dark=(t,e)=>Th(t,eg("default",{theme:"dark",...e}));function kue(t){Tue(t)}Xe.dismiss=kue;Xe.clearWaitingQueue=Cue;Xe.isActive=kU;Xe.update=(t,e={})=>{let n=Oue(t,e);if(n){let{props:r,content:a}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:PU()};i.toastId!==t&&(i.staleId=t);let o=i.render||a;delete i.render,Th(o,i)}};Xe.done=t=>{Xe.update(t,{progress:1})};Xe.onChange=Mue;Xe.play=t=>BU(!0,t);Xe.pause=t=>BU(!1,t);function Iue(t){var e;let{subscribe:n,getSnapshot:r,setProps:a}=Q.useRef(Due(t)).current;a(t);let i=(e=Q.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(u){if(!i)return[];let c=new Map;return t.newestOnTop&&i.reverse(),i.forEach(l=>{let{position:h}=l.props;c.has(h)||c.set(h,[]),c.get(h).push(l)}),Array.from(c,l=>u(l[0],l[1]))}return{getToastToRender:o,isToastActive:kU,count:i==null?void 0:i.length}}function Bue(t){let[e,n]=Q.useState(!1),[r,a]=Q.useState(!1),i=Q.useRef(null),o=Q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:c,closeToast:l,onClick:h,closeOnClick:d}=t;Rue({id:t.toastId,containerId:t.containerId,fn:n}),Q.useEffect(()=>{if(t.pauseOnFocusLoss)return v(),()=>{m()}},[t.pauseOnFocusLoss]);function v(){document.hasFocus()||w(),window.addEventListener("focus",b),window.addEventListener("blur",w)}function m(){window.removeEventListener("focus",b),window.removeEventListener("blur",w)}function y(R){if(t.draggable===!0||t.draggable===R.pointerType){S();let D=i.current;o.canCloseOnClick=!0,o.canDrag=!0,D.style.transition="none",t.draggableDirection==="x"?(o.start=R.clientX,o.removalDistance=D.offsetWidth*(t.draggablePercent/100)):(o.start=R.clientY,o.removalDistance=D.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function x(R){let{top:D,bottom:M,left:N,right:k}=i.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&t.pauseOnHover&&R.clientX>=N&&R.clientX<=k&&R.clientY>=D&&R.clientY<=M?w():b()}function b(){n(!0)}function w(){n(!1)}function S(){o.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",E)}function A(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",E)}function O(R){let D=i.current;if(o.canDrag&&D){o.didMove=!0,e&&w(),t.draggableDirection==="x"?o.delta=R.clientX-o.start:o.delta=R.clientY-o.start,o.start!==R.clientX&&(o.canCloseOnClick=!1);let M=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;D.style.transform=`translate3d(${M},0)`,D.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function E(){A();let R=i.current;if(o.canDrag&&o.didMove&&R){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){a(!0),t.closeToast(!0),t.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let C={onPointerDown:y,onPointerUp:x};return u&&c&&(C.onMouseEnter=w,t.stacked||(C.onMouseLeave=b)),d&&(C.onClick=R=>{h&&h(R),o.canCloseOnClick&&l(!0)}),{playToast:b,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:C}}var Lue=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,ng=({theme:t,type:e,isLoading:n,...r})=>V.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function jue(t){return V.createElement(ng,{...t},V.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Fue(t){return V.createElement(ng,{...t},V.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Uue(t){return V.createElement(ng,{...t},V.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function que(t){return V.createElement(ng,{...t},V.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function zue(){return V.createElement("div",{className:"Toastify__spinner"})}var oS={info:Fue,warning:jue,success:Uue,error:que,spinner:zue},$ue=t=>t in oS;function Wue({theme:t,type:e,isLoading:n,icon:r}){let a=null,i={theme:t,type:e};return r===!1||(Mi(r)?a=r({...i,isLoading:n}):Q.isValidElement(r)?a=Q.cloneElement(r,i):n?a=oS.spinner():$ue(e)&&(a=oS[e](i))),a}var Hue=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:a,playToast:i}=Bue(t),{closeButton:o,children:u,autoClose:c,onClick:l,type:h,hideProgressBar:d,closeToast:v,transition:m,position:y,className:x,style:b,progressClassName:w,updateId:S,role:A,progress:O,rtl:E,toastId:C,deleteToast:R,isIn:D,isLoading:M,closeOnClick:N,theme:k,ariaLabel:I}=t,q=Ye("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":N}),W=Mi(x)?x({rtl:E,position:y,type:h,defaultClassName:q}):Ye(q,x),$=Wue(t),j=!!O||!c,U={closeToast:v,type:h,theme:k},H=null;return o===!1||(Mi(o)?H=o(U):Q.isValidElement(o)?H=Q.cloneElement(o,U):H=xue(U)),V.createElement(m,{isIn:D,done:R,position:y,preventExitTransition:n,nodeRef:r,playToast:i},V.createElement("div",{id:C,tabIndex:0,onClick:l,"data-in":D,className:W,...a,style:b,ref:r,...D&&{role:A,"aria-label":I}},$!=null&&V.createElement("div",{className:Ye("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},$),MU(u,t,!e),H,!t.customProgressBar&&V.createElement(wue,{...S&&!j?{key:`p-${S}`}:{},rtl:E,theme:k,delay:c,isRunning:e,isIn:D,closeToast:v,hide:d,type:h,className:w,controlledProgress:j,progress:O||0})))},Vue=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),Gue=bue(Vue("bounce",!0)),Kue={position:"top-right",transition:Gue,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function Xue(t){let e={...Kue,...t},n=t.stacked,[r,a]=Q.useState(!0),i=Q.useRef(null),{getToastToRender:o,isToastActive:u,count:c}=Iue(e),{className:l,style:h,rtl:d,containerId:v,hotKeys:m}=e;function y(b){let w=Ye("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":d});return Mi(l)?l({position:b,rtl:d,defaultClassName:w}):Ye(w,rS(l))}function x(){n&&(a(!0),Xe.play())}return Lue(()=>{var b;if(n){let w=i.current.querySelectorAll('[data-in="true"]'),S=12,A=(b=e.position)==null?void 0:b.includes("top"),O=0,E=0;Array.from(w).reverse().forEach((C,R)=>{let D=C;D.classList.add("Toastify__toast--stacked"),R>0&&(D.dataset.collapsed=`${r}`),D.dataset.pos||(D.dataset.pos=A?"top":"bot");let M=O*(r?.2:1)+(r?0:S*R);D.style.setProperty("--y",`${A?M:M*-1}px`),D.style.setProperty("--g",`${S}`),D.style.setProperty("--s",`${1-(r?E:0)}`),O+=D.offsetHeight,E+=.025})}},[r,c,n]),Q.useEffect(()=>{function b(w){var S;let A=i.current;m(w)&&((S=A.querySelector('[tabIndex="0"]'))==null||S.focus(),a(!1),Xe.pause()),w.key==="Escape"&&(document.activeElement===A||A!=null&&A.contains(document.activeElement))&&(a(!0),Xe.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[m]),V.createElement("section",{ref:i,className:"Toastify",id:v,onMouseEnter:()=>{n&&(a(!1),Xe.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((b,w)=>{let S=w.length?{...h}:{...h,pointerEvents:"none"};return V.createElement("div",{tabIndex:-1,className:y(b),"data-stacked":n,style:S,key:`c-${b}`},w.map(({content:A,props:O})=>V.createElement(Hue,{...O,stacked:n,collapseAll:x,isIn:u(O.toastId,O.containerId),key:`t-${O.key}`},A)))}))}const Gw=["#00C49F","#FF8042"];function Yue({socket:t}){const[e,n]=Q.useState({present:0,absent:0}),[r,a]=Q.useState([]),[i,o]=Q.useState(!1),[u,c]=Q.useState({name:"",sapId:""}),[l,h]=Q.useState(null),[d,v]=Q.useState(null),m=Q.useRef(null);Q.useEffect(()=>{d&&m.current&&m.current.scrollIntoView({behavior:"smooth"})},[d]);const y=async()=>{var O,E;try{const C=await ba.get("/api/admin/attendance");n(C.data.stats);const R=C.data.students.sort((D,M)=>(D.name||"").localeCompare(M.name||""));a(R)}catch(C){Xe.error(((E=(O=C.response)==null?void 0:O.data)==null?void 0:E.message)||"Failed to load summary")}};Q.useEffect(()=>{if(y(),t)return t.on("attendance-updated",y),()=>t.off("attendance-updated",y)},[t]);const x=async O=>{try{const E=await ba.get(`/api/admin/students/${O._id}/attendance-summary`);v(E.data),h(O)}catch{Xe.error("Failed to fetch student summary")}},b=async O=>{if(window.confirm("Delete this student?"))try{await ba.delete(`/api/admin/students/${O}`),Xe.success("Student deleted"),l&&l._id===O&&(h(null),v(null)),y()}catch{Xe.error("Delete failed")}},w=async O=>{O.preventDefault();try{await ba.post("/api/admin/students",u),Xe.success("Student added"),o(!1),c({name:"",sapId:""}),y()}catch{Xe.error("Add failed")}},S=()=>{if(!r.length)return Xe.info("No students to download");const O=["S.NO","Name","SAP ID","Email"],E=r.map((N,k)=>[k+1,N.name||"",N.sapId||"",N.email]),C=[O,...E].map(N=>N.join(",")).join(`
`),R=new Blob([C],{type:"text/csv;charset=utf-8;"}),D=URL.createObjectURL(R),M=document.createElement("a");M.href=D,M.setAttribute("download","students.csv"),document.body.appendChild(M),M.click(),document.body.removeChild(M)},A=[{name:"Present",value:e.present},{name:"Absent",value:e.absent}];return de.jsxs("div",{className:"p-6 pt-20",children:[de.jsx("h1",{className:"text-2xl mb-4",children:"Attendance Overview"}),de.jsx("div",{className:"w-full h-64 mb-8",children:de.jsx(e2,{children:de.jsxs(d4,{children:[de.jsx(Ga,{data:A,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:A.map((O,E)=>de.jsx(Ks,{fill:Gw[E]},E))}),de.jsx(Qr,{}),de.jsx(Eo,{})]})})}),de.jsxs("div",{className:"mb-4 grid grid-cols-[auto_1fr_auto] items-center gap-2",children:[de.jsx("h2",{className:"text-lg font-semibold whitespace-nowrap",children:"RegisteredStudents"}),de.jsxs("div",{className:"flex gap-2 ml-auto",children:[de.jsx("button",{onClick:()=>o(O=>!O),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs sm:text-sm whitespace-nowrap",children:i?"Cancel":"Add Student"}),de.jsx("button",{onClick:S,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1 rounded text-xs sm:text-sm whitespace-nowrap",children:"Download CSV"})]})]}),i&&de.jsxs("form",{onSubmit:w,className:"bg-gray-800 p-4 rounded mb-6 space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block mb-1",children:"Name"}),de.jsx("input",{type:"text",value:u.name,onChange:O=>c({...u,name:O.target.value}),required:!0,className:"w-full p-2 bg-gray-700 rounded"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block mb-1",children:"SAP ID"}),de.jsx("input",{type:"text",value:u.sapId,onChange:O=>c({...u,sapId:O.target.value}),required:!0,className:"w-full p-2 bg-gray-700 rounded"})]}),de.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Create Student"})]}),de.jsxs("table",{className:"w-full table-auto border-collapse bg-gray-800 rounded",children:[de.jsx("thead",{children:de.jsxs("tr",{className:"bg-gray-700",children:[de.jsx("th",{className:"py-2 px-4 text-left",children:"S.NO"}),de.jsx("th",{className:"py-2 px-4 text-left",children:"Name"}),de.jsx("th",{className:"py-2 px-4 text-left",children:"SAP ID"}),de.jsx("th",{className:"py-2 px-4 text-left",children:"Email"}),de.jsx("th",{className:"py-2 px-4 text-left",children:"Actions"}),de.jsx("th",{className:"py-2 px-4 text-left",children:"View"})]})}),de.jsx("tbody",{children:r.map((O,E)=>de.jsxs("tr",{className:"border-b border-gray-700",children:[de.jsx("td",{className:"py-2 px-4",children:E+1}),de.jsx("td",{className:"py-2 px-4",children:O.name||""}),de.jsx("td",{className:"py-2 px-4",children:O.sapId||""}),de.jsx("td",{className:"py-2 px-4",children:O.email}),de.jsx("td",{className:"py-2 px-4",children:de.jsx("button",{onClick:()=>b(O._id),className:"bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded text-sm",children:"Delete"})}),de.jsx("td",{className:"py-2 px-4",children:de.jsx("button",{onClick:()=>x(O),className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-sm",children:"View"})})]},O._id))})]}),l&&d&&de.jsxs("div",{ref:m,className:"mt-8 bg-gray-800 p-6 rounded",children:[de.jsxs("h3",{className:"text-xl mb-4",children:[l.name||l.email,"s Attendance"]}),de.jsx("div",{className:"w-full h-48",children:de.jsx(e2,{children:de.jsxs(d4,{children:[de.jsxs(Ga,{data:[{name:"Present",value:d.present},{name:"Absent",value:d.absent}],dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:[de.jsx(Ks,{fill:Gw[0]}),de.jsx(Ks,{fill:Gw[1]})]}),de.jsx(Qr,{}),de.jsx(Eo,{})]})})})]})]})}const Que=({socket:t})=>{const[e,n]=Q.useState({name:"",sapId:"",faceDescriptor:[]}),[r,a]=Q.useState({name:"",sapId:""}),[i,o]=Q.useState([]),[u,c]=Q.useState(!1),l=async()=>{try{const x=await ba.get("/api/students/profile"),{name:b,sapId:w,faceDescriptor:S=[]}=x.data;n({name:b,sapId:w,faceDescriptor:S}),a({name:b,sapId:w}),localStorage.setItem("name",b),c(S.length===0)}catch{Xe.error("Failed to load profile")}},h=async()=>{try{const b=(await ba.get("/api/students/attendance")).data.map(w=>({date:w.date,count:w.status==="present"?1:0,status:w.status}));o(b)}catch{Xe.error("Failed to load attendance")}},d=async x=>{x.preventDefault();try{await ba.put("/api/students/profile",r),localStorage.setItem("name",r.name),Xe.success("Profile updated successfully"),window.dispatchEvent(new Event("storage")),window.location.reload()}catch{Xe.error("Failed to update profile")}};Q.useEffect(()=>{if(l(),h(),t)return t.on("attendance-updated",h),()=>t.off("attendance-updated",h)},[t]);const v=i.filter(x=>x.status==="present").length,m=i.filter(x=>x.status==="absent").length,y=[{name:"Present",count:v},{name:"Absent",count:m}];return de.jsxs("main",{className:"pt-16 p-6",children:[u&&de.jsx("div",{className:"mb-6",children:de.jsx(T8,{to:"/student/register-face",className:"inline-block bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded shadow",children:"Register Your Face"})}),de.jsx("h2",{className:"text-2xl mb-4",children:"My Profile"}),de.jsxs("form",{onSubmit:d,className:"bg-gray-800 p-4 rounded mb-6",children:[de.jsxs("div",{className:"mb-4",children:[de.jsx("label",{className:"block mb-1",children:"Name"}),de.jsx("input",{type:"text",value:r.name,onChange:x=>a({...r,name:x.target.value}),required:!0,className:"w-full p-2 bg-gray-700 rounded"})]}),de.jsxs("div",{className:"mb-4",children:[de.jsx("label",{className:"block mb-1",children:"SAP ID"}),de.jsx("input",{type:"text",value:r.sapId,onChange:x=>a({...r,sapId:x.target.value}),required:!0,className:"w-full p-2 bg-gray-700 rounded"})]}),de.jsx("button",{type:"submit",className:"bg-blue-600 px-4 py-2 rounded hover:bg-blue-700 transition text-white",children:"Save Profile"})]}),de.jsx("h2",{className:"text-2xl mb-4",children:"My Attendance"}),de.jsx("div",{className:"w-full h-64 mb-6",children:de.jsx(e2,{children:de.jsxs(pue,{data:y,margin:{top:20,right:30,left:0,bottom:5},children:[de.jsx(mU,{strokeDasharray:"3 3"}),de.jsx(Qm,{dataKey:"name"}),de.jsx(Zm,{allowDecimals:!1}),de.jsx(Qr,{formatter:x=>[x,"Count"]}),de.jsx(ju,{dataKey:"count",fill:"#8884d8"})]})})}),de.jsx("h2",{className:"text-lg font-semibold",children:"Records:"}),de.jsx("ul",{className:"list-disc ml-6 mt-2 space-y-1",children:i.map((x,b)=>de.jsxs("li",{children:[x.date,": ",x.status]},b))})]})};var Ip={exports:{}},Zue=Ip.exports,v4;function Jue(){return v4||(v4=1,function(t,e){(function(r,a){t.exports=a(am())})(Zue,function(n){return function(r){var a={};function i(o){if(a[o])return a[o].exports;var u=a[o]={i:o,l:!1,exports:{}};return r[o].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=r,i.c=a,i.d=function(o,u,c){i.o(o,u)||Object.defineProperty(o,u,{enumerable:!0,get:c})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,u){if(u&1&&(o=i(o)),u&8||u&4&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),u&2&&typeof o!="string")for(var l in o)i.d(c,l,(function(h){return o[h]}).bind(null,l));return c},i.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(u,"a",u),u},i.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},i.p="",i(i.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,a,i){i.r(a);var o=i("react"),u=function(){var v=function(m,y){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,b){x.__proto__=b}||function(x,b){for(var w in b)b.hasOwnProperty(w)&&(x[w]=b[w])},v(m,y)};return function(m,y){v(m,y);function x(){this.constructor=m}m.prototype=y===null?Object.create(y):(x.prototype=y.prototype,new x)}}(),c=function(){return c=Object.assign||function(v){for(var m,y=1,x=arguments.length;y<x;y++){m=arguments[y];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(v[b]=m[b])}return v},c.apply(this,arguments)},l=function(v,m){var y={};for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&m.indexOf(x)<0&&(y[x]=v[x]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,x=Object.getOwnPropertySymbols(v);b<x.length;b++)m.indexOf(x[b])<0&&Object.prototype.propertyIsEnumerable.call(v,x[b])&&(y[x[b]]=v[x[b]]);return y};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(m){var y=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return y?new Promise(function(x,b){y.call(navigator,m,x,b)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function h(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var d=function(v){u(m,v);function m(y){var x=v.call(this,y)||this;return x.canvas=null,x.ctx=null,x.requestUserMediaId=0,x.unmounted=!1,x.state={hasUserMedia:!1},x}return m.prototype.componentDidMount=function(){var y=this,x=y.state,b=y.props;if(this.unmounted=!1,!h()){b.onUserMediaError("getUserMedia not supported");return}x.hasUserMedia||this.requestUserMedia(),b.children&&typeof b.children!="function"&&console.warn("children must be a function")},m.prototype.componentDidUpdate=function(y){var x=this.props;if(!h()){x.onUserMediaError("getUserMedia not supported");return}var b=JSON.stringify(y.audioConstraints)!==JSON.stringify(x.audioConstraints),w=JSON.stringify(y.videoConstraints)!==JSON.stringify(x.videoConstraints),S=y.minScreenshotWidth!==x.minScreenshotWidth,A=y.minScreenshotHeight!==x.minScreenshotHeight;(w||S||A)&&(this.canvas=null,this.ctx=null),(b||w)&&(this.stopAndCleanup(),this.requestUserMedia())},m.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},m.stopMediaStream=function(y){y&&(y.getVideoTracks&&y.getAudioTracks?(y.getVideoTracks().map(function(x){y.removeTrack(x),x.stop()}),y.getAudioTracks().map(function(x){y.removeTrack(x),x.stop()})):y.stop())},m.prototype.stopAndCleanup=function(){var y=this.state;y.hasUserMedia&&(m.stopMediaStream(this.stream),y.src&&window.URL.revokeObjectURL(y.src))},m.prototype.getScreenshot=function(y){var x=this,b=x.state,w=x.props;if(!b.hasUserMedia)return null;var S=this.getCanvas(y);return S&&S.toDataURL(w.screenshotFormat,w.screenshotQuality)},m.prototype.getCanvas=function(y){var x=this,b=x.state,w=x.props;if(!this.video||!b.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var S=this.video.videoWidth,A=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var O=S/A;S=w.minScreenshotWidth||this.video.clientWidth,A=S/O,w.minScreenshotHeight&&A<w.minScreenshotHeight&&(A=w.minScreenshotHeight,S=A*O)}this.canvas=document.createElement("canvas"),this.canvas.width=(y==null?void 0:y.width)||S,this.canvas.height=(y==null?void 0:y.height)||A,this.ctx=this.canvas.getContext("2d")}var E=this,C=E.ctx,R=E.canvas;return C&&R&&(R.width=(y==null?void 0:y.width)||R.width,R.height=(y==null?void 0:y.height)||R.height,w.mirrored&&(C.translate(R.width,0),C.scale(-1,1)),C.imageSmoothingEnabled=w.imageSmoothing,C.drawImage(this.video,0,0,(y==null?void 0:y.width)||R.width,(y==null?void 0:y.height)||R.height),w.mirrored&&(C.scale(-1,1),C.translate(-R.width,0))),R},m.prototype.requestUserMedia=function(){var y=this,x=this.props,b=function(A,O){var E={video:typeof O<"u"?O:!0};x.audio&&(E.audio=typeof A<"u"?A:!0),y.requestUserMediaId++;var C=y.requestUserMediaId;navigator.mediaDevices.getUserMedia(E).then(function(R){y.unmounted||C!==y.requestUserMediaId?m.stopMediaStream(R):y.handleUserMedia(null,R)}).catch(function(R){y.handleUserMedia(R)})};if("mediaDevices"in navigator)b(x.audioConstraints,x.videoConstraints);else{var w=function(A){return{optional:[{sourceId:A}]}},S=function(A){var O=A.deviceId;return typeof O=="string"?O:Array.isArray(O)&&O.length>0?O[0]:typeof O=="object"&&O.ideal?O.ideal:null};MediaStreamTrack.getSources(function(A){var O=null,E=null;A.forEach(function(D){D.kind==="audio"?O=D.id:D.kind==="video"&&(E=D.id)});var C=S(x.audioConstraints);C&&(O=C);var R=S(x.videoConstraints);R&&(E=R),b(w(O),w(E))})}},m.prototype.handleUserMedia=function(y,x){var b=this.props;if(y||!x){this.setState({hasUserMedia:!1}),b.onUserMediaError(y);return}this.stream=x;try{this.video&&(this.video.srcObject=x),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(x)})}b.onUserMedia(x)},m.prototype.render=function(){var y=this,x=this,b=x.state,w=x.props,S=w.audio;w.forceScreenshotSourceSize;var A=w.disablePictureInPicture;w.onUserMedia,w.onUserMediaError,w.screenshotFormat,w.screenshotQuality,w.minScreenshotWidth,w.minScreenshotHeight,w.audioConstraints,w.videoConstraints,w.imageSmoothing;var O=w.mirrored,E=w.style,C=E===void 0?{}:E,R=w.children,D=l(w,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),M=O?c(c({},C),{transform:(C.transform||"")+" scaleX(-1)"}):C,N={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",c({autoPlay:!0,disablePictureInPicture:A,src:b.src,muted:!S,playsInline:!0,ref:function(k){y.video=k},style:M},D)),R&&R(N))},m.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},m}(o.Component);a.default=d},react:function(r,a){r.exports=n}}).default})}(Ip)),Ip.exports}var ese=Jue();const tse=gt(ese);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var LU=function(t,e){return(LU=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])})(t,e)};function Aa(t,e){function n(){this.constructor=t}LU(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function De(t,e,n,r){return new(n||(n=Promise))(function(a,i){function o(l){try{c(r.next(l))}catch(h){i(h)}}function u(l){try{c(r.throw(l))}catch(h){i(h)}}function c(l){l.done?a(l.value):new n(function(h){h(l.value)}).then(o,u)}c((r=r.apply(t,[])).next())})}function Me(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function u(c){return function(l){return function(h){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&h[0]?r.return:h[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,h[1])).done)return a;switch(r=0,a&&(h=[2&h[0],a.value]),h[0]){case 0:case 1:a=h;break;case 4:return o.label++,{value:h[1],done:!1};case 5:o.label++,r=h[1],h=[0];continue;case 7:h=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){o=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){o.label=h[1];break}if(h[0]===6&&o.label<a[1]){o.label=a[1],a=h;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(h);break}a[2]&&o.ops.pop(),o.trys.pop();continue}h=e.call(t,o)}catch(d){h=[6,d],r=0}finally{n=a=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([c,l])}}}var nse=function(){function t(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return t.prototype.setPlatform=function(e,n){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+n+"."),this.platformName=e,this.platform=n},t.prototype.registerFlag=function(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){var a=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+a+"."),this.set(e,a)}},t.prototype.get=function(e){return e in this.flags?this.flags[e]:(this.flags[e]=this.evaluateFlag(e),this.flags[e])},t.prototype.getNumber=function(e){return this.get(e)},t.prototype.getBool=function(e){return this.get(e)},t.prototype.getFlags=function(){return this.flags},Object.defineProperty(t.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),t.prototype.set=function(e,n){if(this.flagRegistry[e]==null)throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)},t.prototype.evaluateFlag=function(e){if(this.flagRegistry[e]==null)throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},t.prototype.setFlags=function(e){this.flags=Object.assign({},e)},t.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},t.prototype.populateURLFlags=function(){var e=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var n,r,a=(n=this.global.location.search,r={},n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(i){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];return rse(r,o[0],o[1]),o.join("=")}),r);"tfjsflags"in a&&a.tfjsflags.split(",").forEach(function(i){var o=i.split(":"),u=o[0],c=o[1];e.urlFlags[u]=function(l,h){if((h=h.toLowerCase())==="true"||h==="false")return h==="true";if(""+ +h===h)return+h;throw new Error("Could not parse value flag value "+h+" for flag "+l+".")}(u,c)})}},t}();function rse(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function fe(){return jU}var jU=null,Iv=new Map,uS=new Map;function FU(t,e){var n=qU(t,e);return Iv.get(n)}function ase(t){return uS.get(t)}function m4(t){for(var e=Iv.entries(),n=[];;){var r=e.next(),a=r.done,i=r.value;if(a)break;var o=i[0],u=i[1];o.split("_")[0]===t&&n.push(u)}return n}function UU(t){var e=t.kernelName,n=t.backendName,r=qU(e,n);if(Iv.has(r))throw new Error("The kernel '"+e+"' for backend '"+n+"' is already registered");Iv.set(r,t)}function ise(t){var e=t.kernelName;uS.has(e)&&console.warn("Overriding the gradient for '"+e+"'"),uS.set(e,t)}function qU(t,e){return e+"_"+t}function sS(t,e,n){return Math.max(t,Math.min(e,n))}function zU(t){return t%2==0?t:t+1}function ose(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function z(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function xt(t,e,n){n===void 0&&(n=""),z(Rn(t,e),function(){return n+" Shapes "+t+" and "+e+" must match"})}function Vc(t){z(t!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function Rc(t,e,n){if(e===void 0&&(e=[]),n===void 0&&(n=!1),e==null&&(e=[]),Array.isArray(t)||za(t)&&!n)for(var r=0;r<t.length;++r)Rc(t[r],e,n);else e.push(t);return e}function Pe(t){if(t.length===0)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e}function Rn(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Jt(t){return t%1==0}function use(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)}function cS(t){var e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function Qs(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function g4(t,e,n){return e===void 0&&(e=function(r){return 0}),new Promise(function(r,a){var i=0,o=function(){if(t())r();else{i++;var u=e(i);n!=null&&i>=n?a():setTimeout(o,u)}};o()})}function sse(t,e){for(var n=1,r=-1,a=0;a<t.length;++a)if(t[a]>=0)n*=t[a];else if(t[a]===-1){if(r!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+a);r=a}else if(t[a]<0)throw Error("Shapes can not be < 0. Found "+t[a]+" at dim "+a);if(r===-1){if(e>0&&e!==n)throw Error("Size("+e+") must match the product of shape "+t);return t}if(n===0)throw Error("Cannot infer the missing size in ["+t+"] when there are 0 elements");if(e%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+e+" / "+n);var i=t.slice();return i[r]=e/n,i}function xn(t,e){var n=e.length;return z((t=t==null?e.map(function(r,a){return a}):[].concat(t)).every(function(r){return r>=-n&&r<n}),function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+t}),z(t.every(function(r){return Jt(r)}),function(){return"All values in axis param must be integers but got axis "+t}),t.map(function(r){return r<0?n+r:r})}function du(t,e){for(var n=[],r=[],a=e!=null&&Array.isArray(e)&&e.length===0,i=e==null||a?null:xn(e,t).sort(),o=0,u=0;u<t.length;++u){if(i!=null){if(i[o]===u&&t[u]!==1)throw new Error("Can't squeeze axis "+u+" since its dim '"+t[u]+"' is not 1");(i[o]==null||i[o]>u)&&t[u]===1&&(n.push(t[u]),r.push(u)),i[o]<=u&&o++}t[u]!==1&&(n.push(t[u]),r.push(u))}return{newShape:n,keptDims:r}}function uh(t,e){var n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else{if(t!=="bool")throw new Error("Unknown data type "+t);n=new Uint8Array(e)}return n}function Bv(t,e){var n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else{if(t!=="string")throw new Error("Unknown data type "+t);n=new Array(e)}return n}function cse(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+e+" being uploaded contains "+r+".")}}function lse(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function fse(t,e){return e!=="complex64"&&(e!=="float32"||t==="complex64")&&(e!=="int32"||t==="float32"||t==="complex64")&&(e!=="bool"||t!=="bool")}function za(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function $U(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error("Unknown dtype "+t)}function hse(t){if(t==null)return 0;var e=0;return t.forEach(function(n){return e+=n.length}),e}function VE(t){return typeof t=="string"||t instanceof String}function dse(t){return typeof t=="boolean"}function pse(t){return typeof t=="number"}function Ch(t){return Array.isArray(t)?Ch(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array?"int32":pse(t)?"float32":VE(t)?"string":dse(t)?"bool":"float32"}function lS(t){return!!(t&&t.constructor&&t.call&&t.apply)}function fS(t,e){for(var n=e;n<t;++n)if(t%n==0)return n;return t}function $a(t){var e=t.length;if(e<2)return[];var n=new Array(e-1);n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function WU(t,e,n){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Rc(t)),n&&cse(t,e),function(i,o){return i instanceof Float32Array&&o==="float32"||i instanceof Int32Array&&o==="int32"||i instanceof Uint8Array&&o==="bool"}(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){for(var r=new Uint8Array(t.length),a=0;a<r.length;++a)Math.round(t[a])!==0&&(r[a]=1);return r}throw new Error("Unknown data type "+e)}function y4(t,e){if(t.length===0)return e[0];var n=t.reduce(function(r,a){return r*a});if(n===0)return[];if(n!==e.length)throw new Error("["+t+"] does not match the input size.");return function r(a,i,o){var u=new Array;if(i.length===1)for(var c=i[0],l=0;l<c;l++)u[l]=o[a+l];else{c=i[0];var h=i.slice(1),d=h.reduce(function(v,m){return v*m});for(l=0;l<c;l++)u[l]=r(a+l*d,h,o)}return u}(0,t,e)}function HU(t,e){for(var n=Rh(t,e),r=0;r<n.length;r++)n[r]=1;return n}function Rh(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error("Unknown data type "+e)}function Ia(){return fe().platform.now()}function VU(t){t.forEach(function(e){z(Number.isInteger(e)&&e>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+t+"]."})})}function vse(t,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",fe().platform.encode(t,e)}function Lv(t,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",fe().platform.decode(t,e)}function b4(t,e,n){if(e===0)return 0;if(e===1)return t[0];for(var r=t[t.length-1],a=0;a<t.length-1;++a)r+=n[a]*t[a];return r}function mse(t,e,n){if(e===0)return[];if(e===1)return[t];for(var r=new Array(e),a=0;a<r.length-1;++a)r[a]=Math.floor(t/n[a]),t-=r[a]*n[a];return r[r.length-1]=t,r}var gse=function(){function t(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new yse)}return t.prototype.profileKernel=function(e,n,r){var a,i=this,o=this.backendTimer.time(function(){a=r()});return a.forEach(function(u){u.data().then(function(c){(function(l,h,d){if(h!=="float32")return!1;for(var v=0;v<l.length;v++){var m=l[v];if(isNaN(m)||!isFinite(m))return console.warn("Found "+m+" in the result of '"+d+"'"),!0}})(c,u.dtype,e),o.then(function(l){var h="";l.getExtraProfileInfo!=null&&(h=l.getExtraProfileInfo()),i.logger.logKernelProfile(e,u,c,l.kernelMs,n,h)})})}),a},t}(),yse=function(){function t(){}return t.prototype.logKernelProfile=function(e,n,r,a,i,o){var u=typeof a=="number"?Qs(a+"ms",9):a.error,c=Qs(e,25),l=n.rank,h=n.size,d=Qs(n.shape.toString(),14),v="";for(var m in i){var y=i[m].shape||n.shape,x=y.length;v+=m+": "+x+"D "+(x>0?y:"")+" "}console.log("%c"+c+"	%c"+u+"	%c"+l+"D "+d+"	%c"+h+"	%c"+v+"	%c"+o,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},t}(),x4=20,af=3,Kw=7;function bse(t,e,n,r){var a=$a(e),i=function(l,h,d,v){var m=Pe(h),y=v[v.length-1],x=new Array(y).fill(0),b=h.length,w=d==="complex64"?uf(l):l;if(b>1)for(var S=0;S<m/y;S++)for(var A=S*y,O=0;O<y;O++)x[O]=Math.max(x[O],of(w[A+O],0,d).length);return x}(t,e,n,a),o=e.length,u=function l(h,d,v,m,y,x){x===void 0&&(x=!0);var b=v==="complex64"?2:1,w=d[0],S=d.length;if(S===0)return v==="complex64"?[of(uf(h)[0],0,v)]:v==="bool"?[GU(h[0])]:[h[0].toString()];if(S===1){if(w>x4){var A=af*b,O=Array.from(h.slice(0,A)),E=Array.from(h.slice((w-af)*b,w*b));return v==="complex64"&&(O=uf(O),E=uf(E)),["["+O.map(function($,j){return of($,y[j],v)}).join(", ")+", ..., "+E.map(function($,j){return of($,y[w-af+j],v)}).join(", ")+"]"]}return["["+(v==="complex64"?uf(h):Array.from(h)).map(function($,j){return of($,y[j],v)}).join(", ")+"]"]}var C=d.slice(1),R=m.slice(1),D=m[0]*b,M=[];if(w>x4){for(var N=0;N<af;N++){var k=(I=N*D)+D;M.push.apply(M,l(h.slice(I,k),C,v,R,y,!1))}for(M.push("..."),N=w-af;N<w;N++)k=(I=N*D)+D,M.push.apply(M,l(h.slice(I,k),C,v,R,y,N===w-1))}else for(N=0;N<w;N++){var I;k=(I=N*D)+D,M.push.apply(M,l(h.slice(I,k),C,v,R,y,N===w-1))}var q=S===2?",":"";for(M[0]="["+M[0]+q,N=1;N<M.length-1;N++)M[N]=" "+M[N]+q;var W=`,
`;for(N=2;N<S;N++)W+=`
`;return M[M.length-1]=" "+M[M.length-1]+"]"+(x?"":W),M}(t,e,n,a,i),c=["Tensor"];return r&&(c.push("  dtype: "+n),c.push("  rank: "+o),c.push("  shape: ["+e+"]"),c.push("  values:")),c.push(u.map(function(l){return"    "+l}).join(`
`)),c.join(`
`)}function of(t,e,n){return Qs(Array.isArray(t)?parseFloat(t[0].toFixed(Kw))+" + "+parseFloat(t[1].toFixed(Kw))+"j":VE(t)?"'"+t+"'":n==="bool"?GU(t):parseFloat(t.toFixed(Kw)).toString(),e)}function GU(t){return t===0?"false":"true"}function uf(t){for(var e=[],n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}var sh=function(){function t(e,n,r){var a=this;if(this.dtype=n,this.shape=e.slice(),this.size=Pe(e),r!=null){var i=r.length;z(i===this.size,function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+a.size+"'."})}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Bv(n,this.size),this.strides=$a(e)}return t.prototype.set=function(e){for(var n=this,r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];r.length===0&&(r=[0]),z(r.length===this.rank,function(){return"The number of provided coordinates ("+r.length+") must match the rank ("+n.rank+")"});var i=this.locToIndex(r);this.values[i]=e},t.prototype.get=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.length===0&&(e=[0]);for(var r=0,a=0,i=e;a<i.length;a++){var o=i[a];if(o<0||o>=this.shape[r]){var u="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(u)}r++}for(var c=e[e.length-1],l=0;l<e.length-1;++l)c+=this.strides[l]*e[l];return this.values[c]},t.prototype.locToIndex=function(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];for(var n=e[e.length-1],r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n},t.prototype.indexToLoc=function(e){if(this.rank===0)return[];if(this.rank===1)return[e];for(var n=new Array(this.shape.length),r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return Ba().makeTensor(this.values,this.shape,this.dtype)},t}(),Ba=null,se=null,KU=null,qt=function(){function t(e,n,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=Pe(e),this.strides=$a(e),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return t.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},t.prototype.asScalar=function(){return this.throwIfDisposed(),z(this.size===1,function(){return"The array must have only 1 element."}),this.reshape([])},t.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},t.prototype.as2D=function(e,n){return this.throwIfDisposed(),this.reshape([e,n])},t.prototype.as3D=function(e,n,r){return this.throwIfDisposed(),this.reshape([e,n,r])},t.prototype.as4D=function(e,n,r,a){return this.throwIfDisposed(),this.reshape([e,n,r,a])},t.prototype.as5D=function(e,n,r,a,i){return this.throwIfDisposed(),this.reshape([e,n,r,a,i])},t.prototype.asType=function(e){return this.throwIfDisposed(),se.cast(this,e)},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.buffer=function(){return De(this,void 0,void 0,function(){var e;return Me(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return e=n.sent(),[2,se.buffer(this.shape,this.dtype,e)]}})})},t.prototype.bufferSync=function(){return se.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.array=function(){return De(this,void 0,void 0,function(){var e;return Me(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return e=n.sent(),[2,y4(this.shape,e)]}})})},t.prototype.arraySync=function(){return y4(this.shape,this.dataSync())},t.prototype.data=function(){return De(this,void 0,void 0,function(){var e,n;return Me(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),e=Ba().read(this.dataId),this.dtype!=="string"?[3,2]:[4,e];case 1:n=r.sent();try{return[2,n.map(function(a){return Lv(a)})]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}r.label=2;case 2:return[2,e]}})})},t.prototype.dataSync=function(){this.throwIfDisposed();var e=Ba().readSync(this.dataId);if(this.dtype==="string")try{return e.map(function(n){return Lv(n)})}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},t.prototype.bytes=function(){return De(this,void 0,void 0,function(){var e;return Me(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),[4,Ba().read(this.dataId)];case 1:return e=n.sent(),this.dtype==="string"?[2,e]:[2,new Uint8Array(e.buffer)]}})})},t.prototype.dispose=function(){this.isDisposed||(Ba().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.toFloat=function(){return this.asType("float32")},t.prototype.toInt=function(){return this.asType("int32")},t.prototype.toBool=function(){return this.asType("bool")},t.prototype.print=function(e){return e===void 0&&(e=!1),se.print(this,e)},t.prototype.reshape=function(e){return this.throwIfDisposed(),se.reshape(this,e)},t.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},t.prototype.expandDims=function(e){return e===void 0&&(e=0),se.expandDims(this,e)},t.prototype.cumsum=function(e,n,r){return e===void 0&&(e=0),n===void 0&&(n=!1),r===void 0&&(r=!1),se.cumsum(this,e,n,r)},t.prototype.squeeze=function(e){return this.throwIfDisposed(),se.squeeze(this,e)},t.prototype.clone=function(){return this.throwIfDisposed(),se.clone(this)},t.prototype.oneHot=function(e,n,r){return this.throwIfDisposed(),se.oneHot(this,e,n,r)},t.prototype.toString=function(e){return e===void 0&&(e=!1),bse(this.dataSync(),this.shape,this.dtype,e)},t.prototype.tile=function(e){return this.throwIfDisposed(),se.tile(this,e)},t.prototype.gather=function(e,n){return n===void 0&&(n=0),this.throwIfDisposed(),se.gather(this,e,n)},t.prototype.matMul=function(e,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!1),this.throwIfDisposed(),se.matMul(this,e,n,r)},t.prototype.dot=function(e){return this.throwIfDisposed(),se.dot(this,e)},t.prototype.norm=function(e,n,r){return e===void 0&&(e="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1),this.throwIfDisposed(),se.norm(this,e,n,r)},t.prototype.slice=function(e,n){return this.throwIfDisposed(),se.slice(this,e,n)},t.prototype.reverse=function(e){return this.throwIfDisposed(),se.reverse(this,e)},t.prototype.concat=function(e,n){return n===void 0&&(n=0),this.throwIfDisposed(),e instanceof t&&(e=[e]),se.concat([this].concat(e),n)},t.prototype.split=function(e,n){return n===void 0&&(n=0),this.throwIfDisposed(),se.split(this,e,n)},t.prototype.stack=function(e,n){return n===void 0&&(n=0),se.stack([this,e],n)},t.prototype.unstack=function(e){return e===void 0&&(e=0),se.unstack(this,e)},t.prototype.pad=function(e,n){return n===void 0&&(n=0),se.pad(this,e,n)},t.prototype.batchNormalization=function(e,n,r,a,i){return r===void 0&&(r=.001),KU("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,n,i,a,r)},t.prototype.batchNorm=function(e,n,r,a,i){return i===void 0&&(i=.001),this.throwIfDisposed(),se.batchNorm(this,e,n,r,a,i)},t.prototype.all=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),se.all(this,e,n)},t.prototype.any=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),se.any(this,e,n)},t.prototype.logSumExp=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),se.logSumExp(this,e,n)},t.prototype.sum=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),se.sum(this,e,n)},t.prototype.prod=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),se.prod(this,e,n)},t.prototype.mean=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),se.mean(this,e,n)},t.prototype.min=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),se.min(this,e,n)},t.prototype.max=function(e,n){return e===void 0&&(e=null),n===void 0&&(n=!1),this.throwIfDisposed(),se.max(this,e,n)},t.prototype.argMin=function(e){return e===void 0&&(e=null),this.throwIfDisposed(),se.argMin(this,e)},t.prototype.argMax=function(e){return e===void 0&&(e=null),this.throwIfDisposed(),se.argMax(this,e)},t.prototype.cast=function(e){return this.throwIfDisposed(),se.cast(this,e)},t.prototype.add=function(e){return this.throwIfDisposed(),se.add(this,e)},t.prototype.addStrict=function(e){return this.throwIfDisposed(),se.addStrict(this,e)},t.prototype.atan2=function(e){return this.throwIfDisposed(),se.atan2(this,e)},t.prototype.sub=function(e){return this.throwIfDisposed(),se.sub(this,e)},t.prototype.subStrict=function(e){return this.throwIfDisposed(),se.subStrict(this,e)},t.prototype.pow=function(e){return this.throwIfDisposed(),se.pow(this,e)},t.prototype.powStrict=function(e){return this.throwIfDisposed(),se.powStrict(this,e)},t.prototype.mul=function(e){return this.throwIfDisposed(),se.mul(this,e)},t.prototype.mulStrict=function(e){return this.throwIfDisposed(),se.mulStrict(this,e)},t.prototype.div=function(e){return this.throwIfDisposed(),se.div(this,e)},t.prototype.divNoNan=function(e){return this.throwIfDisposed(),se.divNoNan(this,e)},t.prototype.floorDiv=function(e){return this.throwIfDisposed(),se.floorDiv(this,e)},t.prototype.divStrict=function(e){return this.throwIfDisposed(),se.divStrict(this,e)},t.prototype.minimum=function(e){return this.throwIfDisposed(),se.minimum(this,e)},t.prototype.minimumStrict=function(e){return this.throwIfDisposed(),se.minimumStrict(this,e)},t.prototype.maximum=function(e){return this.throwIfDisposed(),se.maximum(this,e)},t.prototype.maximumStrict=function(e){return this.throwIfDisposed(),se.maximumStrict(this,e)},t.prototype.mod=function(e){return this.throwIfDisposed(),se.mod(this,e)},t.prototype.modStrict=function(e){return this.throwIfDisposed(),se.modStrict(this,e)},t.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),se.squaredDifferenceStrict(this,e)},t.prototype.transpose=function(e){return this.throwIfDisposed(),se.transpose(this,e)},t.prototype.notEqual=function(e){return this.throwIfDisposed(),se.notEqual(this,e)},t.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),se.notEqualStrict(this,e)},t.prototype.less=function(e){return this.throwIfDisposed(),se.less(this,e)},t.prototype.lessStrict=function(e){return this.throwIfDisposed(),se.lessStrict(this,e)},t.prototype.equal=function(e){return this.throwIfDisposed(),se.equal(this,e)},t.prototype.equalStrict=function(e){return this.throwIfDisposed(),se.equalStrict(this,e)},t.prototype.lessEqual=function(e){return this.throwIfDisposed(),se.lessEqual(this,e)},t.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),se.lessEqualStrict(this,e)},t.prototype.greater=function(e){return this.throwIfDisposed(),se.greater(this,e)},t.prototype.greaterStrict=function(e){return this.throwIfDisposed(),se.greaterStrict(this,e)},t.prototype.greaterEqual=function(e){return this.throwIfDisposed(),se.greaterEqual(this,e)},t.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),se.greaterEqualStrict(this,e)},t.prototype.logicalAnd=function(e){return this.throwIfDisposed(),se.logicalAnd(this,e)},t.prototype.logicalOr=function(e){return this.throwIfDisposed(),se.logicalOr(this,e)},t.prototype.logicalNot=function(){return this.throwIfDisposed(),se.logicalNot(this)},t.prototype.logicalXor=function(e){return this.throwIfDisposed(),se.logicalXor(this,e)},t.prototype.where=function(e,n){return this.throwIfDisposed(),se.where(e,this,n)},t.prototype.neg=function(){return this.throwIfDisposed(),se.neg(this)},t.prototype.ceil=function(){return this.throwIfDisposed(),se.ceil(this)},t.prototype.floor=function(){return this.throwIfDisposed(),se.floor(this)},t.prototype.sign=function(){return this.throwIfDisposed(),se.sign(this)},t.prototype.isNaN=function(){return this.throwIfDisposed(),se.isNaN(this)},t.prototype.isInf=function(){return this.throwIfDisposed(),se.isInf(this)},t.prototype.isFinite=function(){return this.throwIfDisposed(),se.isFinite(this)},t.prototype.exp=function(){return this.throwIfDisposed(),se.exp(this)},t.prototype.expm1=function(){return this.throwIfDisposed(),se.expm1(this)},t.prototype.log=function(){return this.throwIfDisposed(),se.log(this)},t.prototype.log1p=function(){return this.throwIfDisposed(),se.log1p(this)},t.prototype.sqrt=function(){return this.throwIfDisposed(),se.sqrt(this)},t.prototype.rsqrt=function(){return this.throwIfDisposed(),se.rsqrt(this)},t.prototype.square=function(){return this.throwIfDisposed(),se.square(this)},t.prototype.reciprocal=function(){return this.throwIfDisposed(),se.reciprocal(this)},t.prototype.abs=function(){return this.throwIfDisposed(),se.abs(this)},t.prototype.clipByValue=function(e,n){return this.throwIfDisposed(),se.clipByValue(this,e,n)},t.prototype.relu=function(){return this.throwIfDisposed(),se.relu(this)},t.prototype.relu6=function(){return this.throwIfDisposed(),se.relu6(this)},t.prototype.elu=function(){return this.throwIfDisposed(),se.elu(this)},t.prototype.selu=function(){return this.throwIfDisposed(),se.selu(this)},t.prototype.leakyRelu=function(e){return e===void 0&&(e=.2),this.throwIfDisposed(),se.leakyRelu(this,e)},t.prototype.prelu=function(e){return this.throwIfDisposed(),se.prelu(this,e)},t.prototype.sigmoid=function(){return this.throwIfDisposed(),se.sigmoid(this)},t.prototype.logSigmoid=function(){return this.throwIfDisposed(),se.logSigmoid(this)},t.prototype.softplus=function(){return this.throwIfDisposed(),se.softplus(this)},t.prototype.zerosLike=function(){return this.throwIfDisposed(),se.zerosLike(this)},t.prototype.onesLike=function(){return this.throwIfDisposed(),se.onesLike(this)},t.prototype.sin=function(){return this.throwIfDisposed(),se.sin(this)},t.prototype.cos=function(){return this.throwIfDisposed(),se.cos(this)},t.prototype.tan=function(){return this.throwIfDisposed(),se.tan(this)},t.prototype.asin=function(){return this.throwIfDisposed(),se.asin(this)},t.prototype.acos=function(){return this.throwIfDisposed(),se.acos(this)},t.prototype.atan=function(){return this.throwIfDisposed(),se.atan(this)},t.prototype.sinh=function(){return this.throwIfDisposed(),se.sinh(this)},t.prototype.cosh=function(){return this.throwIfDisposed(),se.cosh(this)},t.prototype.tanh=function(){return this.throwIfDisposed(),se.tanh(this)},t.prototype.asinh=function(){return this.throwIfDisposed(),se.asinh(this)},t.prototype.acosh=function(){return this.throwIfDisposed(),se.acosh(this)},t.prototype.atanh=function(){return this.throwIfDisposed(),se.atanh(this)},t.prototype.erf=function(){return this.throwIfDisposed(),se.erf(this)},t.prototype.round=function(){return this.throwIfDisposed(),se.round(this)},t.prototype.step=function(e){return e===void 0&&(e=0),this.throwIfDisposed(),se.step(this,e)},t.prototype.softmax=function(e){return e===void 0&&(e=-1),this.throwIfDisposed(),se.softmax(this,e)},t.prototype.logSoftmax=function(e){return e===void 0&&(e=-1),this.throwIfDisposed(),se.logSoftmax(this,e)},t.prototype.resizeBilinear=function(e,n){return n===void 0&&(n=!1),this.throwIfDisposed(),se.image.resizeBilinear(this,e,n)},t.prototype.resizeNearestNeighbor=function(e,n){return n===void 0&&(n=!1),this.throwIfDisposed(),se.image.resizeNearestNeighbor(this,e,n)},t.prototype.conv1d=function(e,n,r,a,i,o){return a===void 0&&(a="NWC"),i===void 0&&(i=1),this.throwIfDisposed(),se.conv1d(this,e,n,r,a,i,o)},t.prototype.conv2d=function(e,n,r,a,i,o){return a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]),this.throwIfDisposed(),se.conv2d(this,e,n,r,a,i,o)},t.prototype.conv2dTranspose=function(e,n,r,a,i){return this.throwIfDisposed(),se.conv2dTranspose(this,e,n,r,a,i)},t.prototype.depthwiseConv2D=function(e,n,r,a,i,o){return a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]),this.throwIfDisposed(),se.depthwiseConv2d(this,e,n,r,a,i,o)},t.prototype.separableConv2d=function(e,n,r,a,i,o){return i===void 0&&(i=[1,1]),o===void 0&&(o="NHWC"),this.throwIfDisposed(),se.separableConv2d(this,e,n,r,a,i,o)},t.prototype.avgPool=function(e,n,r,a){return this.throwIfDisposed(),se.avgPool(this,e,n,r,a)},t.prototype.maxPool=function(e,n,r,a){return this.throwIfDisposed(),se.maxPool(this,e,n,r,a)},t.prototype.localResponseNormalization=function(e,n,r,a){return e===void 0&&(e=5),n===void 0&&(n=1),r===void 0&&(r=1),a===void 0&&(a=.5),se.localResponseNormalization(this,e,n,r,a)},t.prototype.pool=function(e,n,r,a,i){return this.throwIfDisposed(),se.pool(this,e,n,r,a,i)},t.prototype.variable=function(e,n,r){return e===void 0&&(e=!0),this.throwIfDisposed(),Ba().makeVariable(this,e,n,r)},t.prototype.unsortedSegmentSum=function(e,n){return this.throwIfDisposed(),se.unsortedSegmentSum(this,e,n)},t.prototype.batchToSpaceND=function(e,n){return this.throwIfDisposed(),se.batchToSpaceND(this,e,n)},t.prototype.spaceToBatchND=function(e,n){return this.throwIfDisposed(),se.spaceToBatchND(this,e,n)},t.prototype.topk=function(e,n){return e===void 0&&(e=1),n===void 0&&(n=!0),this.throwIfDisposed(),se.topk(this,e,n)},t.prototype.stridedSlice=function(e,n,r,a,i,o,u,c){return a===void 0&&(a=0),i===void 0&&(i=0),o===void 0&&(o=0),u===void 0&&(u=0),c===void 0&&(c=0),this.throwIfDisposed(),se.stridedSlice(this,e,n,r,a,i,o,u,c)},t.prototype.depthToSpace=function(e,n){return this.throwIfDisposed(),se.depthToSpace(this,e,n)},t.prototype.fft=function(){return this.throwIfDisposed(),se.spectral.fft(this)},t.prototype.ifft=function(){return this.throwIfDisposed(),se.spectral.ifft(this)},t.prototype.rfft=function(){return this.throwIfDisposed(),se.spectral.rfft(this)},t.prototype.irfft=function(){return this.throwIfDisposed(),se.spectral.irfft(this)},t}();Object.defineProperty(qt,Symbol.hasInstance,{value:function(t){return!!t&&t.dataId!=null&&t.shape!=null&&t.dtype!=null}});var w4,hS,dS,pS,vS,Dc=function(t){function e(n,r,a,i){var o=t.call(this,n.shape,n.dtype,n.dataId,i)||this;return o.trainable=r,o.name=a,o}return Aa(e,t),e.prototype.assign=function(n){if(n.dtype!==this.dtype)throw new Error("dtype of the new value ("+n.dtype+") and previous value ("+this.dtype+") must match");if(!Rn(n.shape,this.shape))throw new Error("shape of the new value ("+n.shape+") and previous value ("+this.shape+") must match");Ba().disposeTensor(this),this.dataId=n.dataId,Ba().incRef(this,null)},e.prototype.dispose=function(){Ba().disposeVariable(this),this.isDisposedInternal=!0},e}(qt);Object.defineProperty(Dc,Symbol.hasInstance,{value:function(t){return t instanceof qt&&t.assign!=null&&t.assign instanceof Function}}),function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"}(w4||(w4={})),function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"}(hS||(hS={})),function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"}(dS||(dS={})),function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"}(pS||(pS={})),function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"}(vS||(vS={}));var xse={float32:pS,int32:hS,bool:dS,complex64:vS};function jn(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error("Can not upcast "+t+" with "+e)}return xse[t][e]}function Xw(t){return jn(t,"int32")}function $t(t,e){if(t.dtype===e.dtype)return[t,e];var n=jn(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function wse(t,e){z(t.dtype===e.dtype,function(){return"The dtypes of the first("+t.dtype+") and second("+e.dtype+") input must match"})}function XU(t){var e=[];return function n(r,a,i){if(r!=null){if(r instanceof qt)return void a.push(r);if(o=r,!(!Array.isArray(o)&&typeof o!="object")){var o,u=r;for(var c in u){var l=u[c];i.has(l)||(i.add(l),n(l,a,i))}}}}(t,e,new Set),e}var Yw,_4=function(){function t(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return t.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},t}(),_se=function(){function t(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new _4}return t.prototype.ready=function(){return De(this,void 0,void 0,function(){var e,n,r;return Me(this,function(a){switch(a.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];e=this.getSortedBackends(),n=0,a.label=1;case 1:return n<e.length?(r=e[n],[4,this.initializeBackend(r).success]):[3,5];case 2:return a.sent()?[4,this.setBackend(r)]:[3,4];case 3:return a.sent(),[2];case 4:return n++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(t.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var e=this.initializeBackendsAndReturnBest(),n=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+n+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(n)}return this.backendInstance},enumerable:!0,configurable:!0}),t.prototype.backendNames=function(){return Object.keys(this.registryFactory)},t.prototype.findBackend=function(e){return!(e in this.registry)&&(!(e in this.registryFactory)||this.initializeBackend(e).asyncInit)?null:this.registry[e]},t.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},t.prototype.registerBackend=function(e,n,r){return r===void 0&&(r=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:n,priority:r},!0)},t.prototype.setBackend=function(e){return De(this,void 0,void 0,function(){var n,r,a;return Me(this,function(i){switch(i.label){case 0:if(this.registryFactory[e]==null)throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,this.registry[e]!=null?[3,4]:(this.backendInstance=null,n=this.initializeBackend(e),r=n.success,n.asyncInit?[4,r]:[3,2]);case 1:return a=i.sent(),[3,3];case 2:a=r,i.label=3;case 3:if(!a)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new gse(this.backendInstance),[2,!0]}})})},t.prototype.setupRegisteredKernels=function(){var e=this;m4(this.backendName).forEach(function(n){n.setupFunc!=null&&n.setupFunc(e.backendInstance)})},t.prototype.disposeRegisteredKernels=function(e){var n=this;m4(e).forEach(function(r){r.disposeFunc!=null&&r.disposeFunc(n.registry[e])})},t.prototype.initializeBackend=function(e){var n=this,r=this.registryFactory[e];if(r==null)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var a=r.factory();if(Promise.resolve(a)===a){var i=++this.pendingBackendInitId,o=a.then(function(u){return!(i<n.pendingBackendInitId)&&(n.registry[e]=u,n.pendingBackendInit=null,!0)}).catch(function(u){return!(i<n.pendingBackendInitId)&&(n.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(u.stack||u.message),!1)});return this.pendingBackendInit=o,{success:o,asyncInit:!0}}return this.registry[e]=a,{success:!0,asyncInit:!1}}catch(u){return console.warn("Initialization of backend "+e+" failed"),console.warn(u.stack||u.message),{success:!1,asyncInit:!1}}},t.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},t.prototype.getSortedBackends=function(){var e=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(n,r){return e.registryFactory[r].priority-e.registryFactory[n].priority})},t.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),n=0;n<e.length;n++){var r=e[n],a=this.initializeBackend(r),i=a.success,o=a.asyncInit;if(o||i)return{name:r,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")},t.prototype.moveData=function(e,n){var r=this.state.tensorInfo.get(n),a=r.backend,i=this.readSync(n);a.disposeData(n),r.backend=e,e.move(n,i,r.shape,r.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},t.prototype.tidy=function(e,n){var r,a=this,i=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}return this.scopedRun(function(){return a.startScope(i)},function(){return a.endScope(r)},function(){return(r=n())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r})},t.prototype.scopedRun=function(e,n,r){e();try{var a=r();return n(),a}catch(i){throw n(),i}},t.prototype.nextTensorId=function(){return t.nextTensorId++},t.prototype.nextVariableId=function(){return t.nextVariableId++},t.prototype.clone=function(e){var n=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),r={x:e};return this.addTapeNode(this.state.activeScope.name,r,[n],function(a){return{x:function(){return a.toFloat()}}},[]),n},t.prototype.runKernel=function(e,n,r,a,i){return this.runKernelFunc(null,n,null,e,r,a,i)},t.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},t.prototype.checkKernelForMemLeak=function(e,n,r){var a=this.backend.numDataIds(),i=0;r.forEach(function(c){i+=c.dtype==="complex64"?3:1});var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],u=a-n-i-o;if(u>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+u+" data ids) after running '"+e+"'")},t.prototype.runKernelFunc=function(e,n,r,a,i,o,u){var c,l=this;o===void 0&&(o=[]),u===void 0&&(u=[]);var h=[],d=this.isTapeOn();a==null&&(a=this.state.activeScope!=null?this.state.activeScope.name:"");var v,m=function(S){d&&(h=S.map(function(A){return l.keep(l.clone(A))}))},y=this.state.numBytes,x=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var b,w=FU(a,this.backendName);return v=w!=null?function(){var S=l.backend.numDataIds();b=w.kernelFunc({inputs:n,attrs:i,backend:l.backend});var A=Array.isArray(b)?b:[b];l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(a,S,A);var O=A.map(function(C){var R=C.dataId,D=C.shape,M=C.dtype;return l.makeTensorFromDataId(R,D,M)}),E=O.filter(function(C,R){return u[R]});return m((o||[]).slice().concat(E)),O}:function(){var S=l.backend.numDataIds();b=l.tidy(function(){return e(l.backend,m)});var A=Array.isArray(b)?b:[b];return l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(a,S,A),A},this.scopedRun(function(){return l.state.kernelDepth++},function(){return l.state.kernelDepth--},function(){c=l.ENV.getBool("DEBUG")?l.profiler.profileKernel(a,n,function(){return v()}):v()}),d&&this.addTapeNode(a,n,c,r,h),this.state.profiling&&this.state.activeProfile.kernels.push({name:a,bytesAdded:this.state.numBytes-y,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-x,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(n).map(function(S){return n[S].shape}),outputShapes:c.map(function(S){return S.shape})}),Array.isArray(b)?c:c[0]},t.prototype.makeTensor=function(e,n,r,a){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",a=a||this.backend;var i=e;r==="string"&&VE(e[0])&&(i=e.map(function(h){return vse(h)}));var o=a.write(i,n,r),u=new qt(n,r,o,this.nextTensorId());if(this.incRef(u,a),r==="string"){var c=this.state.tensorInfo.get(o),l=hse(i);this.state.numBytes+=l-c.bytes,c.bytes=l}return u},t.prototype.makeTensorFromDataId=function(e,n,r,a){var i=new qt(n,r=r||"float32",e,this.nextTensorId());return this.incRef(i,a),i},t.prototype.makeVariable=function(e,n,r,a){n===void 0&&(n=!0),r=r||this.nextVariableId().toString(),a!=null&&a!==e.dtype&&(e=e.asType(a));var i=new Dc(e,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error("Variable with name "+i.name+" was already registered");return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i},t.prototype.incRef=function(e,n){var r=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++,r===0){this.state.numDataBuffers++;var a=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(a=e.size*$U(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:a,refCount:0}),this.state.numBytes+=a}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof Dc||this.track(e)},t.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,e.dtype==="string"&&this.state.numStringTensors--;var n=this.state.tensorInfo.get(e.dataId);n.refCount<=1?(e.dtype!=="complex64"&&(this.state.numBytes-=n.bytes),this.state.numDataBuffers--,n.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},t.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var n=this.state.registeredVariables[e];this.disposeVariable(n)}},t.prototype.disposeVariable=function(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]},t.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},t.prototype.profile=function(e){return De(this,void 0,void 0,function(){var n,r;return Me(this,function(a){return this.state.profiling=!0,n=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(i){return i.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r,[2,this.state.activeProfile]})})},t.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},t.prototype.addTapeNode=function(e,n,r,a,i){var o=this,u={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:i},c=ase(e);c!=null&&(a=c.gradFunc),a!=null&&(u.gradient=function(l){return l=l.map(function(h,d){if(h==null){var v=r[d],m=Rh(v.size,v.dtype);return o.makeTensor(m,v.shape,v.dtype)}return h}),a(l.length>1?l:l[0],i)}),this.state.activeTape.push(u)},t.prototype.keep=function(e){return e.kept=!0,e},t.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},t.prototype.endTape=function(){this.state.gradientDepth--},t.prototype.startScope=function(e){var n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n},t.prototype.endScope=function(e){for(var n=this,r=XU(e),a=new Set(r.map(function(c){return c.id})),i=0;i<this.state.activeScope.track.length;i++){var o=this.state.activeScope.track[i];o.kept||a.has(o.id)||o.dispose()}var u=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach(function(c){c.kept||c.scopeId!==u.id||n.track(c)})},t.prototype.gradients=function(e,n,r,a){var i=this;if(a===void 0&&(a=!1),z(n.length>0,function(){return"gradients() received an empty list of xs."}),r!=null&&r.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+r.dtype+"'");var o=this.scopedRun(function(){return i.startTape()},function(){return i.endTape()},function(){return i.tidy("forward",e)});z(o instanceof qt,function(){return"The result y returned by f() must be a tensor."});var u=function(c,l,h){for(var d={},v={},m=0;m<l.length;m++)d[l[m].id]=!0;for(m=0;m<c.length;m++){var y=(C=c[m]).inputs;for(var x in y){for(var b=y[x],w=!1,S=0;S<l.length;S++)if(d[b.id]){C.outputs.forEach(function(N){return d[N.id]=!0}),w=!0,v[C.id]=!0;break}if(w)break}}var A={};A[h.id]=!0;var O={};for(m=c.length-1;m>=0;m--)for(y=(C=c[m]).inputs,S=0;S<C.outputs.length;S++)if(A[C.outputs[S].id]){for(var x in y)A[y[x].id]=!0,O[C.id]=!0;break}var E=[];for(m=0;m<c.length;m++){var C;if(v[(C=c[m]).id]&&O[C.id]){var R={};for(var x in C.inputs){var D=C.inputs[x];d[D.id]&&(R[x]=D)}var M=Object.assign({},C);M.inputs=R,M.outputs=C.outputs,E.push(M)}}return E}(this.state.activeTape,n,o);if(!a&&u.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var c,l,h={};h[o.id]=r??(c=o.shape,l=HU(Pe(c),"float32"),ee.makeTensor(l,c,"float32")),function(v,m,y){for(var x=function(w){var S=m[w],A=[];if(S.outputs.forEach(function(R){var D=v[R.id];D!=null?A.push(D):A.push(null)}),S.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+S.kernelName+".");var O=S.gradient(A),E=function(R){if(!(R in O))throw new Error("Cannot backprop through input "+R+". Available gradients found: "+Object.keys(O)+".");var D=y(function(){return O[R]()});if(D.dtype!=="float32")throw new Error("Error in gradient for op "+S.kernelName+". The gradient of input "+R+" must have 'float32' dtype, but has '"+D.dtype+"'");var M=S.inputs[R];if(!Rn(D.shape,M.shape))throw new Error("Error in gradient for op "+S.kernelName+". The gradient of input '"+R+"' has shape '"+D.shape+"', which does not match the shape of the input '"+M.shape+"'");if(v[M.id]==null)v[M.id]=D;else{var N=v[M.id];v[M.id]=N.add(D),N.dispose()}};for(var C in S.inputs)E(C)},b=m.length-1;b>=0;b--)x(b)}(h,u,function(v){return i.tidy(v)});var d=n.map(function(v){return h[v.id]});return i.state.gradientDepth===0&&(i.state.activeTape.forEach(function(v){for(var m=0,y=v.saved;m<y.length;m++)y[m].dispose()}),i.state.activeTape=null),{value:o,grads:d}})},t.prototype.customGrad=function(e){var n=this;return z(lS(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var r,a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];z(a.every(function(u){return u instanceof qt}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var o={};return a.forEach(function(u,c){o[c]=u}),n.runKernelFunc(function(u,c){return z((r=e.apply(void 0,a.concat([c]))).value instanceof qt,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),z(lS(r.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),r.value},o,function(u,c){var l=r.gradFunc(u,c),h=Array.isArray(l)?l:[l];z(h.length===a.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),z(h.every(function(v){return v instanceof qt}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var d={};return h.forEach(function(v,m){d[m]=function(){return v}}),d})}},t.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},t.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},t.prototype.time=function(e){return De(this,void 0,void 0,function(){var n,r;return Me(this,function(a){switch(a.label){case 0:return n=Ia(),[4,this.backend.time(e)];case 1:return(r=a.sent()).wallMs=Ia()-n,[2,r]}})})},t.prototype.track=function(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(t.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),t.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new _4,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},t.nextTensorId=0,t.nextVariableId=0,t}(),ee=function(){var t=function(){if(Yw==null){var n=void 0;if(typeof window<"u")n=window;else if(typeof global<"u")n=global;else if(typeof process<"u")n=process;else{if(typeof self>"u")throw new Error("Could not find a global object");n=self}Yw=n}return Yw}();if(t._tfengine==null){var e=new nse(t);t._tfengine=new _se(e)}return function(n){jU=n}(t._tfengine.ENV),Ba=function(){return t._tfengine},t._tfengine}();function YU(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var yi=fe();yi.registerFlag("DEBUG",function(){return!1},function(t){t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),yi.registerFlag("IS_BROWSER",function(){return YU()}),yi.registerFlag("IS_NODE",function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0}),yi.registerFlag("IS_CHROME",function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),yi.registerFlag("PROD",function(){return!1}),yi.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return yi.getBool("DEBUG")}),yi.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),yi.registerFlag("IS_TEST",function(){return!1});var ch,kr,Pr,lu={},Qw={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Sse(t,e){lu[t]=e}function Qa(t){t in lu||(lu[t]=function(n){if(n!==1&&n!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=function(a){if(typeof OffscreenCanvas<"u"&&a===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(n);return r.addEventListener("webglcontextlost",function(a){a.preventDefault(),delete lu[n]},!1),n===1?r.getContext("webgl",Qw)||r.getContext("experimental-webgl",Qw):r.getContext("webgl2",Qw)}(t));var e=lu[t];return e.isContextLost()?(delete lu[t],Qa(t)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),lu[t])}function rg(t,e){return[e,t]}function bf(t){var e=Pe(t);return cS(Math.ceil(e/4))}function Dh(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function GE(t,e){var n,r,a,i,o,u,c,l,h,d=t;return fe().getNumber("WEBGL_VERSION")===2?(n=d.R32F,r=d.R16F,a=d.RGBA16F,i=d.RGBA32F,o=d.RED,u=4,c=1,l=d.HALF_FLOAT,h=d.FLOAT):(n=t.RGBA,r=t.RGBA,a=t.RGBA,i=d.RGBA,o=t.RGBA,u=4,c=4,l=e!=null?e.HALF_FLOAT_OES:null,h=t.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:i,textureFormatFloat:o,downloadTextureFormat:t.RGBA,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:l,textureTypeFloat:h}}function Be(t,e,n){var r=n();return e&&function(a){var i=a.getError();if(i!==a.NO_ERROR)throw new Error("WebGL Error: "+Tse(a,i))}(t),r}(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(ch||(ch={})),function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"}(kr||(kr={})),function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Pr||(Pr={}));var Ese=596e-10,Ase=65504;function Ose(t){return!!(fe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||Ese<Math.abs(t)&&Math.abs(t)<Ase)}function Tse(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}function fp(t,e,n){return Ii(t,e,function(){return t.getExtension(n)},'Extension "'+n+'" not supported on this browser.')}function Cse(t,e,n){var r=Ii(t,e,function(){return t.createShader(t.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(Be(t,e,function(){return t.shaderSource(r,n)}),Be(t,e,function(){return t.compileShader(r)}),t.getShaderParameter(r,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function Rse(t,e,n){var r=Ii(t,e,function(){return t.createShader(t.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(Be(t,e,function(){return t.shaderSource(r,n)}),Be(t,e,function(){return t.compileShader(r)}),t.getShaderParameter(r,t.COMPILE_STATUS)===!1)throw function(a,i){var o=Dse.exec(i);if(o==null)return console.log("Couldn't parse line number in error: "+i),void console.log(a);for(var u=+o[1],c=a.split(`
`),l=c.length.toString().length+2,h=c.map(function(b,w){return Qs((w+1).toString(),l)+b}),d=0,v=0;v<h.length;v++)d=Math.max(h[v].length,d);var m=h.slice(0,u-1),y=h.slice(u-1,u),x=h.slice(u);console.log(m.join(`
`)),console.log(i.split(`
`)[0]),console.log("%c "+Qs(y[0],d),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(x.join(`
`))}(n,t.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var Zw,Jw,Dse=/ERROR: [0-9]+:([0-9]+):/g;function Mse(t,e){return Ii(t,e,function(){return t.createProgram()},"Unable to create WebGLProgram.")}function Pse(t,e,n){if(Be(t,e,function(){return t.linkProgram(n)}),t.getProgramParameter(n,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function e_(t,e,n){if(Be(t,e,function(){return t.validateProgram(n)}),t.getProgramParameter(n,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function Nse(t,e,n){var r=Ii(t,e,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return Be(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)}),Be(t,e,function(){return t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)}),r}function kse(t,e,n){var r=Ii(t,e,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return Be(t,e,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r)}),Be(t,e,function(){return t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW)}),r}function Ise(t,e){return Ii(t,e,function(){return t.createTexture()},"Unable to create WebGLTexture.")}function Bse(t,e){var n=fe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){var r="["+t+"x"+e+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n)throw r="["+t+"x"+e+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+("["+n+"x"+n+"]")+".")}function Lse(t,e){return Ii(t,e,function(){return t.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function S4(t,e,n,r,a,i,o,u){var c=t.getAttribLocation(n,r);return c!==-1&&(Be(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,a)}),Be(t,e,function(){return t.vertexAttribPointer(c,i,t.FLOAT,!1,o,u)}),Be(t,e,function(){return t.enableVertexAttribArray(c)}),!0)}function jse(t,e,n,r){$se(t,r),Be(t,e,function(){return t.activeTexture(t.TEXTURE0+r)}),Be(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)})}function Fse(t,e,n,r){return Ii(t,e,function(){return t.getUniformLocation(n,r)},'uniform "'+r+'" not present in program.')}function Use(t,e,n){return t.getUniformLocation(e,n)}function qse(t,e,n,r,a,i){Be(t,e,function(){return jse(t,e,r,i)}),Be(t,e,function(){return t.uniform1i(a,i)})}function t_(t,e,n,r){Be(t,e,function(){return t.bindFramebuffer(t.FRAMEBUFFER,r)}),Be(t,e,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0)})}function E4(t,e,n){Be(t,e,function(){return t.bindFramebuffer(t.FRAMEBUFFER,n)}),Be(t,e,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)})}function hp(t){var e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+zse(t,e))}function zse(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function Ii(t,e,n,r){var a=Be(t,e,function(){return n()});if(a==null)throw new Error(r);return a}function $se(t,e){var n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+n+"]")+".")}function jv(t,e){return e===void 0&&(e=2),Pe(t.slice(0,t.length-e))}function Fv(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function n_(t){var e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[jv(t)].concat(Fv(t))),e}function Wse(t,e){var n;e===void 0&&(e=!1);var r=fe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e&&(r*=2,(t=t.map(function(l,h){return h>=t.length-2?zU(t[h]):t[h]})).length===1&&(t=[2,t[0]])),t.length!==2){var a=du(t);t=a.newShape}var i=Pe(t);if(t.length<=1&&i<=r)return[1,i];if(t.length===2&&t[0]<=r&&t[1]<=r)return t;if(t.length===3&&t[0]*t[1]<=r&&t[2]<=r)return[t[0]*t[1],t[2]];if(t.length===3&&t[0]<=r&&t[1]*t[2]<=r)return[t[0],t[1]*t[2]];if(t.length===4&&t[0]*t[1]*t[2]<=r&&t[3]<=r)return[t[0]*t[1]*t[2],t[3]];if(t.length===4&&t[0]<=r&&t[1]*t[2]*t[3]<=r)return[t[0],t[1]*t[2]*t[3]];if(e){var o=jv(t),u=2,c=2;return t.length&&(u=(n=Fv(t))[0],c=n[1]),cS(i=o*(u/2)*(c/2)).map(function(l){return 2*l})}return cS(i)}function dp(t){return t%2==0}function pp(t,e){if(Rn(t=t.slice(-2),e=e.slice(-2))||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){var n=t.slice(-1)[0],r=e.slice(-1)[0];if(n===r||dp(n)&&dp(r)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&dp(t[0])&&dp(e[0])}function Hse(t){if(Zw==null){var e=Qa(t);Zw=e.getParameter(e.MAX_TEXTURE_SIZE)}return Zw}function Vse(t){if(Jw==null){var e=Qa(t);Jw=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Jw)}function Gse(t){if(t===0)return 0;var e=Qa(t);return ra(e,"EXT_disjoint_timer_query_webgl2")&&t===2?2:ra(e,"EXT_disjoint_timer_query")?1:0}function ra(t,e){return t.getExtension(e)!=null}function A4(t){try{if(Qa(t)!=null)return!0}catch{return!1}return!1}function Kse(t){if(t===0)return!1;var e=Qa(t);if(t===1){if(!ra(e,"OES_texture_float"))return!1}else if(!ra(e,"EXT_color_buffer_float"))return!1;return mS(e)}function Xse(t){if(t===0)return!1;var e=Qa(t);if(t!==1){if(ra(e,"EXT_color_buffer_float"))return mS(e);if(ra(e,"EXT_color_buffer_half_float")){var n=e.getExtension("EXT_color_buffer_half_float");return function(r,a){var i=GE(r,a),o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texImage2D(r.TEXTURE_2D,0,i.internalFormatHalfFloat,1,1,0,i.textureFormatFloat,i.textureTypeHalfFloat,null);var u=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,u),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,o,0);var c=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(o),r.deleteFramebuffer(u),c}(e,n)}return!1}return!!ra(e,"OES_texture_float")&&!!ra(e,"WEBGL_color_buffer_float")&&mS(e)}function mS(t){var e=GE(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);var r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);var a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(r),a}function Yse(t){return t===2&&Qa(t).fenceSync!=null}var He=fe();function QU(t){fe().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Oe(t,e){return ee.tidy(t,e)}function yr(t){XU(t).forEach(function(e){return e.dispose()})}function Qse(t){return ee.keep(t)}function Uv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];fe().getBool("IS_TEST")||console.warn.apply(console,t)}function jo(t,e){var n=t;if(za(t))return e==="string"?[]:[t.length];if(!Array.isArray(t))return[];for(var r=[];Array.isArray(n)||za(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&fe().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function a(i,o,u){if(u=u||[],!Array.isArray(i)&&!za(i))return void z(o.length===0,function(){return"Element arr["+u.join("][")+"] is a primitive, but should be an array/TypedArray of "+o[0]+" elements"});z(o.length>0,function(){return"Element arr["+u.join("][")+"] should be a primitive, but is an array of "+i.length+" elements"}),z(i.length===o[0],function(){return"Element arr["+u.join("][")+"] should have "+o[0]+" elements, but has "+i.length+" elements"});for(var c=o.slice(1),l=0;l<i.length;++l)a(i[l],c,u.concat(l))}(t,r,[]),r}function O4(t,e,n,r){if(t!=null&&(t!=="numeric"&&t!==e||t==="numeric"&&e==="string"))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+t+" tensor, but got "+e+" tensor")}function F(t,e,n,r){if(r===void 0&&(r="numeric"),t instanceof qt)return O4(r,t.dtype,e,n),t;var a=Ch(t);if(a!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),O4(r,a,e,n),t==null||!za(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){var i=t==null?"null":t.constructor.name;throw new Error("Argument '"+e+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+i+"'")}var o=jo(t,a);za(t)||Array.isArray(t)||(t=[t]);var u=a!=="string"?WU(t,a,fe().getBool("DEBUG")):Rc(t,[],!0);return ee.makeTensor(u,o,a)}function qv(t,e,n,r){if(r===void 0&&(r="numeric"),!Array.isArray(t))throw new Error("Argument "+e+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return t.map(function(a,i){return F(a,e+"["+i+"]",n)},r)}function ZU(t,e){for(var n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function Zse(t,e,n){for(var r=t.length+e.length,a=[],i=0,o=0,u=0;u<r;u++)n.indexOf(u)===-1?a.push(t[i++]):a.push(e[o++]);return a}function Vn(t,e){for(var n=[],r=t.length,a=0;a<r;a++)e.indexOf(a)===-1&&n.push(t[a]);return[n,e.map(function(i){return t[i]})]}function br(t,e){return Zse(t,e.map(function(n){return 1}),e)}function Mr(t,e,n){z(ZU(e,n),function(){return t+" supports only inner-most axes for now. Got axes "+e+" and rank-"+n+" input."})}function Za(t,e){if(ZU(t,e))return null;for(var n=[],r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(function(a){return n.push(a)}),n}function KE(t){return t.map(function(e,n){return[n,e]}).sort(function(e,n){return e[1]-n[1]}).map(function(e){return e[0]})}function Ja(t,e){for(var n=[],r=e-t;r<e;++r)n.push(r);return n}function Jse(t,e){var n=t[0].length;t.forEach(function(a,i){z(a.length===n,function(){return"Error in concat"+n+"D: rank of tensors["+i+"] must be the same as the rank of the rest ("+n+")"})}),z(e>=0&&e<n,function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."});var r=t[0];t.forEach(function(a,i){for(var o=0;o<n;o++)z(o===e||a[o]===r[o],function(){return"Error in concat"+n+"D: Shape of tensors["+i+"] ("+a+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+i+"."})})}function Mc(t,e){for(var n=t[0].slice(),r=1;r<t.length;r++)n[e]+=t[r][e];return n}function X(t){var e=Object.keys(t);if(e.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+e.length+" keys.");var n=e[0],r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var a=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];ee.startScope(n);try{var u=r.apply(void 0,i);return u instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),ee.endScope(u),u}catch(c){throw ee.endScope(null),c}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}He.registerFlag("HAS_WEBGL",function(){return He.getNumber("WEBGL_VERSION")>0}),He.registerFlag("WEBGL_VERSION",function(){return A4(2)?2:A4(1)?1:0}),He.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return He.get("WEBGL_VERSION")===2}),He.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),He.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),He.registerFlag("WEBGL_PACK",function(){return He.getBool("HAS_WEBGL")}),He.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_PACK_CLIP",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),He.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_PACK_REDUCE",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_LAZILY_UNPACK",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_CONV_IM2COL",function(){return He.getBool("WEBGL_PACK")}),He.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return Hse(He.getNumber("WEBGL_VERSION"))}),He.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return Vse(He.getNumber("WEBGL_VERSION"))}),He.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var t=He.getNumber("WEBGL_VERSION");return t===0?0:Gse(t)}),He.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return He.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(t=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))));var t}),He.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return Kse(He.getNumber("WEBGL_VERSION"))}),He.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!He.getBool("WEBGL_FORCE_F16_TEXTURES")&&He.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),He.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return Xse(He.getNumber("WEBGL_VERSION"))}),He.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return Yse(He.getNumber("WEBGL_VERSION"))}),He.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return He.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),KU=QU;var Ln=X({complex_:function(t,e){var n=F(t,"real","complex"),r=F(e,"imag","complex");return xt(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),ee.runKernelFunc(function(a){return a.complex(n,r)},{$real:n,$imag:r})}}),ta=X({real_:function(t){var e=F(t,"input","real");return ee.runKernelFunc(function(n){return n.real(e)},{$input:e})}}),La=X({imag_:function(t){var e=F(t,"input","imag");return ee.runKernelFunc(function(n){return n.imag(e)},{$input:e})}});function Fn(t,e,n){return Fo(t,e,jo(t,n),n)}function Fo(t,e,n,r){if(r==null&&(r=Ch(t)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!za(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){VU(e);var a=Pe(e),i=Pe(n);z(a===i,function(){return"Based on the provided shape, ["+e+"], the tensor should have "+a+" values but has "+i});for(var o=0;o<n.length;++o){var u=n[o],c=o!==n.length-1||u!==Pe(e.slice(o));z(n[o]===e[o]||!c,function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+e+"). "})}}return za(t)||Array.isArray(t)||(t=[t]),e=e||n,t=r!=="string"?WU(t,r,fe().getBool("DEBUG")):Rc(t,[],!0),ee.makeTensor(t,e,r)}function Ee(t,e){if((za(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&za(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Fo(t,[],[],e)}function on(t,e){Vc(t);var n=jo(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Fo(t,null,n,e)}function To(t,e,n){if(Vc(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var r=jo(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Fo(t,e,r,n)}function XE(t,e,n){if(Vc(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var r=jo(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Fo(t,e,r,n)}function pr(t,e,n){if(Vc(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var r=jo(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Fo(t,e,r,n)}function ece(t,e,n){if(Vc(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var r=jo(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Fo(t,e,r,n)}function tce(t,e,n){if(Vc(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var r=jo(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Fo(t,e=e||r,r,n)}function nce(t,e,n,r){return e===void 0&&(e=!0),ee.makeVariable(t,e,n,r)}function Gc(t,e){if(e===void 0&&(e="float32"),e==="complex64"){var n=Gc(t,"float32"),r=It(t,"float32");return Ln(n,r)}var a=HU(Pe(t),e);return ee.makeTensor(a,t,e)}function It(t,e){if(e===void 0&&(e="float32"),e==="complex64"){var n=It(t,"float32"),r=It(t,"float32");return Ln(n,r)}var a=Rh(Pe(t),e);return ee.makeTensor(a,t,e)}function Wa(t,e,n){return ee.runKernelFunc(function(r){return r.fill(t,e,n)},{})}function rce(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");return ee.runKernelFunc(function(r){return r.linspace(t,e,n)},{})}function zv(t,e,n,r){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n===0)throw new Error("Cannot have a step of zero");if(t===e||t<e&&n<0||e<t&&n>1)return It([0],r);var a=Rh(Math.abs(Math.ceil((e-t)/n)),r);e<t&&n===1&&(n=-1),a[0]=t;for(var i=1;i<a.length;i++)a[i]=a[i-1]+n;return on(a,r)}var JU=X({onesLike_:function(t){var e=F(t,"x","onesLike");if(e.dtype==="complex64"){var n=JU(ta(e)),r=ht(La(e));return Ln(n,r)}return ee.runKernelFunc(function(a){return a.onesLike(e)},{$x:e},function(a,i){return{$x:function(){return ht(a)}}})}}),ht=X({zerosLike_:function(t){var e=F(t,"x","zerosLike");return ee.runKernelFunc(function(n){return n.zerosLike(e)},{$x:e},function(n,r){return{$x:function(){return ht(n)}}})}}),vn=X({concat_:function(t,e){e===void 0&&(e=0),z(t.length>=1,function(){return"Pass at least one tensor to concat"});var n=qv(t,"tensors","concat");n[0].dtype==="complex64"&&n.forEach(function(u){if(u.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+u.dtype+". ")}),e=xn(e,n[0].shape)[0];var r=Mc(n.map(function(u){return u.shape}),e);if(Pe(r)===0)return Fn([],r);if((n=n.filter(function(u){return u.size>0})).length===1)return n[0];var a=n.map(function(u){return u.shape});Jse(a,e);var i=n,o={axis:e};return ee.runKernelFunc(function(u){return u.concat(n,e)},i,function(u){var c=a.map(function(l){return l[e]});return YE(u,c,e).map(function(l){return function(){return l}})},"Concat",o)}}),ace=X({concat1d_:function(t){return vn(t,0)}}),ice=X({concat2d_:function(t,e){return vn(t,e)}}),oce=X({concat3d_:function(t,e){return vn(t,e)}}),uce=X({concat4d_:function(t,e){return vn(t,e)}}),YE=X({split_:function(t,e,n){n===void 0&&(n=0);var r,a=F(t,"x","split");return n=xn(n,a.shape)[0],typeof e=="number"?(z(a.shape[n]%e==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(e).fill(a.shape[n]/e)):(z(a.shape[n]===e.reduce(function(i,o){return i+o}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=e),ee.runKernelFunc(function(i){return i.split(a,r,n)},{$x:a},function(i){return{$x:function(){return vn(i,n)}}})}});function Fu(t,e){return t(e={exports:{}},e.exports),e.exports}var sce=Fu(function(t){(function(e,n,r){function a(u){var c,l=this,h=(c=4022871197,function(d){d=d.toString();for(var v=0;v<d.length;v++){var m=.02519603282416938*(c+=d.charCodeAt(v));m-=c=m>>>0,c=(m*=c)>>>0,c+=4294967296*(m-=c)}return 23283064365386963e-26*(c>>>0)});l.next=function(){var d=2091639*l.s0+23283064365386963e-26*l.c;return l.s0=l.s1,l.s1=l.s2,l.s2=d-(l.c=0|d)},l.c=1,l.s0=h(" "),l.s1=h(" "),l.s2=h(" "),l.s0-=h(u),l.s0<0&&(l.s0+=1),l.s1-=h(u),l.s1<0&&(l.s1+=1),l.s2-=h(u),l.s2<0&&(l.s2+=1),h=null}function i(u,c){return c.c=u.c,c.s0=u.s0,c.s1=u.s1,c.s2=u.s2,c}function o(u,c){var l=new a(u),h=c&&c.state,d=l.next;return d.int32=function(){return 4294967296*l.next()|0},d.double=function(){return d()+11102230246251565e-32*(2097152*d()|0)},d.quick=d,h&&(typeof h=="object"&&i(h,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.alea=o})(0,t)}),cce=Fu(function(t){(function(e,n,r){function a(u){var c=this,l="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var d=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^d^d>>>8},u===(0|u)?c.x=u:l+=u;for(var h=0;h<l.length+64;h++)c.x^=0|l.charCodeAt(h),c.next()}function i(u,c){return c.x=u.x,c.y=u.y,c.z=u.z,c.w=u.w,c}function o(u,c){var l=new a(u),h=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var v=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(v===0);return v},d.int32=l.next,d.quick=d,h&&(typeof h=="object"&&i(h,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xor128=o})(0,t)}),lce=Fu(function(t){(function(e,n,r){function a(u){var c=this,l="";c.next=function(){var d=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^d^d<<1)|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,u===(0|u)?c.x=u:l+=u;for(var h=0;h<l.length+64;h++)c.x^=0|l.charCodeAt(h),h==l.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function i(u,c){return c.x=u.x,c.y=u.y,c.z=u.z,c.w=u.w,c.v=u.v,c.d=u.d,c}function o(u,c){var l=new a(u),h=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var v=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(v===0);return v},d.int32=l.next,d.quick=d,h&&(typeof h=="object"&&i(h,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xorwow=o})(0,t)}),fce=Fu(function(t){(function(e,n,r){function a(u){var c=this;c.next=function(){var l,h,d=c.x,v=c.i;return l=d[v],h=(l^=l>>>7)^l<<24,h^=(l=d[v+1&7])^l>>>10,h^=(l=d[v+3&7])^l>>>3,h^=(l=d[v+4&7])^l<<7,l=d[v+7&7],h^=(l^=l<<13)^l<<9,d[v]=h,c.i=v+1&7,h},function(l,h){var d,v=[];if(h===(0|h))v[0]=h;else for(h=""+h,d=0;d<h.length;++d)v[7&d]=v[7&d]<<15^h.charCodeAt(d)+v[d+1&7]<<13;for(;v.length<8;)v.push(0);for(d=0;d<8&&v[d]===0;++d);for(d==8?v[7]=-1:v[d],l.x=v,l.i=0,d=256;d>0;--d)l.next()}(c,u)}function i(u,c){return c.x=u.x.slice(),c.i=u.i,c}function o(u,c){u==null&&(u=+new Date);var l=new a(u),h=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var v=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(v===0);return v},d.int32=l.next,d.quick=d,h&&(h.x&&i(h,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xorshift7=o})(0,t)}),hce=Fu(function(t){(function(e,n,r){function a(u){var c=this;c.next=function(){var l,h,d=c.w,v=c.X,m=c.i;return c.w=d=d+1640531527|0,h=v[m+34&127],l=v[m=m+1&127],h^=h<<13,l^=l<<17,h^=h>>>15,l^=l>>>12,h=v[m]=h^l,c.i=m,h+(d^d>>>16)|0},function(l,h){var d,v,m,y,x,b=[],w=128;for(h===(0|h)?(v=h,h=null):(h+="\0",v=0,w=Math.max(w,h.length)),m=0,y=-32;y<w;++y)h&&(v^=h.charCodeAt((y+32)%h.length)),y===0&&(x=v),v^=v<<10,v^=v>>>15,v^=v<<4,v^=v>>>13,y>=0&&(x=x+1640531527|0,m=(d=b[127&y]^=v+x)==0?m+1:0);for(m>=128&&(b[127&(h&&h.length||0)]=-1),m=127,y=512;y>0;--y)v=b[m+34&127],d=b[m=m+1&127],v^=v<<13,d^=d<<17,v^=v>>>15,d^=d>>>12,b[m]=v^d;l.w=x,l.X=b,l.i=m}(c,u)}function i(u,c){return c.i=u.i,c.w=u.w,c.X=u.X.slice(),c}function o(u,c){u==null&&(u=+new Date);var l=new a(u),h=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var v=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(v===0);return v},d.int32=l.next,d.quick=d,h&&(h.X&&i(h,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.xor4096=o})(0,t)}),dce=Fu(function(t){(function(e,n,r){function a(u){var c=this,l="";c.next=function(){var d=c.b,v=c.c,m=c.d,y=c.a;return d=d<<25^d>>>7^v,v=v-m|0,m=m<<24^m>>>8^y,y=y-d|0,c.b=d=d<<20^d>>>12^v,c.c=v=v-m|0,c.d=m<<16^v>>>16^y,c.a=y-d|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,u===Math.floor(u)?(c.a=u/4294967296|0,c.b=0|u):l+=u;for(var h=0;h<l.length+20;h++)c.b^=0|l.charCodeAt(h),c.next()}function i(u,c){return c.a=u.a,c.b=u.b,c.c=u.c,c.d=u.d,c}function o(u,c){var l=new a(u),h=c&&c.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var v=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(v===0);return v},d.int32=l.next,d.quick=d,h&&(typeof h=="object"&&i(h,l),d.state=function(){return i(l,{})}),d}n&&n.exports?n.exports=o:this.tychei=o})(0,t)}),fu=Fu(function(t){(function(e,n){var r,a=this,i=256,o=6,u="random",c=n.pow(i,o),l=n.pow(2,52),h=2*l,d=i-1;function v(w,S,A){var O=[],E=x(function D(M,N){var k,I=[],q=typeof M;if(N&&q=="object")for(k in M)try{I.push(D(M[k],N-1))}catch{}return I.length?I:q=="string"?M:M+"\0"}((S=S==1?{entropy:!0}:S||{}).entropy?[w,b(e)]:w??function(){try{var D;return r&&(D=r.randomBytes)?D=D(i):(D=new Uint8Array(i),(a.crypto||a.msCrypto).getRandomValues(D)),b(D)}catch{var M=a.navigator,N=M&&M.plugins;return[+new Date,a,N,a.screen,b(e)]}}(),3),O),C=new m(O),R=function(){for(var D=C.g(o),M=c,N=0;D<l;)D=(D+N)*i,M*=i,N=C.g(1);for(;D>=h;)D/=2,M/=2,N>>>=1;return(D+N)/M};return R.int32=function(){return 0|C.g(4)},R.quick=function(){return C.g(4)/4294967296},R.double=R,x(b(C.S),e),(S.pass||A||function(D,M,N,k){return k&&(k.S&&y(k,C),D.state=function(){return y(C,{})}),N?(n[u]=D,M):D})(R,E,"global"in S?S.global:this==n,S.state)}function m(w){var S,A=w.length,O=this,E=0,C=O.i=O.j=0,R=O.S=[];for(A||(w=[A++]);E<i;)R[E]=E++;for(E=0;E<i;E++)R[E]=R[C=d&C+w[E%A]+(S=R[E])],R[C]=S;(O.g=function(D){for(var M,N=0,k=O.i,I=O.j,q=O.S;D--;)M=q[k=d&k+1],N=N*i+q[d&(q[k]=q[I=d&I+M])+(q[I]=M)];return O.i=k,O.j=I,N})(i)}function y(w,S){return S.i=w.i,S.j=w.j,S.S=w.S.slice(),S}function x(w,S){for(var A,O=w+"",E=0;E<O.length;)S[d&E]=d&(A^=19*S[d&E])+O.charCodeAt(E++);return b(S)}function b(w){return String.fromCharCode.apply(0,w)}if(n["seed"+u]=v,x(n.random(),e),t.exports){t.exports=v;try{r=require("crypto")}catch{}}})([],Math)});fu.alea=sce,fu.xor128=cce,fu.xorwow=lce,fu.xorshift7=fce,fu.xor4096=hce,fu.tychei=dce;var ag=fu.alea,QE=function(){function t(e,n,r,a,i){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=i||Math.random();this.random=ag(o.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var n,r,a=!1;!a;){var i=void 0,o=void 0,u=void 0;do u=(i=2*this.random()-1)*i+(o=2*this.random()-1)*o;while(u>=1||u===0);var c=Math.sqrt(-2*Math.log(u)/u);n=this.mean+this.stdDev*i*c,r=this.mean+this.stdDev*o*c,this.truncated&&!this.isValidTruncated(n)||(a=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(n)},t.prototype.convertValue=function(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)},t.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},t}(),pce=function(){function t(e,n,r,a){this.alpha=e,this.beta=1/n,this.dtype=r;var i=a||Math.random();this.randu=ag(i.toString()),this.randn=new QE(0,1,r,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return t.prototype.nextValue=function(){for(var e,n,r,a,i,o;;){do a=this.randn.nextValue(),o=1+this.c*a;while(o<=0);if(o*=o*o,n=1-.331*(e=a*a)*e,r=.5*e+this.d*(1-o+Math.log(o)),(i=this.randu())<n||Math.log(i)<r)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)},t.prototype.convertValue=function(e){return this.dtype==="float32"?e:Math.round(e)},t}(),vce=function(){function t(e,n,r,a){var i=this;if(e===void 0&&(e=0),n===void 0&&(n=1),this.canReturnFloat=function(){return i.dtype==null||i.dtype==="float32"},this.min=e,this.range=n-e,this.dtype=r,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+n+" <= 1 and dtype is not float");this.random=ag(a)}return t.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},t.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},t}();function Ze(t,e,n){return e===void 0&&(e="float32"),e=e||"float32",VU(t),new sh(t,e,n)}function mce(t,e){e===void 0&&(e=!1),console.log(t.toString(e))}var eq=X({batchToSpaceND_:function(t,e,n){var r=F(t,"x","batchToSpaceND"),a=e.reduce(function(i,o){return i*o});return z(r.rank>=1+e.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+e.length}),z(n.length===e.length,function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+e.length}),z(r.shape[0]%a==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+e.join(" * ")+" === "+a}),ee.runKernelFunc(function(i){return i.batchToSpaceND(r,e,n)},{$x:r},function(i){return{$x:function(){return i.spaceToBatchND(e,n)}}})}}),gce=X({broadcastTo_:function(t,e){var n=F(t,"broadcastTo","x"),r=n.shape;if(e.some(function(c){return!(c>0)||c%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+e+"].");if(e.length<n.rank)throw new Error("broadcastTo(): shape.length="+e.length+" < input.rank="+n.rank+".");if(e.length>n.rank){for(var a=n.shape.slice();a.length<e.length;)a.unshift(1);n=n.reshape(a)}for(var i=Array.from(e),o=e.length-1;o>=0;o--)if(n.shape[o]===e[o])i[o]=1;else if(n.shape[o]!==1)throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+e+"].");var u=i.map(function(c,l){return c>1?l:-1}).filter(function(c){return c>=0});return u.length===0?n.clone():ee.runKernelFunc(function(c){return c.tile(n,i)},{input:n},function(c){return{input:function(){return c.sum(u,!0)}}})}}),yce=X({cast_:function(t,e){var n=F(t,"x","cast");if(!lse(e))throw new Error("Failed to cast to unknown dtype "+e);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");var r={dtype:e};return ee.runKernelFunc(function(a){return a.cast(n,e)},{x:n},function(a){return{x:function(){return a.clone()}}},"Cast",r)}}),bce=X({clone_:function(t){var e=F(t,"x","clone",null);return ee.runKernelFunc(function(){return ee.makeTensorFromDataId(e.dataId,e.shape,e.dtype)},{$x:e},function(n){return{$x:function(){return n.toFloat()}}})}}),xce=X({cumsum_:function(t,e,n,r){e===void 0&&(e=0),n===void 0&&(n=!1),r===void 0&&(r=!1);var a=F(t,"x","cumsum"),i=Za([e|=0],a.rank),o=a;i!=null&&(o=a.transpose(i));var u=Ja(1,a.rank)[0],c=ee.runKernelFunc(function(l){return l.cumsum(o,u,n,r)},{permutedX:o},function(l){return{permutedX:function(){return l.cumsum(e,n,!r)}}});return i!=null&&(c=c.transpose(i)),c}}),wce=X({depthToSpace_:function(t,e,n){n===void 0&&(n="NHWC");var r=F(t,"x","depthToSpace"),a=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],o=n==="NHWC"?r.shape[3]:r.shape[1];return z(a*e>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+a+" and "+e+`  for depthToSpace with input shape
      `+r.shape}),z(i*e>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+i+" and "+e+` for depthToSpace with input shape
          `+r.shape}),z(o%(e*e)==0,function(){return"Dimension size must be evenly divisible by "+e*e+" but is "+o+" for depthToSpace with input shape "+r.shape}),ee.runKernelFunc(function(u){return u.depthToSpace(r,e,n)},{$x:r})}}),Jr=X({expandDims_:function(t,e){e===void 0&&(e=0);var n=F(t,"x","expandDims",null);z(e<=n.rank,function(){return"Axis must be <= rank of the tensor"});var r=n.shape.slice();return e<0&&(z(-(n.rank+1)<=e,function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"}),e=n.rank+e+1),r.splice(e,0,1),xa(n,r)}}),tq=X({eye_:function(t,e,n,r){r===void 0&&(r="float32"),e==null&&(e=t);for(var a=Ze([t,e],r),i=t<=e?t:e,o=0;o<i;++o)a.set(1,o,o);var u=a.toTensor().as2D(t,e);if(n==null)return u;if(n.length===1)return Zs(Jr(u,0),[n[0],1,1]);if(n.length===2)return Zs(Jr(Jr(u,0),0),[n[0],n[1],1,1]);if(n.length===3)return Zs(Jr(Jr(Jr(u,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),_ce=X({multinomial_:function(t,e,n,r){r===void 0&&(r=!1);var a=F(t,"logits","multinomial"),i=a.size,o=a.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);n=n||Math.random();var u=o===1?a.as2D(1,-1):a,c=ee.runKernelFunc(function(l){return l.multinomial(u,r,e,n)},{logits2D:u});return o===1?c.as1D():c}}),gS=X({oneHot_:function(t,e,n,r){if(n===void 0&&(n=1),r===void 0&&(r=0),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);var a=F(t,"indices","oneHot","int32"),i=a.shape.concat([e]);return a=a.flatten(),ee.runKernelFunc(function(o){return o.oneHot(a,e,n,r)},{$indices:a},function(o){return{$indices:function(){return It(a.shape,"float32")}}}).reshape(i)}}),Uu=X({pad_:function(t,e,n){n===void 0&&(n=0);var r=F(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:e,constantValue:n};return ee.runKernelFunc(function(i){return i.pad(r,e,n)},{x:r},function(i){var o=e.map(function(u){return u[0]});return{x:function(){return i.slice(o,r.shape)}}},"PadV2",a)}}),Sce=X({pad1d_:function(t,e,n){return n===void 0&&(n=0),z(e.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),Uu(t,[e],n)}}),Ece=X({pad2d_:function(t,e,n){return n===void 0&&(n=0),z(e.length===2&&e[0].length===2&&e[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Uu(t,e,n)}}),Ace=X({pad3d_:function(t,e,n){return n===void 0&&(n=0),z(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Uu(t,e,n)}}),Oce=X({pad4d_:function(t,e,n){return n===void 0&&(n=0),z(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),Uu(t,e,n)}}),Tce=X({rand_:function(t,e,n){var r=Pe(t),a=null;if(n==null||n==="float32")a=new Float32Array(r);else if(n==="int32")a=new Int32Array(r);else{if(n!=="bool")throw new Error("Unknown data type "+n);a=new Uint8Array(r)}for(var i=0;i<r;i++)a[i]=e();return ee.makeTensor(a,t,n)}}),Cce=X({randomNormal_:function(t,e,n,r,a){if(e===void 0&&(e=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var i=new QE(e,n,r,!1,a),o=Ze(t,r),u=0;u<o.values.length;u++)o.values[u]=i.nextValue();return o.toTensor()}}),Rce=X({randomGamma_:function(t,e,n,r,a){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error("Unsupported data type "+r);for(var i=new pce(e,n,r,a),o=Ze(t,r),u=0;u<o.values.length;u++)o.values[u]=i.nextValue();return o.toTensor()}}),nq=X({randomUniform_:function(t,e,n,r,a){e===void 0&&(e=0),n===void 0&&(n=1),r===void 0&&(r="float32");for(var i=Ze(t,r),o=new vce(e,n,null,a),u=0;u<i.values.length;u++)i.values[u]=o.nextValue();return i.toTensor()}}),xa=X({reshape_:function(t,e){var n=F(t,"x","reshape",null);e=sse(e,n.size),z(n.size===Pe(e),function(){return"new shape and old shape must have the same number of elements."});var r={shape:e};return ee.runKernelFunc(function(a){return a.reshape(n,e)},{x:n},function(a){return{x:function(){return a.reshape(n.shape)}}},"Reshape",r)}}),rq=X({spaceToBatchND_:function(t,e,n){var r=F(t,"x","spaceToBatchND");return z(r.rank>=1+e.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+e.length}),z(n.length===e.length,function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+e.length}),z(r.shape.reduce(function(a,i,o){return o>0&&o<=e.length?a&&(i+n[o-1][0]+n[o-1][1])%e[o-1]==0:a},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+e.toString()}),ee.runKernelFunc(function(a){return a.spaceToBatchND(r,e,n)},{$x:r},function(a){return{$x:function(){return a.batchToSpaceND(e,n)}}})}}),aq=X({squeeze_:function(t,e){var n=F(t,"x","squeeze");return xa(n,du(n.shape,e).newShape)}}),Fr=X({stack_:function(t,e){e===void 0&&(e=0);var n=qv(t,"tensors","stack");if(z(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),n.length===1)return n[0].expandDims(e);var r=n[0].rank,a=n[0].shape,i=n[0].dtype;z(e<=r,function(){return"Axis must be <= rank of the tensor"}),n.forEach(function(u){xt(a,u.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(u){z(i===u.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var o=n.map(function(u){return u.expandDims(e)});return vn(o,e)}}),Zs=X({tile_:function(t,e){var n=F(t,"x","tile",null);z(n.rank===e.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+e+"."});var r=[n],a={reps:e};return ee.runKernelFunc(function(i,o){var u=i.tile(n,e);return o([n]),u},{x:n},function(i,o){var u=o[0];return{x:function(){var c=ht(u);if(u.rank===1)for(var l=0;l<e[0];++l)c=c.add(i.slice([l*u.shape[0]],[u.shape[0]]));else if(u.rank===2)for(l=0;l<e[0];++l)for(var h=0;h<e[1];++h)c=c.add(i.slice([l*u.shape[0],h*u.shape[1]],[u.shape[0],u.shape[1]]));else if(u.rank===3)for(l=0;l<e[0];++l)for(h=0;h<e[1];++h)for(var d=0;d<e[2];++d)c=c.add(i.slice([l*u.shape[0],h*u.shape[1],d*u.shape[2]],[u.shape[0],u.shape[1],u.shape[2]]));else{if(u.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+u.rank+" tensors yet.");for(l=0;l<e[0];++l)for(h=0;h<e[1];++h)for(d=0;d<e[2];++d)for(var v=0;v<e[3];++v)c=c.add(i.slice([l*u.shape[0],h*u.shape[1],d*u.shape[2],v*u.shape[3]],[u.shape[0],u.shape[1],u.shape[2],u.shape[3]]))}return c}}},"Tile",a,r)}}),Dce=X({truncatedNormal_:function(t,e,n,r,a){if(e===void 0&&(e=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var i=new QE(e,n,r,!0,a),o=Ze(t,r),u=0;u<o.values.length;u++)o.values[u]=i.nextValue();return o.toTensor()}}),mn=X({unstack_:function(t,e){e===void 0&&(e=0),e=e||0;var n=F(t,"x","unstack");z(e>=-n.shape.length&&e<n.shape.length,function(){return"Axis = "+e+" is not in [-"+n.shape.length+", "+n.shape.length+")"}),e<0&&(e+=n.shape.length);var r={axis:e};return ee.runKernelFunc(function(a){return a.unstack(n,e)},{x:n},function(a){return{x:function(){return Fr(a,e)}}},"Unpack",r)}}),Mce=function(t,e){return De(this,void 0,void 0,function(){var n,r,a,i,o,u,c,l,h,d;return Me(this,function(v){switch(v.label){case 0:return n=F(t,"x","setdiff1d"),r=F(e,"y","setdiff1d"),z(n.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."}),z(n.rank===1,function(){return"x should be 1D tensor, but got x ("+n.shape+")."}),z(r.rank===1,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,n.data()];case 1:return a=v.sent(),[4,r.data()];case 2:for(i=v.sent(),o=new Set(i),u=0,h=0;h<a.length;h++)o.has(a[h])||u++;for(c=new sh([u],n.dtype),l=new sh([u],"int32"),h=0,d=0;h<a.length;h++)o.has(a[h])||(c.values[d]=a[h],l.values[d]=h,d++);return[2,[c.toTensor(),l.toTensor()]]}})})};function $v(t,e,n,r){r===void 0&&(r=!0);var a=[];if(r)(a=a.concat(e.slice(0))).push(t[0]/n),a=a.concat(t.slice(1));else{a=a.concat(t[0]);for(var i=e.length,o=0;o<i;++o)a=a.concat([t[o+1]/e[o],e[o]]);a=a.concat(t.slice(i+1))}return a}function Wv(t,e,n){n===void 0&&(n=!0);var r=[];if(n){r.push(e);for(var a=e+1;a<t;++a)a<=2*e?(r.push(a),r.push(a-(e+1))):r.push(a)}else{var i=[],o=[];for(a=1;a<t;++a)a>=2*e+1||a%2==1?o.push(a):i.push(a);r.push.apply(r,i),r.push(0),r.push.apply(r,o)}return r}function Hv(t,e,n,r){r===void 0&&(r=!0);var a=[];r?a.push(t[0]/n):a.push(t[0]*n);for(var i=1;i<t.length;++i)i<=e.length?r?a.push(e[i-1]*t[i]):a.push(t[i]/e[i-1]):a.push(t[i]);return a}function iq(t,e){for(var n=[0],r=0;r<e;++r)n.push(t[r][0]);return n}function oq(t,e,n){for(var r=t.slice(0,1),a=0;a<n;++a)r.push(t[a+1]-e[a][0]-e[a][1]);return r}function uq(t,e){if(t.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(e.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.shape[e.rank-1]>t.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+e.shape[e.rank-1]+" vs. "+t.rank);if(t.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+t.shape+".");for(var n=e.shape,r=n[n.length-1],a=1,i=0;i<n.length-1;++i)a*=n[i];var o=t.shape,u=n.slice();u.pop();var c=1;for(i=r;i<t.rank;++i)c*=o[i],u.push(o[i]);var l=$a(t.shape).map(function(h){return h/c}).concat([1]).slice(0,r);return[u,a,c,l]}var sq=30;function r_(t){return t<=sq?t:fS(t,Math.floor(Math.sqrt(t)))}function Pce(t,e,n){var r=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+e.shape+", shape: "+t+", sliceDim: "+r+", and batchDim: "+a+".";if(n.rank<a)throw new Error(i+" update.rank < "+a+". ");if(t.length<r+(n.rank-a))throw new Error(i+" Output shape length < "+(r+(n.rank-a)));if(n.rank!==a+t.length-r)throw new Error(i+" update.rank != "+(a+t.length-r));for(var o=0;o<a;++o)if(n.shape[o]!==e.shape[o])throw new Error(i+" updates.shape["+o+"] ("+n.shape[o]+") != indices.shape["+o+"] ("+e.shape[o]+").");for(o=0;o<n.rank-a;++o)if(n.shape[o+a]!==t[o+r])throw new Error(i+" updates.shape["+(o+a)+"] ("+n.shape[o+a]+") != shape["+(o+a)+"] ("+t[o+a]+")")}function Nce(t,e,n){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+t.rank+".");if(e.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(n.length===0){if(e.size===0)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(t.size===0)throw new Error("Updates specified for empty output. updates shape: "+t.shape)}Pce(n,e,t)}function Vv(t,e,n){for(var r=e.shape.length,a=r>1?e.shape[r-1]:1,i=n.length,o=1,u=a;u<i;++u)o*=n[u];var c=a<1?1:a;return{sliceRank:a,numUpdates:Pe(e.shape)/c,sliceSize:o,strides:$a(n.slice(0,a)).concat([1]),outputSize:Pe(n)}}function kce(t,e,n){z(t.rank===e.length,function(){return"Error in slice"+t.rank+"D: Length of begin "+e+" must match the rank of the array ("+t.rank+")."}),z(t.rank===n.length,function(){return"Error in slice"+t.rank+"D: Length of size "+n+" must match the rank of the array ("+t.rank+")."});for(var r=function(i){z(e[i]+n[i]<=t.shape[i],function(){return"Error in slice"+t.rank+"D: begin["+i+"] + size["+i+"] ("+(e[i]+n[i])+") would overflow input.shape["+i+"] ("+t.shape[i]+")"})},a=0;a<t.rank;++a)r(a)}function T4(t){for(var e=[],n=0;t>0;)1&t&&e.push(n),t/=2,n++;return e}function ZE(t,e,n){for(var r=[],a=0;a<t.length;a++)r[a]=Math.ceil((e[a]-t[a])/n[a]);return r}function Ice(t,e,n,r,a){var i=e[a],o=n[a]||1;(t&1<<a||i==null)&&(i=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var u=r[a];return i<0&&(i+=u),i=sS(0,i,u-1)}function Bce(t,e,n,r,a){var i=e[a],o=n[a]||1;(t&1<<a||i==null)&&(i=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var u=r[a];return i<0&&(i+=u),i=o>0?sS(0,i,u):sS(-1,i,u-1)}function cq(t,e,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(a=r+1;a<n.length;a++)if(e[a]>0||n[a]!==t[a])return!1;return!0}function lq(t,e){for(var n=t.length>0?t[t.length-1]:1,r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function Lce(t,e){z(lS(t),function(){return"The f passed in variableGrads(f) must be a function"}),z(e==null||Array.isArray(e)&&e.every(function(h){return h instanceof Dc}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=e!=null;if(!n)for(var r in e=[],ee.registeredVariables)e.push(ee.registeredVariables[r]);var a=n?e.filter(function(h){return!h.trainable}):null,i=e.length;z((e=e.filter(function(h){return h.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+i+" variables is trainable."});var o=ee.gradients(t,e,null,!0),u=o.value,c=o.grads;z(c.some(function(h){return h!=null}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),z(u.rank===0,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+u.rank+" tensor"});var l={};return e.forEach(function(h,d){c[d]!=null&&(l[h.name]=c[d])}),a!=null&&a.forEach(function(h){return l[h.name]=null}),{value:u,grads:l}}function ig(t){return ee.customGrad(t)}var Bi=X({softmax_:function(t,e){e===void 0&&(e=-1);var n=F(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+e);return ee.runKernelFunc(function(r,a){var i=r.softmax(n,e);return a([i]),i},{logits:n},function(r,a){var i=a[0],o=r.mul(i);return{logits:function(){return o.sub(o.sum([e],!0).mul(i))}}},"Softmax",{dim:e},[],[!0])}}),jce=X({logSoftmax_:function(t,e){e===void 0&&(e=-1);var n=F(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+e);return ig(function(r,a){var i=r.max(e,!0),o=r.sub(i),u=o.toFloat().sub(o.exp().sum(e,!0).log());return a([u]),{value:u,gradFunc:function(c,l){var h=l[0].exp();return c.sub(c.sum(e,!0).mul(h))}}})(n)}}),fq=function(){function t(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return t.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},t.prototype.set=function(e,n){this.dataIdsCount++,this.data.set(e,n)},t.prototype.has=function(e){return this.data.has(e)},t.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},t.prototype.numDataIds=function(){return this.dataIdsCount},t}(),hq=function(){function t(){}return t.prototype.time=function(e){return ue("time")},t.prototype.read=function(e){return ue("read")},t.prototype.readSync=function(e){return ue("readSync")},t.prototype.numDataIds=function(){return ue("numDataIds")},t.prototype.disposeData=function(e){return ue("disposeData")},t.prototype.write=function(e,n,r){return ue("write")},t.prototype.move=function(e,n,r,a){return ue("move")},t.prototype.memory=function(){return ue("memory")},t.prototype.floatPrecision=function(){return ue("floatPrecision")},t.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},t.prototype.batchMatMul=function(e,n,r,a){return ue("batchMatMul")},t.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,ue("fusedBatchMatMul")},t.prototype.slice=function(e,n,r){return ue("slice")},t.prototype.stridedSlice=function(e,n,r,a){return ue("stridedSlice")},t.prototype.unstack=function(e,n){return ue("unstack")},t.prototype.reverse=function(e,n){return ue("reverse")},t.prototype.concat=function(e,n){return ue("concat")},t.prototype.neg=function(e){return ue("neg")},t.prototype.add=function(e,n){return ue("add")},t.prototype.addN=function(e){return ue("addN")},t.prototype.subtract=function(e,n){return ue("subtract")},t.prototype.multiply=function(e,n){return ue("multiply")},t.prototype.realDivide=function(e,n){return ue("realDivide")},t.prototype.floorDiv=function(e,n){return ue("floorDiv")},t.prototype.sum=function(e,n){return ue("sum")},t.prototype.prod=function(e,n){return ue("prod")},t.prototype.unsortedSegmentSum=function(e,n,r){return ue("unsortedSegmentSum")},t.prototype.argMin=function(e,n){return ue("argMin")},t.prototype.argMax=function(e,n){return ue("argMax")},t.prototype.equal=function(e,n){return ue("equal")},t.prototype.notEqual=function(e,n){return ue("notEqual")},t.prototype.less=function(e,n){return ue("less")},t.prototype.lessEqual=function(e,n){return ue("lessEqual")},t.prototype.greater=function(e,n){return ue("greater")},t.prototype.greaterEqual=function(e,n){return ue("greaterEqual")},t.prototype.logicalNot=function(e){return ue("logicalNot")},t.prototype.logicalAnd=function(e,n){return ue("logicalAnd")},t.prototype.logicalOr=function(e,n){return ue("logicalOr")},t.prototype.where=function(e){return ue("where")},t.prototype.select=function(e,n,r){return ue("select")},t.prototype.topk=function(e,n,r){return ue("topk")},t.prototype.min=function(e,n){return ue("min")},t.prototype.minimum=function(e,n){return ue("minimum")},t.prototype.mod=function(e,n){return ue("mod")},t.prototype.max=function(e,n){return ue("max")},t.prototype.maximum=function(e,n){return ue("maximum")},t.prototype.all=function(e,n){return ue("all")},t.prototype.any=function(e,n){return ue("any")},t.prototype.squaredDifference=function(e,n){return ue("squaredDifference")},t.prototype.ceil=function(e){return ue("ceil")},t.prototype.floor=function(e){return ue("floor")},t.prototype.round=function(e){return ue("round")},t.prototype.sign=function(e){return ue("sign")},t.prototype.isNaN=function(e){return ue("isNaN")},t.prototype.isInf=function(e){return ue("isInf")},t.prototype.isFinite=function(e){return ue("isFinite")},t.prototype.pow=function(e,n){return ue("pow")},t.prototype.exp=function(e){return ue("exp")},t.prototype.expm1=function(e){return ue("expm1")},t.prototype.softmax=function(e,n){return ue("softmax")},t.prototype.log=function(e){return ue("log")},t.prototype.log1p=function(e){return ue("log1p")},t.prototype.sqrt=function(e){return ue("sqrt")},t.prototype.rsqrt=function(e){return ue("rsqrt")},t.prototype.square=function(e){return ue("square")},t.prototype.reciprocal=function(e){return ue("reciprocal")},t.prototype.relu=function(e){return ue("relu")},t.prototype.relu6=function(e){return ue("relu6")},t.prototype.prelu=function(e,n){return ue("prelu")},t.prototype.elu=function(e){return ue("elu")},t.prototype.eluDer=function(e,n){return ue("eluDer")},t.prototype.selu=function(e){return ue("selu")},t.prototype.int=function(e){return ue("int")},t.prototype.clip=function(e,n,r){return ue("clip")},t.prototype.abs=function(e){return ue("abs")},t.prototype.complexAbs=function(e){return ue("complexAbs")},t.prototype.sigmoid=function(e){return ue("sigmoid")},t.prototype.softplus=function(e){return ue("softplus")},t.prototype.sin=function(e){return ue("sin")},t.prototype.cos=function(e){return ue("cos")},t.prototype.tan=function(e){return ue("tan")},t.prototype.asin=function(e){return ue("asin")},t.prototype.acos=function(e){return ue("acos")},t.prototype.atan=function(e){return ue("atan")},t.prototype.atan2=function(e,n){return ue("atan2")},t.prototype.sinh=function(e){return ue("sinh")},t.prototype.cosh=function(e){return ue("cosh")},t.prototype.tanh=function(e){return ue("tanh")},t.prototype.asinh=function(e){return ue("asinh")},t.prototype.acosh=function(e){return ue("acosh")},t.prototype.atanh=function(e){return ue("atanh")},t.prototype.erf=function(e){return ue("erf")},t.prototype.step=function(e,n){return ue("step")},t.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,ue("fusedConv2d")},t.prototype.conv2d=function(e,n,r){return ue("conv2d")},t.prototype.conv2dDerInput=function(e,n,r){return ue("conv2dDerInput")},t.prototype.conv2dDerFilter=function(e,n,r){return ue("conv2dDerFilter")},t.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,ue("fusedDepthwiseConv2D")},t.prototype.depthwiseConv2D=function(e,n,r){return ue("depthwiseConv2D")},t.prototype.depthwiseConv2DDerInput=function(e,n,r){return ue("depthwiseConv2DDerInput")},t.prototype.depthwiseConv2DDerFilter=function(e,n,r){return ue("depthwiseConv2DDerFilter")},t.prototype.conv3d=function(e,n,r){return ue("conv3d")},t.prototype.conv3dDerInput=function(e,n,r){return ue("conv3dDerInput")},t.prototype.conv3dDerFilter=function(e,n,r){return ue("conv3dDerFilter")},t.prototype.maxPool=function(e,n){return ue("maxPool")},t.prototype.maxPoolBackprop=function(e,n,r,a){return ue("maxPoolBackprop")},t.prototype.avgPool=function(e,n){return ue("avgPool")},t.prototype.avgPoolBackprop=function(e,n,r){return ue("avgPoolBackprop")},t.prototype.avgPool3d=function(e,n){return ue("avgPool3d")},t.prototype.avgPool3dBackprop=function(e,n,r){return ue("avgPool3dBackprop")},t.prototype.maxPool3d=function(e,n){return ue("maxPool3d")},t.prototype.maxPool3dBackprop=function(e,n,r,a){return ue("maxPool3dBackprop")},t.prototype.reshape=function(e,n){return ue("reshape")},t.prototype.cast=function(e,n){return ue("cast")},t.prototype.tile=function(e,n){return ue("tile")},t.prototype.pad=function(e,n,r){return ue("pad")},t.prototype.transpose=function(e,n){return ue("transpose")},t.prototype.gather=function(e,n,r){return ue("gather")},t.prototype.gatherND=function(e,n){return ue("gatherND")},t.prototype.scatterND=function(e,n,r){return ue("scatterND")},t.prototype.batchToSpaceND=function(e,n,r){return ue("batchToSpaceND")},t.prototype.spaceToBatchND=function(e,n,r){return ue("spaceToBatchND")},t.prototype.resizeBilinear=function(e,n,r,a){return ue("resizeBilinear")},t.prototype.resizeBilinearBackprop=function(e,n,r){return ue("resizeBilinearBackprop")},t.prototype.resizeNearestNeighbor=function(e,n,r,a){return ue("resizeNearestNeighbor")},t.prototype.resizeNearestNeighborBackprop=function(e,n,r){return ue("resizeNearestNeighborBackprop")},t.prototype.batchNormalization=function(e,n,r,a,i,o){return ue("batchNormalization")},t.prototype.localResponseNormalization4D=function(e,n,r,a,i){return ue("localResponseNormalization4D")},t.prototype.LRNGrad=function(e,n,r,a,i,o,u){return ue("LRNGrad")},t.prototype.multinomial=function(e,n,r,a){return ue("multinomial")},t.prototype.oneHot=function(e,n,r,a){return ue("oneHot")},t.prototype.cumsum=function(e,n,r,a){return ue("cumsum")},t.prototype.nonMaxSuppression=function(e,n,r,a,i){return ue("nonMaxSuppression")},t.prototype.fft=function(e){return ue("fft")},t.prototype.ifft=function(e){return ue("ifft")},t.prototype.complex=function(e,n){return ue("complex")},t.prototype.real=function(e){return ue("real")},t.prototype.imag=function(e){return ue("imag")},t.prototype.cropAndResize=function(e,n,r,a,i,o){return ue("cropAndResize")},t.prototype.depthToSpace=function(e,n,r){return ue("depthToSpace")},t.prototype.split=function(e,n,r){return ue("split")},t.prototype.sparseToDense=function(e,n,r,a){return ue("sparseToDense")},t.prototype.diag=function(e){return ue("diag")},t.prototype.fill=function(e,n,r){return ue("fill")},t.prototype.onesLike=function(e){return ue("onesLike")},t.prototype.zerosLike=function(e){return ue("zerosLike")},t.prototype.linspace=function(e,n,r){return ue("linspace")},t.prototype.dispose=function(){return ue("dispose")},t}();function ue(t){throw new Error("'"+t+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function xo(t,e){for(var n=t.length,r=[],a=0;a<n;a++){var i=n-1-a,o=t[i]||1;(e[e.length-1-a]||1)>1&&o===1&&r.unshift(i)}return r}function gn(t,e){for(var n=[],r=0;r<e.length;r++){var a=t[t.length-r-1],i=e.length-r-1,o=e[i];(a==null||a===1&&o>1)&&n.unshift(i)}return n}function st(t,e){for(var n=[],r=Math.max(t.length,e.length),a=0;a<r;a++){var i=t[t.length-a-1];i==null&&(i=1);var o=e[e.length-a-1];if(o==null&&(o=1),i===1)n.unshift(o);else if(o===1)n.unshift(i);else{if(i!==o)throw Error("Operands could not be broadcast together with shapes "+t+" and "+e+".");n.unshift(i)}}return n}function lh(t,e,n,r,a,i,o){o===void 0&&(o="channelsLast");var u,c=Xv(e),l=c[0],h=c[1];if(o==="channelsLast")u=[l,h,t[3],t[3]];else{if(o!=="channelsFirst")throw new Error("Unknown dataFormat "+o);u=[l,h,t[1],t[1]]}return qu(t,u,n,r,a,i,!1,o)}function Gv(t,e,n,r,a,i,o){o===void 0&&(o="NDHWC");var u,c,l=yS(e),h=l[0],d=l[1],v=l[2];if(o==="NDHWC")c="channelsLast",u=[h,d,v,t[4],t[4]];else{if(o!=="NCDHW")throw new Error("Unknown dataFormat "+o);c="channelsFirst",u=[h,d,v,t[1],t[1]]}return Kv(t,u,n,r,a,!1,c,i)}function qu(t,e,n,r,a,i,o,u){o===void 0&&(o=!1),u===void 0&&(u="channelsLast");var c=[-1,-1,-1,-1],l=c[0],h=c[1],d=c[2],v=c[3];if(u==="channelsLast")l=t[0],h=t[1],d=t[2],v=t[3];else{if(u!=="channelsFirst")throw new Error("Unknown dataFormat "+u);l=t[0],v=t[1],h=t[2],d=t[3]}var m,y=e[0],x=e[1],b=e[3],w=Xv(n),S=w[0],A=w[1],O=Xv(r),E=O[0],C=O[1],R=Js(y,E),D=Js(x,C),M=function(W,$,j,U,H,Y,B,K){var J,ne,ve;if(typeof W=="number"){J={top:W,bottom:W,left:W,right:W,type:W===0?"VALID":"NUMBER"};var we=function(Se,le,Le,Ie,Ge){Ie==null&&(Ie=dq(Se,le,Le));var Ke=Se[0],ct=Se[1],Xt=xf((Ke-le+2*Ie)/Le+1,Ge);z(Jt(Xt),function(){return"The output # of rows ("+Xt+") must be an integer. Change the stride and/or zero pad parameters"});var Ft=xf((ct-le+2*Ie)/Le+1,Ge);return z(Jt(Ft),function(){return"The output # of columns ("+Ft+") must be an integer. Change the stride and/or zero pad parameters"}),[Xt,Ft]}([$,j],Y,U,W,K);ne=we[0],ve=we[1]}else if(W==="same"){ne=Math.ceil($/U),ve=Math.ceil(j/H);var xe=Math.max(0,(ne-1)*U+Y-$),Fe=Math.max(0,(ve-1)*H+B-j),Ae=Math.floor(xe/2),ge=xe-Ae,Te=Math.floor(Fe/2);J={top:Ae,bottom:ge,left:Te,right:Fe-Te,type:"SAME"}}else{if(W!=="valid")throw Error("Unknown padding parameter: "+W);J={top:0,bottom:0,left:0,right:0,type:"VALID"},ne=Math.ceil(($-Y+1)/U),ve=Math.ceil((j-B+1)/H)}return{padInfo:J,outHeight:ne,outWidth:ve}}(a,h,d,S,A,R,D,i),N=M.padInfo,k=M.outHeight,I=M.outWidth,q=o?b*v:b;return u==="channelsFirst"?m=[l,q,k,I]:u==="channelsLast"&&(m=[l,k,I,q]),{batchSize:l,dataFormat:u,inHeight:h,inWidth:d,inChannels:v,outHeight:k,outWidth:I,outChannels:q,padInfo:N,strideHeight:S,strideWidth:A,filterHeight:y,filterWidth:x,effectiveFilterHeight:R,effectiveFilterWidth:D,dilationHeight:E,dilationWidth:C,inShape:t,outShape:m,filterShape:e}}function Kv(t,e,n,r,a,i,o,u){i===void 0&&(i=!1),o===void 0&&(o="channelsLast");var c=[-1,-1,-1,-1,-1],l=c[0],h=c[1],d=c[2],v=c[3],m=c[4];if(o==="channelsLast")l=t[0],h=t[1],d=t[2],v=t[3],m=t[4];else{if(o!=="channelsFirst")throw new Error("Unknown dataFormat "+o);l=t[0],m=t[1],h=t[2],d=t[3],v=t[4]}var y,x=e[0],b=e[1],w=e[2],S=e[4],A=yS(n),O=A[0],E=A[1],C=A[2],R=yS(r),D=R[0],M=R[1],N=R[2],k=Js(x,D),I=Js(b,M),q=Js(w,N),W=function(B,K,J,ne,ve,we,xe,Fe,Ae,ge,Te){var Se,le,Le,Ie;if(typeof B=="number"){Se={top:B,bottom:B,left:B,right:B,front:B,back:B,type:B===0?"VALID":"NUMBER"};var Ge=function(sa,sr,ti,tn,cn,Pn){cn==null&&(cn=dq(sa,sr,tn));var bg=sa[0],xg=sa[1],wg=sa[2],qi=xf((bg-sr+2*cn)/tn+1,Pn);z(Jt(qi),function(){return"The output # of depths ("+qi+") must be an integer. Change the stride and/or zero pad parameters"});var zi=xf((xg-sr+2*cn)/tn+1,Pn);z(Jt(zi),function(){return"The output # of rows ("+zi+") must be an integer. Change the stride and/or zero pad parameters"});var ca=xf((wg-sr+2*cn)/tn+1,Pn);return z(Jt(ca),function(){return"The output # of columns ("+ca+") must be an integer. Change the stride and/or zero pad parameters"}),[qi,zi,ca,ti]}([K,J,ne,1],Fe,1,ve,B,Te);le=Ge[0],Le=Ge[1],Ie=Ge[2]}else if(B==="same"){le=Math.ceil(K/ve),Le=Math.ceil(J/we),Ie=Math.ceil(ne/xe);var Ke=(le-1)*ve+Fe-K,ct=(Le-1)*we+Ae-J,Xt=(Ie-1)*xe+ge-ne,Ft=Math.floor(Ke/2),ur=Ke-Ft,Wt=Math.floor(ct/2),wn=ct-Wt,qn=Math.floor(Xt/2);Se={top:Wt,bottom:wn,left:qn,right:Xt-qn,front:Ft,back:ur,type:"SAME"}}else{if(B!=="valid")throw Error("Unknown padding parameter: "+B);Se={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},le=Math.ceil((K-Fe+1)/ve),Le=Math.ceil((J-Ae+1)/we),Ie=Math.ceil((ne-ge+1)/xe)}return{padInfo:Se,outDepth:le,outHeight:Le,outWidth:Ie}}(a,h,d,v,O,E,C,k,I,q,u),$=W.padInfo,j=W.outDepth,U=W.outHeight,H=W.outWidth,Y=i?S*m:S;return o==="channelsFirst"?y=[l,Y,j,U,H]:o==="channelsLast"&&(y=[l,j,U,H,Y]),{batchSize:l,dataFormat:o,inDepth:h,inHeight:d,inWidth:v,inChannels:m,outDepth:j,outHeight:U,outWidth:H,outChannels:Y,padInfo:$,strideDepth:O,strideHeight:E,strideWidth:C,filterDepth:x,filterHeight:b,filterWidth:w,effectiveFilterDepth:k,effectiveFilterHeight:I,effectiveFilterWidth:q,dilationDepth:D,dilationHeight:M,dilationWidth:N,inShape:t,outShape:y,filterShape:e}}function dq(t,e,n,r){r===void 0&&(r=1);var a=Js(e,r);return Math.floor((t[0]*(n-1)-n+a)/2)}function Xv(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function yS(t){return typeof t=="number"?[t,t,t]:t}function Js(t,e){return e<=1?t:t+(t-1)*(e-1)}function xf(t,e){if(!e)return t;switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}function Pc(t){var e=Xv(t),n=e[0],r=e[1],a=e[2];return n===1&&r===1&&a===1}function xr(t,e){return Pc(t)||Pc(e)}function JE(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+t)}function pq(t,e,n){if(e==="complex64"){if(t.dtype==="complex64")return t.clone();var r=It(t.shape),a=t.toFloat(),i=n.complex(a,r);return r.dispose(),a.dispose(),i}if(!fse(t.dtype,e))return ee.makeTensorFromDataId(t.dataId,t.shape,e);if(t.dtype==="complex64"){var o=n.real(t);return i=o.cast(e),o.dispose(),i}if(e==="int32")return n.int(t);if(e==="bool"){var u=Ee(0,t.dtype);return i=n.notEqual(t,u),u.dispose(),i}throw new Error("Error in Cast: failed to cast "+t.dtype+" to "+e)}function bS(t,e){return ee.makeTensorFromDataId(t.dataId,e,t.dtype)}function vq(t,e,n){var r=(e-t)/(n-1),a=Rh(n,"float32");a[0]=t;for(var i=1;i<a.length;i++)a[i]=a[i-1]+r;return on(a,"float32")}function xS(t,e){if(t.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+t.length+", imag: "+e.length+".");for(var n=new Float32Array(2*t.length),r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function C4(t,e){return{real:t[2*e],imag:t[2*e+1]}}function Fce(t,e,n,r){t[2*r]=e,t[2*r+1]=n}function Uce(t,e,n){var r=(n?2:-2)*Math.PI*(t/e);return{real:Math.cos(r),imag:Math.sin(r)}}function qce(t,e,n){var r=function(i,o,u){return function(c,l,h){for(var d=0,v=c.length,m=0,y=!1;d<v;){var x=h(l,c[m=d+(v-d>>>1)]);x>0?d=m+1:(v=m,y=!x)}return y?d:-d-1}(i,o,u||zce)}(t,e,n),a=r<0?-(r+1):r;t.splice(a,0,e)}function zce(t,e){return t>e?1:t<e?-1:0}function eA(t,e,n,r,a){return mq(t,e,n,r,a,0).selectedIndices}function tA(t,e,n,r,a,i){var o=mq(t,e,n,r,a,i);return o.numValidOutputs.dispose(),{selectedIndices:o.selectedIndices,selectedScores:o.selectedScores}}function mq(t,e,n,r,a,i,o,u){u===void 0&&(u=!1);for(var c=Array.from(e).map(function(O,E){return{score:O,boxIndex:E,suppressBeginIndex:0}}).filter(function(O){return O.score>a}).sort(R4),l=i>0?-.5/i:0,h=[],d=[];h.length<n&&c.length>0;){var v=c.pop(),m=v.score,y=v.boxIndex,x=v.suppressBeginIndex;if(m<a)break;for(var b=!1,w=h.length-1;w>=x;--w){var S=$ce(t,y,h[w]);if(S>=r){b=!0;break}if(v.score=v.score*Wce(r,l,S),v.score<=a)break}v.suppressBeginIndex=h.length,b||(v.score===m?(h.push(y),d.push(v.score)):v.score>a&&qce(c,v,R4))}var A=h.length;return u&&(h.fill(0,A),d.fill(0,A)),{selectedIndices:on(h,"int32"),selectedScores:on(d,"float32"),numValidOutputs:Ee(A,"int32")}}function $ce(t,e,n){var r=t.subarray(4*e,4*e+4),a=t.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),u=Math.max(r[0],r[2]),c=Math.max(r[1],r[3]),l=Math.min(a[0],a[2]),h=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),v=Math.max(a[1],a[3]),m=(u-i)*(c-o),y=(d-l)*(v-h);if(m<=0||y<=0)return 0;var x=Math.max(i,l),b=Math.max(o,h),w=Math.min(u,d),S=Math.min(c,v),A=Math.max(w-x,0)*Math.max(S-b,0);return A/(m+y-A)}function Wce(t,e,n){var r=Math.exp(e*n*n);return n<=t?r:0}function R4(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}function gq(t,e,n){var r=new Array(t.rank).fill(0),a=t.shape.slice();return e.map(function(i){a[n]=i;var o=t.slice(r,a);return r[n]+=i,o})}function yq(t,e){for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];var a=Ze(n,t.dtype);for(r=0;r<a.values.length;++r){for(var i=a.indexToLoc(r),o=new Array(t.rank),u=0;u<o.length;u++)o[u]=i[u]%t.shape[u];var c=t.locToIndex(o);a.values[r]=t.values[c]}return a.toTensor()}function bq(t,e,n,r,a){for(var i=e[e.length-1],o=[t.length/i,i],u=o[0],c=o[1],l=uh(n,u*r),h=uh("int32",u*r),d=0;d<u;d++){for(var v=d*c,m=t.subarray(v,v+c),y=[],x=0;x<m.length;x++)y.push({value:m[x],index:x});y.sort(function(O,E){return E.value-O.value});var b=d*r,w=l.subarray(b,b+r),S=h.subarray(b,b+r);for(x=0;x<r;x++)w[x]=y[x].value,S[x]=y[x].index}var A=e.slice();return A[A.length-1]=r,[Fn(l,A,n),Fn(h,A,"int32")]}function nA(t,e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(r);var a=Ze(t,"int32"),i=Ze([n.length,t.length],"int32");for(r=0;r<n.length;r++){var o=a.indexToLoc(n[r]),u=r*t.length;i.values.set(o,u)}return i.toTensor()}var Hce=function(t,e){this.outputShape=[],this.outputShape=t,this.variableNames=e.map(function(a,i){return"T"+i});var n=[];this.variableNames.forEach(function(a){n.push("float v"+a+" = get"+a+"AtOutCoords();")});var r=this.variableNames.map(function(a){return"v"+a}).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        float result = `+r+`;
        setOutput(result);
      }
    `},Vce=function(t,e){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=e.map(function(a,i){return"T"+i});var n=[];this.variableNames.forEach(function(a){n.push("vec4 v"+a+" = get"+a+"AtOutCoords();")});var r=this.variableNames.map(function(a){return"v"+a}).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        vec4 result = `+r+`;
        setOutput(result);
      }
    `},Gce=function(t,e,n){this.variableNames=["A"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=Math.ceil(i/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[a,o];var u=e==="max"?">":"<",c=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+r+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+r+`; i++) {
          int inIdx = `+c+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+u+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function xq(t,e){return["x","y","z","w","u","v"].slice(0,e).map(function(n){return t+"."+n})}function vr(t,e){return e===1?[t]:xq(t,e)}function Qn(){var t,e,n,r,a,i,o,u,c,l;return fe().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",r="in",a="texture",i="outputColor",o="out vec4 outputColor;",u=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,c="",l=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",o="",u=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,c=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,l=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:o,defineSpecialNaN:u,defineSpecialInf:c,defineRound:l}}function bu(t,e,n){n===void 0&&(n="index");var r=$a(e);return r.map(function(a,i){return"int "+t[i]+" = "+n+" / "+a+"; "+(i===r.length-1?"int "+t[i+1]+" = "+n+" - "+t[i]+" * "+a:"index -= "+t[i]+" * "+a)+";"}).join("")}function rA(t){var e=$a(t).map(function(n){return n.toString()});return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+e[0]+" + coords.y * "+e[1]+` + coords.z;
  }
`}var wq=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function Kce(t,e,n,r){var a=[];t.forEach(function(m){var y=Pe(m.shapeInfo.logicalShape);m.shapeInfo.isUniform?a.push("uniform float "+m.name+(y>1?"["+y+"]":"")+";"):(a.push("uniform sampler2D "+m.name+";"),a.push("uniform int offset"+m.name+";"))});var i,o,u=a.join(`
`),c=t.map(function(m){return function(y,x,b){b===void 0&&(b=!1);var w="";w+=b?_q(y):Ls(y);var S=y.shapeInfo.logicalShape,A=x.logicalShape;return S.length<=A.length&&(w+=b?function(O,E){var C,R=O.name,D=R.charAt(0).toUpperCase()+R.slice(1),M="get"+D+"AtOutCoords",N=O.shapeInfo.logicalShape.length,k=E.logicalShape.length,I=xo(O.shapeInfo.logicalShape,E.logicalShape),q=kt(k),W=k-N,$=["x","y","z","w","u","v"];C=N===0?"":k<2&&I.length>=1?"coords = 0;":I.map(function(J){return"coords."+$[J+W]+" = 0;"}).join(`
`);var j="";j=k<2&&N>0?"coords":O.shapeInfo.logicalShape.map(function(J,ne){return"coords."+$[ne+W]}).join(", ");var U="return outputValue;",H=Pe(O.shapeInfo.logicalShape)===1,Y=Pe(E.logicalShape)===1;if(N!==1||H||Y){if(H&&!Y)U=k===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(I.length){var B=N-2,K=N-1;I.indexOf(B)>-1&&I.indexOf(K)>-1?U="return vec4(outputValue.x);":I.indexOf(B)>-1?U="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":I.indexOf(K)>-1&&(U="return vec4(outputValue.xx, outputValue.zz);")}}else U=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+M+`() {
      `+q+` coords = getOutputCoords();
      `+C+`
      vec4 outputValue = get`+D+"("+j+`);
      `+U+`
    }
  `}(y,x):function(O,E){var C=O.name,R=C.charAt(0).toUpperCase()+C.slice(1),D="get"+R+"AtOutCoords",M=E.texShape,N=O.shapeInfo.texShape,k=O.shapeInfo.logicalShape.length,I=E.logicalShape.length;if(!O.shapeInfo.isUniform&&k===I&&O.shapeInfo.flatOffset==null&&Rn(N,M))return`
      float `+D+`() {
        return sampleTexture(`+C+`, resultUV);
      }
    `;var q,W=kt(I),$=xo(O.shapeInfo.logicalShape,E.logicalShape),j=I-k,U=["x","y","z","w","u","v"];q=k===0?"":I<2&&$.length>=1?"coords = 0;":$.map(function(Y){return"coords."+U[Y+j]+" = 0;"}).join(`
`);var H="";return H=I<2&&k>0?"coords":O.shapeInfo.logicalShape.map(function(Y,B){return"coords."+U[B+j]}).join(", "),`
    float `+D+`() {
      `+W+` coords = getOutputCoords();
      `+q+`
      return get`+R+"("+H+`);
    }
  `}(y,x)),w}(m,e,r)}).join(`
`),l=e.texShape,h=Qn(),d=function(m){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+m.texture2D+`(textureSampler, uv).r;
    }
  `}(h),v=function(m){return m.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+m.varyingFs+` vec2 resultUV;
    `+m.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+m.defineSpecialNaN+`
    `+m.defineSpecialInf+`
    `+m.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+Xce+`
    `+Yce+`
    `+Qce+`
  `}(h);return e.isPacked?(i=function(m,y){switch(m.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(O,E){var C=[Math.ceil(E[0]/2),Math.ceil(E[1]/2)];return C[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+C[1]+`.0);
      }
    `:C[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+C[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+C[0]+", "+C[1]+`));
      return 2 * (resTexRC.x * `+C[1]+` + resTexRC.y);
    }
  `}(0,y);case 2:return function(O,E){var C=[Math.ceil(E[0]/2),Math.ceil(E[1]/2)];if(Rn(O,E))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+C[0]+", "+C[1]+`));
      }
    `;var R=Math.ceil(O[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+C[0]+", "+C[1]+`));

      int index = resTexRC.x * `+C[1]+` + resTexRC.y;
      int r = 2 * (index / `+R+`);
      int c = imod(index, `+R+`) * 2;

      return ivec2(r, c);
    }
  `}(m,y);case 3:return x=m,b=y,w=[Math.ceil(b[0]/2),Math.ceil(b[1]/2)],S=Math.ceil(x[2]/2),A=S*Math.ceil(x[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+w[0]+", "+w[1]+`));
      int index = resTexRC.x * `+w[1]+` + resTexRC.y;

      int b = index / `+A+`;
      index -= b * `+A+`;

      int r = 2 * (index / `+S+`);
      int c = imod(index, `+S+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return function(O,E){for(var C=[Math.ceil(E[0]/2),Math.ceil(E[1]/2)],R=Math.ceil(O[O.length-1]/2),D=R*Math.ceil(O[O.length-2]/2),M=D,N="",k="b, r, c",I=2;I<O.length-1;I++)M*=O[O.length-I-1],N=`
      int b`+I+" = index / "+M+`;
      index -= b`+I+" * "+M+`;
    `+N,k="b"+I+", "+k;return`
    ivec`+O.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+C[0]+", "+C[1]+`));
      int index = resTexRC.x * `+C[1]+` + resTexRC.y;

      `+N+`

      int b = index / `+D+`;
      index -= b * `+D+`;

      int r = 2 * (index / `+R+`);
      int c = imod(index, `+R+`) * 2;

      return ivec`+O.length+"("+k+`);
    }
  `}(m,y)}var x,b,w,S,A}(e.logicalShape,l),o=function(m){return`
    void setOutput(vec4 val) {
      `+m.output+` = val;
    }
  `}(h)):(i=function(m,y){switch(m.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(w,S){return S[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+S[1]+`.0);
      }
    `:S[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+S[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+S[0]+", "+S[1]+`));
      return resTexRC.x * `+S[1]+` + resTexRC.y;
    }
  `}(0,y);case 2:return function(w,S){return Rn(w,S)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+S[0]+", "+S[1]+`));
      }
    `:w[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+S[0]+", "+S[1]+`));
        int index = resTexRC.x * `+S[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:w[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+S[0]+", "+S[1]+`));
        int index = resTexRC.x * `+S[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+S[0]+", "+S[1]+`));
      int index = resTexRC.x * `+S[1]+` + resTexRC.y;
      int r = index / `+w[1]+`;
      int c = index - r * `+w[1]+`;
      return ivec2(r, c);
    }
  `}(m,y);case 3:return x=y,b=bu(["r","c","d"],m),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+x[0]+", "+x[1]+`));
      int index = resTexRC.x * `+x[1]+` + resTexRC.y;
      `+b+`
      return ivec3(r, c, d);
    }
  `;case 4:return function(w,S){var A=bu(["r","c","d","d2"],w);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+S[0]+", "+S[1]+`));
      int index = resTexRC.x * `+S[1]+` + resTexRC.y;
      `+A+`
      return ivec4(r, c, d, d2);
    }
  `}(m,y);case 5:return function(w,S){var A=bu(["r","c","d","d2","d3"],w);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+S[0]+`,
                             `+S[1]+`));

      int index = resTexRC.x * `+S[1]+` + resTexRC.y;

      `+A+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}(m,y);case 6:return function(w,S){var A=bu(["r","c","d","d2","d3","d4"],w);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+S[0]+", "+S[1]+`));
      int index = resTexRC.x * `+S[1]+` + resTexRC.y;

      `+A+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}(m,y);default:throw new Error(m.length+"-D output sampling is not yet supported")}var x,b}(e.logicalShape,l),o=function(m){return`
    void setOutput(float val) {
      `+m.output+` = vec4(val, 0, 0, 0);
    }
  `}(h)),r&&(v+=Zce),[v,d,o,u,i,c,n].join(`
`)}function Ls(t){var e=t.shapeInfo.logicalShape;switch(e.length){case 0:return function(n){var r=n.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return"float "+a+"() {return "+r+";}";var i=n.shapeInfo.texShape,o=i[0],u=i[1];if(o===1&&u===1)return`
      float `+a+`() {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var c=n.shapeInfo.texShape,l=c[0],h=c[1],d=uu(r);return`
    float `+a+`() {
      vec2 uv = uvFromFlat(`+l+", "+h+", "+d+`);
      return sampleTexture(`+r+`, uv);
    }
  `}(t);case 1:return function(n){var r=n.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return`
      float `+a+`(int index) {
        `+Ps(n)+`
      }
    `;var i=n.shapeInfo.texShape,o=i[0],u=i[1];if(u===1&&o===1)return`
      float `+a+`(int index) {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var c=uu(r);return u===1?`
      float `+a+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+c+") + 0.5) / "+o+`.0);
        return sampleTexture(`+r+`, uv);
      }
    `:o===1?`
      float `+a+`(int index) {
        vec2 uv = vec2((float(index + `+c+") + 0.5) / "+u+`.0, 0.5);
        return sampleTexture(`+r+`, uv);
      }
    `:`
    float `+a+`(int index) {
      vec2 uv = uvFromFlat(`+o+", "+u+", index + "+c+`);
      return sampleTexture(`+r+`, uv);
    }
  `}(t);case 2:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=n.shapeInfo.texShape;if(o!=null&&Rn(r,o)){var u=o[0],c=o[1];return`
    float `+i+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+c+".0, "+u+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `}var l=du(r),h=l.newShape,d=l.keptDims,v=h;if(v.length<r.length){var m=js(n,v);return`
      `+Ls(m)+`
      float `+i+`(int row, int col) {
        return `+i+"("+Fs(["row","col"],d)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+r[1]+`, 1)));
        `+Ps(n)+`
      }
    `;var y=o[0],x=o[1],b=uu(a);return x===1?`
    float `+i+`(int row, int col) {
      float index = dot(vec3(row, col, `+b+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+y+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `:y===1?`
    float `+i+`(int row, int col) {
      float index = dot(vec3(row, col, `+b+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+x+`.0, 0.5);
      return sampleTexture(`+a+`, uv);
    }
  `:`
  float `+i+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+r[1]+" + col + "+b+`;
    vec2 uv = uvFromFlat(`+y+", "+x+`, index);
    return sampleTexture(`+a+`, uv);
  }
`}(t);case 3:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=r[1]*r[2],u=r[2],c=du(r),l=c.newShape,h=c.keptDims,d=l;if(d.length<r.length){var v=js(n,d);return`
        `+Ls(v)+`
        float `+i+`(int row, int col, int depth) {
          return `+i+"("+Fs(["row","col","depth"],h)+`);
        }
      `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+o+", "+u+`, 1)));
        `+Ps(n)+`
      }
    `;var m=n.shapeInfo.texShape,y=m[0],x=m[1],b=n.shapeInfo.flatOffset;if(x===o&&b==null)return`
        float `+i+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+u+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+x+".0, "+y+`.0);
          return sampleTexture(`+a+`, uv);
        }
      `;if(x===u&&b==null)return`
    float `+i+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+r[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+x+".0, "+y+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `;var w=uu(a);return`
      float `+i+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+o+" + col * "+u+" + depth + "+w+`;
        vec2 uv = uvFromFlat(`+y+", "+x+`, index);
        return sampleTexture(`+a+`, uv);
      }
  `}(t);case 4:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=r[3],u=r[2]*o,c=r[1]*u,l=du(r),h=l.newShape,d=l.keptDims;if(h.length<r.length){var v=js(n,h);return`
      `+Ls(v)+`
      float `+i+`(int row, int col, int depth, int depth2) {
        return `+i+"("+Fs(["row","col","depth","depth2"],d)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+c+", "+u+", "+o+`, 1)));
        `+Ps(n)+`
      }
    `;var m=n.shapeInfo.flatOffset,y=n.shapeInfo.texShape,x=y[0],b=y[1];if(b===c&&m==null)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+u+", "+o+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+b+".0, "+x+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(b===o&&m==null)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+r[1]*r[2]+", "+r[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+b+".0, "+x+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var w=uu(a);return`
    float `+i+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+c+" + col * "+u+` +
          depth * `+o+` + depth2;
      vec2 uv = uvFromFlat(`+x+", "+b+", index + "+w+`);
      return sampleTexture(`+a+`, uv);
    }
  `}(t);case 5:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=r[4],u=r[3]*o,c=r[2]*u,l=r[1]*c,h=du(r),d=h.newShape,v=h.keptDims;if(d.length<r.length){var m=js(n,d);return`
      `+Ls(m)+`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        return `+i+"("+Fs(["row","col","depth","depth2","depth3"],v)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+l+", "+c+", "+u+", "+o+`)) +
          depth3;
        `+Ps(n)+`
      }
    `;var y=n.shapeInfo.flatOffset,x=n.shapeInfo.texShape,b=x[0],w=x[1];if(w===l&&y==null)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+c+", "+u+", "+o+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+w+".0, "+b+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(w===o&&y==null)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]+`,
               `+r[2]*r[3]+", "+r[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+w+".0, "+b+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var S=uu(a);return`
    float `+i+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+l+" + col * "+c+" + depth * "+u+` +
          depth2 * `+o+" + depth3 + "+S+`;
      vec2 uv = uvFromFlat(`+b+", "+w+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `}(t);case 6:return function(n){var r=n.shapeInfo.logicalShape,a=n.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=du(r),u=o.newShape,c=o.keptDims;if(u.length<r.length){var l=js(n,u);return`
      `+Ls(l)+`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+i+"("+Fs(["row","col","depth","depth2","depth3","depth4"],c)+`);
      }
    `}var h=r[5],d=r[4]*h,v=r[3]*d,m=r[2]*v,y=r[1]*m;if(n.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+y+", "+m+", "+v+", "+d+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+h+`, 1)));
        `+Ps(n)+`
      }
    `;var x=n.shapeInfo.flatOffset,b=n.shapeInfo.texShape,w=b[0],S=b[1];if(S===y&&x==null)return`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+m+", "+v+", "+d+", "+h+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+S+".0, "+w+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(S===h&&x==null)return`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]*r[4]+`,
               `+r[2]*r[3]*r[4]+`,
               `+r[3]*r[4]+`,
               `+r[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+S+".0, "+w+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var A=uu(a);return`
    float `+i+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+y+" + col * "+m+" + depth * "+v+` +
          depth2 * `+d+" + depth3 * "+h+" + depth4 + "+A+`;
      vec2 uv = uvFromFlat(`+w+", "+S+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `}(t);default:throw new Error(e.length+"-D input sampling is not yet supported")}}function _q(t){var e,n,r;switch(t.shapeInfo.logicalShape.length){case 0:return e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=Qn(),`
    vec4 `+n+`() {
      return `+r.texture2D+"("+e+`, halfCR);
    }
  `;case 1:return function(a){var i=a.name,o="get"+i.charAt(0).toUpperCase()+i.slice(1),u=a.shapeInfo.texShape,c=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],l=Qn();return`
    vec4 `+o+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+c[0]+", "+c[1]+`, index);
      return `+l.texture2D+"("+i+`, uv);
    }
  `}(t);case 2:return function(a){var i=a.shapeInfo.logicalShape,o=a.name,u="get"+o.charAt(0).toUpperCase()+o.slice(1),c=a.shapeInfo.texShape,l=c[0],h=c[1],d=Qn();if(c!=null&&Rn(i,c))return`
      vec4 `+u+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+h+".0, "+l+`.0);

        return `+d.texture2D+"("+o+`, uv);
      }
    `;var v=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)],m=Math.ceil(i[1]/2);return`
    vec4 `+u+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+m+", "+v[0]+", "+v[1]+`, row, col);
      return `+d.texture2D+"("+o+`, uv);
    }
  `}(t);case 3:return function(a){var i=a.shapeInfo.logicalShape,o=a.name,u="get"+o.charAt(0).toUpperCase()+o.slice(1),c=a.shapeInfo.texShape,l=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)];if(i[0]===1){var h=i.slice(1),d=js(a,h);return`
        `+_q(d)+`
        vec4 `+u+`(int b, int row, int col) {
          return `+u+"("+Fs(["b","row","col"],[1,2])+`);
        }
      `}var v=l[0],m=l[1],y=Math.ceil(i[2]/2),x=y*Math.ceil(i[1]/2),b=Qn();return`
    vec4 `+u+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+v+", "+m+", "+x+", "+y+`, b, row, col);
      return `+b.texture2D+"("+o+`, uv);
    }
  `}(t);default:return function(a){for(var i=a.shapeInfo.logicalShape,o=i.length,u=a.name,c="get"+u.charAt(0).toUpperCase()+u.slice(1),l=a.shapeInfo.texShape,h=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)],d=h[0],v=h[1],m=Math.ceil(i[o-1]/2),y=m*Math.ceil(i[o-2]/2),x="int b, int row, int col",b="b * "+y+" + (row / 2) * "+m+" + (col / 2)",w=2;w<o-1;w++)x="int b"+w+", "+x,y*=i[o-w-1],b="b"+w+" * "+y+" + "+b;var S=Qn();return`
    vec4 `+c+"("+x+`) {
      int index = `+b+`;
      int texR = index / `+v+`;
      int texC = index - texR * `+v+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+v+", "+d+`);
      return `+S.texture2D+"("+u+`, uv);
    }
  `}(t)}}var Xce=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Yce=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Qce=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Zce=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function uu(t){return"offset"+t}function Ps(t){var e=t.name,n=Pe(t.shapeInfo.logicalShape);return n<2?"return "+e+";":`
    for (int i = 0; i < `+n+`; i++) {
      if (i == index) {
        return `+e+`[i];
      }
    }
  `}function kt(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error("GPU for rank "+t+" is not yet supported")}function js(t,e){var n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function Fs(t,e){return e.map(function(n){return t[n]}).join(", ")}var Jce=function(t,e,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,z(t.length>2,function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."});var a=t[t.length-1],i=Math.ceil(a/e);this.outputShape=t.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");var o,u,c=this.outputShape,l=c.length,h=kt(l),d=vr("coords",l);if(i===1){var v=kt(u=l+1);o=`
        `+v+" sourceLocR = "+v+"("+d.join()+`, 0);
        ++`+d[l-1]+`;
        `+v+" sourceLocG = "+v+"("+d.join()+`, 0);
        ++`+d[l-2]+`;
        `+v+" sourceLocA = "+v+"("+d.join()+`, 0);
        --`+d[l-1]+`;
        `+v+" sourceLocB = "+v+"("+d.join()+`, 0);
        --`+d[l-2]+";"}else u=l,o=`
        `+h+` sourceLocR = coords;
        ++`+d[l-1]+`;
        `+h+` sourceLocG = coords;
        ++`+d[l-2]+`;
        `+h+` sourceLocA = coords;
        --`+d[l-1]+`;
        `+h+` sourceLocB = coords;
        --`+d[l-2]+";";var m=["x","y","z","w","u","v"].slice(0,u),y="."+m[u-1],x=m.map(function(D){return"int "+D}),b=vr("sourceLocR",u-1).concat("inIdx.r"),w=vr("sourceLocG",u-1).concat("inIdx.g"),S=vr("sourceLocB",u-1).concat("inIdx.b"),A=vr("sourceLocA",u-1).concat("inIdx.a"),O=n==="max"?"greaterThan":"lessThan",E=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+b.join()+`),
                             getBestIndicesAChannel(`+w.join()+`),
                             getBestIndicesAChannel(`+S.join()+`),
                             getBestIndicesAChannel(`+A.join()+")));",C=`vec4(
            getAChannel(`+b.join()+`),
            hasNextCol ? getAChannel(`+w.join()+`) : 0.,
            hasNextRow ? getAChannel(`+S.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+A.join()+") : 0.)",R=r?"":`
      float getBestIndicesAChannel(`+x.join()+`) {
        return getChannel(getBestIndicesA(`+m.join()+`),
                                          vec2(`+m.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+x.join()+`) {
        return getChannel(getA(`+m.join()+`),
                               vec2(`+m.slice(-2).join()+`));
      }
      `+R+`
      void main() {
        `+h+` coords = getOutputCoords();
        bool hasNextCol = `+d[l-1]+" < "+(c[l-1]-1)+`;
        bool hasNextRow = `+d[l-2]+" < "+(c[l-2]-1)+`;
        `+o+`
        ivec4 srcIdx = ivec4(sourceLocR`+y+", sourceLocG"+y+`,
          sourceLocB`+y+", sourceLocA"+y+") * "+e+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+C+`;

        for (int i = 0; i < `+e+`; i++) {
          inIdx = srcIdx;
          `+E+`
          vec4 candidate = `+C+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+O+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},ele=function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,a=t.strideWidth,i=t.dilationHeight,o=t.dilationWidth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=u-1-t.padInfo.top,h=c-1-t.padInfo.left,d=1/(e*n);this.userCode=`
      const ivec2 pads = ivec2(`+l+", "+h+`);
      const float avgMultiplier = float(`+d+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+u+`;
            wR += `+i+`) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+c+`;
            wC+= `+o+`) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},tle=function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.filterDepth,n=t.filterHeight,r=t.filterWidth,a=t.strideDepth,i=t.strideHeight,o=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,h=t.effectiveFilterDepth,d=t.effectiveFilterHeight,v=t.effectiveFilterWidth,m=h-1-t.padInfo.front,y=d-1-t.padInfo.top,x=v-1-t.padInfo.left,b=1/(e*n*r);this.userCode=`
      const ivec3 pads = ivec3(`+m+", "+y+", "+x+`);
      const float avgMultiplier = float(`+b+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+h+`;
            wD += `+u+`) {
          float dyD = float(dyDCorner + wD) / `+a+`.0;

          if (dyD < 0.0 || dyD >= `+t.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+d+`;
              wR += `+c+`) {
            float dyR = float(dyRCorner + wR) / `+i+`.0;

            if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+v+`;
                wC += `+l+`) {
              float dyC = float(dyCCorner + wC) / `+o+`.0;

              if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},nle=function(t,e,n,r,a,i){this.outputShape=[],this.variableNames=["x","mean","variance"],st(t,e),st(t,n);var o="0.0";r!=null&&(st(t,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var u="1.0";a!=null&&(st(t,a),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+o+`;
        float scale = `+u+`;
        float inv = scale * inversesqrt(variance + float(`+i+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},rle=function(t,e,n,r,a,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],st(t,e),st(t,n);var o="vec4(0.0)";r!=null&&(st(t,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var u="vec4(1.0)";a!=null&&(st(t,a),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`
      void main() {
        vec4 offset = `+o+`;
        vec4 scale = `+u+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+i+`));

        setOutput((x - mean) * inv + offset);
      }
    `},ale="return areal * breal - aimag * bimag;",ile="return areal * bimag + aimag * breal;",D4=function(t,e,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=st(e,n),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+t+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},a_="return a + b;",i_="return a - b;",M4="return a * b;",Sq="return (a < 0.) ? b * a : a;",Gt=function(t,e,n){this.variableNames=["A","B"],this.outputShape=st(e,n),this.userCode=`
      float binaryOperation(float a, float b) {
        `+t+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},Eq=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,bi=function(t,e,n,r){r===void 0&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=st(e,n);var a=this.outputShape.length,i="";if(r)if(a===0||Pe(this.outputShape)===1)i=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(i=`
          `+kt(a)+` coords = getOutputCoords();
        `,a===1)i+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var o=vr("coords",a);i+=`
            bool nextRowOutOfBounds =
              (`+o[a-2]+" + 1) >= "+this.outputShape[a-2]+`;
            bool nextColOutOfBounds =
              (`+o[a-1]+" + 1) >= "+this.outputShape[a-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+t+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+i+`

        setOutput(result);
      }
    `},ole=function(){function t(e){this.variableNames=["A"],this.outputShape=e,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return t.prototype.getCustomSetupFunc=function(e,n){var r=this;return function(a,i){r.minLoc==null&&(r.minLoc=a.getUniformLocationNoThrow(i,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(i,"maxVal")),a.gl.uniform1f(r.minLoc,e),a.gl.uniform1f(r.maxLoc,n)}},t}(),ule=function(){function t(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return t.prototype.getCustomSetupFunc=function(e,n){var r=this;return function(a,i){r.minLoc==null&&(r.minLoc=a.getUniformLocationNoThrow(i,"minVal"),r.maxLoc=a.getUniformLocationNoThrow(i,"maxVal")),a.gl.uniform1f(r.minLoc,e),a.gl.uniform1f(r.maxLoc,n)}},t}(),sle=function(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},cle=function(t){this.outputShape=[],this.outputShape=Mc(t,1),this.variableNames=t.map(function(u,c){return"T"+c});var e=new Array(t.length-1);e[0]=t[0][1];for(var n=1;n<e.length;n++)e[n]=e[n-1]+t[n][1];var r=["if (yC < "+e[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<e.length;n++){var a=e[n-1];r.push("else if (yC < "+e[n]+") setOutput(getT"+n+"(yR, yC-"+a+"));")}var i=e.length,o=e[e.length-1];r.push("else setOutput(getT"+i+"(yR, yC-"+o+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+r.join(`
        `)+`
      }
    `},lle=function(t,e){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Mc(t,e);var n=this.outputShape,r=n.length,a=kt(r),i=vr("coords",r),o=["x","y","z","w","u","v"].slice(0,r);this.variableNames=t.map(function(b,w){return"T"+w});var u=new Array(t.length-1);u[0]=t[0][e];for(var c=1;c<u.length;c++)u[c]=u[c-1]+t[c][e];var l=o[e],h=o.slice(-2),d=o.join(),v="if ("+l+" < "+u[0]+`) {
        return getChannel(
            getT0(`+d+"), vec2("+h.join()+`));
        }`;for(c=1;c<u.length;c++){var m=u[c-1];v+=`
        if (`+l+" < "+u[c]+"  && "+l+" >= "+u[c-1]+`) {
          return getChannel(
            getT`+c+"("+vp(o,l,m)+`),
            vec2(`+vp(h,l,m)+`));
        }`}var y=u.length,x=u[u.length-1];v+=`
        return getChannel(
          getT`+y+"("+vp(o,l,x)+`),
          vec2(`+vp(h,l,x)+"));",this.userCode=`
      float getValue(`+o.map(function(b){return"int "+b})+`) {
        `+v+`
      }

      void main() {
        `+a+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+i+`), 0., 0., 0.);

        `+i[r-1]+" = "+i[r-1]+` + 1;
        if (`+i[r-1]+" < "+n[r-1]+`) {
          result.g = getValue(`+i+`);
        }

        `+i[r-2]+" = "+i[r-2]+` + 1;
        if (`+i[r-2]+" < "+n[r-2]+`) {
          result.a = getValue(`+i+`);
        }

        `+i[r-1]+" = "+i[r-1]+` - 1;
        if (`+i[r-2]+" < "+n[r-2]+` &&
            `+i[r-1]+" < "+n[r-1]+`) {
          result.b = getValue(`+i+`);
        }
        setOutput(result);
      }
    `};function vp(t,e,n){var r=t.indexOf(e);return t.map(function(a,i){return i===r?a+" - "+n:a}).join()}var fle=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideHeight,n=t.strideWidth,r=t.padInfo.top,a=t.padInfo.left,i=t.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+t.batchSize+`; b++) {
          for (int yR = 0; yR < `+t.outHeight+`; yR++) {
            int xR = wR + yR * `+e+" - "+r+`;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+t.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+a+`;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              if (`+i+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},hle=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,a=t.strideWidth,i=t.dataFormat==="channelsLast",o=e-1-t.padInfo.top,u=n-1-t.padInfo.left,c=i?1:2,l=i?2:3,h=i?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+o+", "+u+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+h+`];

        ivec2 dyCorner = ivec2(coords[`+c+"], coords["+l+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+e+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+e+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            for (int d2 = 0; d2 < `+t.outChannels+`; d2++) {

              if (`+i+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},dle=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideDepth,n=t.strideHeight,r=t.strideWidth,a=t.padInfo.front,i=t.padInfo.top,o=t.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+t.batchSize+`; b++) {
          for (int yF = 0; yF < `+t.outDepth+`; yF++) {
            int xF = wF + yF * `+e+" - "+a+`;

            if (xF < 0 || xF >= `+t.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+t.outHeight+`; yR++) {
              int xR = wR + yR * `+n+" - "+i+`;

              if (xR < 0 || xR >= `+t.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+t.outWidth+`; yC++) {
                int xC = wC + yC * `+r+" - "+o+`;

                if (xC < 0 || xC >= `+t.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},ple=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterDepth,n=t.filterHeight,r=t.filterWidth,a=t.strideDepth,i=t.strideHeight,o=t.strideWidth,u=e-1-t.padInfo.front,c=n-1-t.padInfo.top,l=r-1-t.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+u+", "+c+", "+l+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+e+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+a+`.0;

          if (dyF < 0.0 || dyF >= `+t.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+e+` - 1 - wF;

          for (int wR = 0; wR < `+n+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+i+`.0;

            if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+n+` - 1 - wR;

            for (int wC = 0; wC < `+r+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+o+`.0;

              if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+r+` - 1 - wC;

              for (int d2 = 0; d2 < `+t.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},vle=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;var e=t.strideHeight,n=t.strideWidth,r=t.padInfo.top,a=t.padInfo.left,i=t.outChannels/t.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+i+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+t.batchSize+`; b++) {
          for (int yR = 0; yR < `+t.outHeight+`; yR++) {
            int xR = wR + yR * `+e+" - "+r+`;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+t.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+a+`;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},mle=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.strideHeight,a=t.strideWidth,i=e-1-t.padInfo.top,o=n-1-t.padInfo.left,u=t.outChannels/t.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+o+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+e+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+e+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+u+`; dm++) {
              int d2 = d1 * `+u+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},P4=function(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=t.outShape;var a=t.padInfo.top,i=t.padInfo.left,o=t.strideHeight,u=t.strideWidth,c=t.dilationHeight,l=t.dilationWidth,h=t.filterHeight,d=t.filterWidth,v=4*Math.floor(t.inChannels/4),m=t.inChannels%4,y=t.dataFormat==="channelsLast",x=y?1:2,b=y?2:3,w=y?3:1,S="",A="";n&&(S=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,A="result = activation(result);");var O=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+S+`

      const ivec2 strides = ivec2(`+o+", "+u+`);
      const ivec2 pads = ivec2(`+a+", "+i+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+w+`];

        ivec2 xRCCorner =
            ivec2(coords[`+x+"], coords["+b+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+h+`; wR++) {
          int xR = xRCorner + wR * `+c+`;

          if (xR < 0 || xR >= `+t.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+d+`; wC++) {
            int xC = xCCorner + wC * `+l+`;

            if (xC < 0 || xC >= `+t.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+v+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+y+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(m===1)+`) {

              if (`+y+`) {
                dotProd +=
                    getX(batch, xR, xC, `+v+`) *
                    getW(wR, wC, `+v+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+v+`, xR, xC) *
                    getW(wR, wC, `+v+`, d2);
              }

            } else if (`+(m===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+v+`, d2),
                getW(wR, wC, `+v+` + 1, d2)
              );

              if (`+y+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+v+`),
                  getX(batch, xR, xC, `+v+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+v+`, xR, xC),
                  getX(batch, `+v+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(m===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+v+`, d2),
                getW(wR, wC, `+v+` + 1, d2),
                getW(wR, wC, `+v+` + 2, d2)
              );

              if (`+y+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+v+`),
                  getX(batch, xR, xC, `+v+` + 1),
                  getX(batch, xR, xC, `+v+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+v+`, xR, xC),
                  getX(batch, `+v+` + 1, xR, xC),
                  getX(batch, `+v+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+O+`
        `+A+`
        setOutput(result);
      }
    `},gle=function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.padInfo.front,n=t.padInfo.top,r=t.padInfo.left,a=t.strideDepth,i=t.strideHeight,o=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,h=t.filterDepth,d=t.filterHeight,v=t.filterWidth,m=4*Math.floor(t.inChannels/4),y=t.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+a+", "+i+", "+o+`);
      const ivec3 pads = ivec3(`+e+", "+n+", "+r+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+h+`; wF++) {
          int xF = xFCorner + wF * `+u+`;

          if (xF < 0 || xF >= `+t.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+d+`; wR++) {
            int xR = xRCorner + wR * `+c+`;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+v+`; wC++) {
              int xC = xCCorner + wC * `+l+`;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+m+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(y===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+m+`) *
                  getW(wF, wR, wC, `+m+`, d2);
              } else if (`+(y===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+m+`),
                  getX(batch, xF, xR, xC, `+m+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+m+`, d2),
                  getW(wF, wR, wC, `+m+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(y===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+m+`),
                  getX(batch, xF, xR, xC, `+m+` + 1),
                  getX(batch, xF, xR, xC, `+m+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+m+`, d2),
                  getW(wF, wR, wC, `+m+` + 1, d2),
                  getW(wF, wR, wC, `+m+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},N4=function(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=t.outShape;var a=t.inHeight,i=t.inWidth,o=t.padInfo.top,u=t.padInfo.left,c=t.strideHeight,l=t.strideWidth,h=t.dilationHeight,d=t.dilationWidth,v=t.filterHeight,m=t.filterWidth,y=t.outChannels/t.inChannels,x="",b="";n&&(x=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,b="result = activation(result);");var w=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+x+`

      const ivec2 strides = ivec2(`+c+", "+l+`);
      const ivec2 pads = ivec2(`+o+", "+u+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+y+`;
        int q = d2 - d1 * `+y+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+v+`; wR++) {
          int xR = xRCorner + wR * `+h+`;

          if (xR < 0 || xR >= `+a+`) {
            continue;
          }

          for (int wC = 0; wC < `+m+`; wC++) {
            int xC = xCCorner + wC * `+d+`;

            if (xC < 0 || xC >= `+i+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+w+`
        `+b+`
        setOutput(result);
      }
    `},k4=function(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.outShape;for(var a=t.inHeight,i=t.inWidth,o=t.padInfo.top,u=t.padInfo.left,c=t.strideHeight,l=t.strideWidth,h=t.dilationHeight,d=t.dilationWidth,v=t.filterHeight,m=t.filterWidth,y=m,x="int xR; int xC; int xCOffset;",b=0;b<v;b++)for(var w=0;w<m;w++)x+=`
          vec4 xTexelR`+b+"C"+2*w+` = vec4(0.);
          vec4 wR`+b+"C"+w+` = vec4(0.);
          vec4 xR`+b+"C"+w+" = vec4(0.);";for(b=0;b<v;b++)for(var S=0;S<y;S++){if(x+=`
          xR = xRCorner + `+b*h+`;
          xC = xCCorner + `+(w=2*S)*d+`;
        `,l===1){if(w<m&&(x+=u%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+i+`) {
                  xTexelR`+b+"C"+w+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+i+`) {
                    xTexelR`+b+"C"+w+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+b+"C"+w+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+i+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+i+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+b+"C"+w+" = vec4(previous.zw, xTexelR"+b+"C"+w+`.xy);
                } else {
                  xR`+b+"C"+w+" = vec4(0, 0, xTexelR"+b+"C"+w+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+a+" && xC >= 0 && xC < "+i+`) {
                  xTexelR`+b+"C"+w+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+b+"C"+w+` = vec4(0.);
                }

                xR`+b+"C"+w+" = xTexelR"+b+"C"+w+`;
              `,w+1<m)){var A=u%2==0?zU(d):d;d%2==0&&u%2==1||d%2!=0&&u%2!=1?(x+=`
                  xCOffset = xC + `+u%2+" + "+A+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+i+`) {
                    xTexelR`+b+"C"+(w+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,d>1&&(x+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+a+` &&
                      xCOffset >= 0 && xCOffset < `+i+`) {
                      xTexelR`+b+"C"+w+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+b+"C"+w+` = vec4(0.);
                    }
                  `),x+=`
                  xR`+b+"C"+(w+1)+` = vec4(
                    xTexelR`+b+"C"+w+".zw, xTexelR"+b+"C"+(w+2)+`.xy);
                `):x+=`
                  xCOffset = xC + `+A+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+i+`) {
                    xTexelR`+b+"C"+(w+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+b+"C"+(w+1)+" = xTexelR"+b+"C"+(w+2)+`;
                `}}else w<m&&(x+=`
              if(xR >= 0 && xR < `+a+`) {
            `,u%2==1?(x+=`
                xCOffset = xC + 1 - `+l+`;
                if(xCOffset >= 0 && xCOffset < `+i+`) {
                  xTexelR`+b+"C"+w+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+b+"C"+w+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+i+`) {
                  xTexelR`+b+"C"+(w+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+b+"C"+(w+2)+` = vec4(0.);
                }

                xR`+b+"C"+w+` = vec4(
                  xTexelR`+b+"C"+w+".zw, xTexelR"+b+"C"+(w+2)+`.zw);
              `,w+1<m&&(x+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+l+`;
                  if(xCOffset >= 0 && xCOffset < `+i+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+b+"C"+(w+1)+" = vec4(xTexelR"+b+"C"+(w+2)+`.xy, final.xy);
                `)):(x+=`
                if(xC >= 0 && xC < `+i+`) {
                  xTexelR`+b+"C"+w+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+b+"C"+w+` = vec4(0.);
                }

                xCOffset = xC + `+l+`;
                if(xCOffset >= 0 && xCOffset < `+i+`) {
                  xTexelR`+b+"C"+(w+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+b+"C"+(w+2)+` = vec4(0.);
                }

                xR`+b+"C"+w+` = vec4(
                  xTexelR`+b+"C"+w+".xy, xTexelR"+b+"C"+(w+2)+`.xy);
              `,w+1<m&&(x+=`
                  xR`+b+"C"+(w+1)+` = vec4(
                    xTexelR`+b+"C"+w+".zw, xTexelR"+b+"C"+(w+2)+`.zw);
                `)),x+="}");w<m&&(x+=`
            vec4 wTexelR`+b+"C"+w+" = getW("+b+", "+w+`, d1, q);
            wR`+b+"C"+w+" = vec4(wTexelR"+b+"C"+w+".xz, wTexelR"+b+"C"+w+`.xz);
          `,w+1<m&&(x+=`
              vec4 wTexelR`+b+"C"+(w+1)+" = getW("+b+", "+(w+1)+`, d1, q);
              wR`+b+"C"+(w+1)+` =
                vec4(wTexelR`+b+"C"+(w+1)+".xz, wTexelR"+b+"C"+(w+1)+".xz);"))}for(b=0;b<v;b++)for(w=0;w<m;w++)x+="dotProd += xR"+b+"C"+w+" * wR"+b+"C"+w+";";var O="",E="";n&&(O=r?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`vec4 activation(vec4 x) {
          `+n+`
        }`,E="result = activation(result);");var C=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+O+`

      const ivec2 strides = ivec2(`+c+", "+l+`);
      const ivec2 pads = ivec2(`+o+", "+u+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+x+`

        vec4 result = dotProd;
        `+C+`
        `+E+`
        setOutput(result);
      }
    `},yle=function(t,e,n,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=t[0],o=t[1],u=t[2],c=t[3],l=e[0],h=n[0],d=n[1];this.outputShape=[l,h,d,c];var v=r==="bilinear"?1:0,m=[o-1+".0",u-1+".0"],y=m[0],x=m[1],b=h>1?[""+(o-1)/(h-1),"(y2-y1) * height_ratio","y1*"+y+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+y],w=b[0],S=b[1],A=b[2],O=d>1?[""+(u-1)/(d-1),"(x2-x1) * width_ratio","x1*"+x+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+x],E=O[0],C=O[1],R=O[2];this.userCode=`
      const float height_ratio = float(`+w+`);
      const float width_ratio = float(`+E+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+i+`) {
          return;
        }

        float height_scale = `+S+`;
        float width_scale = `+C+`;

        float in_y = `+A+`;
        if( in_y < 0.0 || in_y > `+y+` ) {
          setOutput(float(`+a+`));
          return;
        }
        float in_x = `+R+`;
        if( in_x < 0.0 || in_x > `+x+` ) {
          setOutput(float(`+a+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+v+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},ble=function(t,e,n){this.variableNames=["x"],this.outputShape=t;var r=t.length,a=t[t.length-1],i=n?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(n?"return "+a+" -i - 1;":"return i;")+`
      }

      void main() {
        `+kt(r)+` coords = getOutputCoords();
        int end = `+I4(r,"coords")+`;
        float val = 0.0;
        for (int i = `+a+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+i+` end) {
            continue;
          }
          if (idx == end && `+e+`) {
            continue;
          }
          `+I4(r,"coords")+` = idx;
          val += getX(`+function(o,u){if(o===1)return""+u;if(o===2)return u+".x, "+u+".y";if(o===3)return u+".x, "+u+".y, "+u+".z";if(o===4)return u+".x, "+u+".y, "+u+".z, "+u+".w";throw Error("Cumulative sum for rank "+o+" is not yet supported")}(r,"coords")+`);
        }
        setOutput(val);
      }
    `};function I4(t,e){if(t===1)return""+e;if(t===2)return e+".y";if(t===3)return e+".z";if(t===4)return e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}var xle=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=ch.DENSE;var e=bf(t),n=Qn();this.outputShape=t,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+bu(["r","c","d"],t)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+e[0]+", "+e[1]+`));
        int index = 4 * (resTexRC.x * `+e[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+n.output+` = result;
      }
    `},wle=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=ch.DENSE;var e=bf(t),n=Qn();this.outputShape=t,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+bu(["r","c","d"],t)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+e[0]+", "+e[1]+`));
        int index = 4 * (resTexRC.x * `+e[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+n.output+` = result;
      }
    `},_le=function(){function t(e,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+n+`;
      int offset_h = imod(h, `+n+`);
      int in_w = w / `+n+`;
      int offset_w = imod(w, `+n+`);
      int offset_d = (offset_h * `+n+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return t.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},t.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},t.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},t.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},t.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},t}(),Sle=function(t){this.variableNames=["X"],this.outputShape=[t,t],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},Ele=function(t){this.variableNames=["A"],this.outTexUsage=kr.DOWNLOAD;var e=Qn();this.outputShape=t,this.userCode=`
      `+wq+`

      void main() {
        float x = getAAtOutCoords();
        `+e.output+` = encode_float(x);
      }
    `},Ale=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=kr.DOWNLOAD;var e=Qn();this.outputShape=t,this.userCode=`
      `+wq+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+e.output+` = encode_float(x);
      }
    `},Ole=function(t,e,n){n===void 0&&(n=!1),this.variableNames=["A"];var r=Qn(),a=e[0],i=e[1];this.outputShape=t;var o="result";n&&(o="floor(result * 255. + 0.5)"),this.userCode=`
      `+rA(t)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+i+`;
        int c = imod(flatIndex, `+i+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+i+".0, "+a+`.0);
        vec4 values = `+r.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+r.output+" = vec4("+o+`, 0., 0., 0.);
      }
    `},Tle=function(t,e,n){n===void 0&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=Qn(),a=e[0],i=e[1];this.outputShape=t;var o="",u="result";n&&(u="floor(result * 255. + 0.5)");for(var c=0;c<=1;c++)for(var l=0;l<=1;l++){var h=2*c+l;o+=`
          localCoords = coords;
          if(localCoords[2] + `+l+" < "+t[2]+`) {
            localCoords[2] += `+l+`;
            if(localCoords[1] + `+c+" < "+t[1]+`) {
              localCoords[1] += `+c+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+i+`;
              c = imod(flatIndex, `+i+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+i+".0, "+a+`.0);
              values = `+r.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+h+`] = values[0];
              } else if(offset == 1) {
                result[`+h+`] = values[1];
              } else if(offset == 2) {
                result[`+h+`] = values[2];
              } else {
                result[`+h+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+rA(t)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+o+`

        `+r.output+" = "+u+`;
      }
    `},Cle="return real * expR - imag * expI;",Rle="return real * expI + imag * expR;",B4=function(t,e,n){this.variableNames=["real","imag"];var r=e[1];this.outputShape=e;var a=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,i=n?r+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+a+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+t+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+r+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+r+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+i+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},Dle=function(){function t(e,n){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return t.prototype.getCustomSetupFunc=function(e){var n=this;return function(r,a){n.valueLoc==null&&(n.valueLoc=r.getUniformLocationNoThrow(a,"value")),r.gl.uniform1f(n.valueLoc,e)}},t}(),Mle=function(t,e,n){this.variableNames=["A","indices"];var r=t.slice();r[n]=e,this.outputShape=r,this.rank=r.length;var a=kt(this.rank),i=function(o,u){var c=o.length;if(c>4)throw Error("Gather for rank "+c+" is not yet supported");if(c===1)return"int(getIndices(resRC))";for(var l=["resRC.x","resRC.y","resRC.z","resRC.w"],h=[],d=0;d<o.length;d++)d===u?h.push("int(getIndices("+l[d]+"))"):h.push(""+l[d]);return h.join()}(t,n);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+i+`));
      }
    `},Ple=function(t,e,n){this.sliceDim=t,this.strides=e,this.variableNames=["x","indices"],this.outputShape=n;var r=kt(e.length),a=kt(n.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+r+" strides = "+r+"("+this.strides+`);
         void main() {
          `+a+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+i+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function Nle(t,e){var n=Qn();return Cse(t,e,n.version+`
    precision highp float;
    `+n.attribute+` vec3 clipSpacePos;
    `+n.attribute+` vec2 uv;
    `+n.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function kle(t,e){return Nse(t,e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Ile(t,e){return kse(t,e,new Uint16Array([0,1,2,2,1,3]))}function Mh(t,e,n,r,a,i,o){Bse(n,r);var u=Ise(t,e),c=t.TEXTURE_2D;return Be(t,e,function(){return t.bindTexture(c,u)}),Be(t,e,function(){return t.texParameteri(c,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)}),Be(t,e,function(){return t.texParameteri(c,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}),Be(t,e,function(){return t.texParameteri(c,t.TEXTURE_MIN_FILTER,t.NEAREST)}),Be(t,e,function(){return t.texParameteri(c,t.TEXTURE_MAG_FILTER,t.NEAREST)}),Be(t,e,function(){return t.texImage2D(c,0,a,n,r,0,i,o,null)}),Be(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)}),u}function Ble(t,e,n,r,a){var i=rg(n,r);return Mh(t,e,i[0],i[1],a.internalFormatFloat,a.textureFormatFloat,t.FLOAT)}function Lle(t,e,n,r,a){var i=rg(n,r);return Mh(t,e,i[0],i[1],a.internalFormatHalfFloat,a.textureFormatFloat,a.textureTypeHalfFloat)}function jle(t,e,n,r,a){var i=rg(n,r);return Mh(t,e,i[0],i[1],t.RGBA,t.RGBA,t.UNSIGNED_BYTE)}function Fle(t,e,n,r,a){var i=Dh(n,r);return Mh(t,e,i[0],i[1],a.internalFormatPackedFloat,t.RGBA,t.FLOAT)}function Ule(t,e,n,r,a){var i=Dh(n,r);return Mh(t,e,i[0],i[1],a.internalFormatPackedHalfFloat,t.RGBA,a.textureTypeHalfFloat)}function qle(t,e,n,r){return Be(t,e,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)}),S4(t,e,n,"clipSpacePos",r,3,20,0)&&S4(t,e,n,"uv",r,2,20,12)}function zle(t,e,n,r,a,i,o){var u,c,l;Be(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)}),i instanceof Uint8Array?(u=new Uint8Array(r*a*4),c=t.UNSIGNED_BYTE,l=t.RGBA):(u=new Float32Array(r*a*4),c=t.FLOAT,l=o.internalFormatPackedFloat),u.set(i),Be(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,l,r,a,0,t.RGBA,c,u)}),Be(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function $le(t,e,n,r){Be(t,e,function(){return t.bindTexture(t.TEXTURE_2D,n)}),r.data instanceof Uint8Array?Be(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r.width,r.height,0,t.RGBA,t.UNSIGNED_BYTE,r.data)}):Be(t,e,function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r)}),Be(t,e,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function Wle(t,e,n,r,a){var i=t.createBuffer();Be(t,e,function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,i)});var o=16*n*r;return Be(t,e,function(){return t.bufferData(t.PIXEL_PACK_BUFFER,o,t.STREAM_READ)}),Be(t,e,function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,0)}),Be(t,e,function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,null)}),i}function Hle(t,e,n){var r=t,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function Vle(t,e,n,r,a){var i=rg(n,r),o=i[0],u=i[1],c=new Uint8Array(n*r*4);return Be(t,e,function(){return t.readPixels(0,0,o,u,a.downloadTextureFormat,t.UNSIGNED_BYTE,c)}),new Float32Array(c.buffer)}function Gle(t,e,n,r,a,i,o,u){var c=t,l=new Float32Array(function(h,d){var v=Dh(h,d);return v[0]*v[1]*4}(i,o));return c.bindBuffer(c.PIXEL_PACK_BUFFER,e),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,l),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),l}function Kle(t,e,n,r){var a=new Float32Array(n*r*4);return Be(t,e,function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,a)}),a}var Xle=function(){function t(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=fe().getNumber("WEBGL_VERSION");e!=null?(this.gl=e,Sse(n,e)):this.gl=Qa(n);var r="WEBGL_color_buffer_float";if(fe().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=fp(this.gl,this.debug,"OES_texture_float"),ra(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=fp(this.gl,this.debug,"OES_texture_half_float");else if(fe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),ra(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=fp(this.gl,this.debug,"EXT_color_buffer_half_float");else if(fe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",ra(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!ra(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=kle(this.gl,this.debug),this.indexBuffer=Ile(this.gl,this.debug),this.framebuffer=Lse(this.gl,this.debug),this.textureConfig=GE(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(t.prototype,"debug",{get:function(){return fe().getBool("DEBUG")},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var e=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var n=this.gl;Be(n,this.debug,function(){return n.finish()}),Be(n,this.debug,function(){return n.bindFramebuffer(n.FRAMEBUFFER,null)}),Be(n,this.debug,function(){return n.deleteFramebuffer(e.framebuffer)}),Be(n,this.debug,function(){return n.bindBuffer(n.ARRAY_BUFFER,null)}),Be(n,this.debug,function(){return n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null)}),Be(n,this.debug,function(){return n.deleteBuffer(e.indexBuffer)}),this.disposed=!0}},t.prototype.createFloat32MatrixTexture=function(e,n){return this.throwIfDisposed(),Ble(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.createFloat16MatrixTexture=function(e,n){return this.throwIfDisposed(),Lle(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.createUnsignedBytesMatrixTexture=function(e,n){return this.throwIfDisposed(),jle(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.uploadPixelDataToTexture=function(e,n){this.throwIfDisposed(),$le(this.gl,this.debug,e,n)},t.prototype.uploadDenseMatrixToTexture=function(e,n,r,a){this.throwIfDisposed(),zle(this.gl,this.debug,e,n,r,a,this.textureConfig)},t.prototype.createFloat16PackedMatrixTexture=function(e,n){return this.throwIfDisposed(),Ule(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.createPackedMatrixTexture=function(e,n){return this.throwIfDisposed(),Fle(this.gl,this.debug,e,n,this.textureConfig)},t.prototype.deleteMatrixTexture=function(e){var n=this;this.throwIfDisposed(),this.outputTexture===e&&(E4(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Be(this.gl,this.debug,function(){return n.gl.deleteTexture(e)})},t.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,n,r){var a=this;return this.downloadMatrixDriver(e,function(){return Vle(a.gl,a.debug,n,r,a.textureConfig)})},t.prototype.downloadPackedMatrixFromBuffer=function(e,n,r,a,i,o){return Gle(this.gl,e,0,0,0,i,o,this.textureConfig)},t.prototype.downloadFloat32MatrixFromBuffer=function(e,n){return Hle(this.gl,e,n)},t.prototype.createBufferFromTexture=function(e,n,r){this.bindTextureToFrameBuffer(e);var a=Wle(this.gl,this.debug,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),a},t.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},t.prototype.createFence=function(e){var n,r,a=this;if(fe().getBool("WEBGL_FENCE_API_ENABLED")){var i=e,o=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=function(){var u=i.clientWaitSync(o,0,0);return u===i.ALREADY_SIGNALED||u===i.CONDITION_SATISFIED},n=o}else fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=function(){return a.isQueryAvailable(n,fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:n,isFencePassed:r}},t.prototype.downloadMatrixFromPackedTexture=function(e,n,r){var a=this;return this.downloadMatrixDriver(e,function(){return Kle(a.gl,a.debug,n,r)})},t.prototype.createProgram=function(e){this.throwIfDisposed();var n=this.gl,r=Rse(n,this.debug,e),a=Nle(n,this.debug),i=Mse(n,this.debug);return Be(n,this.debug,function(){return n.attachShader(i,a)}),Be(n,this.debug,function(){return n.attachShader(i,r)}),Pse(n,this.debug,i),this.debug&&e_(n,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=qle(n,this.debug,this.program,this.vertexBuffer)),i},t.prototype.deleteProgram=function(e){var n=this;this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&Be(this.gl,this.debug,function(){return n.gl.deleteProgram(e)})},t.prototype.setProgram=function(e){var n=this;this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&e_(this.gl,this.debug,this.program),Be(this.gl,this.debug,function(){return n.gl.useProgram(e)})},t.prototype.getUniformLocation=function(e,n,r){return r===void 0&&(r=!0),this.throwIfDisposed(),r?Fse(this.gl,this.debug,e,n):Use(this.gl,e,n)},t.prototype.getAttributeLocation=function(e,n){var r=this;return this.throwIfDisposed(),Be(this.gl,this.debug,function(){return r.gl.getAttribLocation(e,n)})},t.prototype.getUniformLocationNoThrow=function(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)},t.prototype.setInputMatrixTexture=function(e,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),qse(this.gl,this.debug,this.program,e,n,r)},t.prototype.setOutputMatrixTexture=function(e,n,r){this.setOutputMatrixTextureDriver(e,r,n)},t.prototype.setOutputPackedMatrixTexture=function(e,n,r){this.throwIfDisposed();var a=Dh(n,r),i=a[0],o=a[1];this.setOutputMatrixTextureDriver(e,i,o)},t.prototype.setOutputMatrixWriteRegion=function(e,n,r,a){this.setOutputMatrixWriteRegionDriver(r,e,a,n)},t.prototype.setOutputPackedMatrixWriteRegion=function(e,n,r,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},t.prototype.debugValidate=function(){this.program!=null&&e_(this.gl,this.debug,this.program),hp(this.gl)},t.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),Be(e,this.debug,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})},t.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),Be(this.gl,this.debug,function(){return e.gl.finish()})},t.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=fp(this.gl,this.debug,fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},t.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},t.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},t.prototype.beginQuery=function(){if(fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var e=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=e.createQuery();return e.beginQuery(n.TIME_ELAPSED_EXT,r),r}var a=this.getQueryTimerExtensionWebGL1(),i=a.createQueryEXT();return a.beginQueryEXT(a.TIME_ELAPSED_EXT,i),i},t.prototype.endQuery=function(){if(fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT)}},t.prototype.waitForQueryAndGetTime=function(e){return De(this,void 0,void 0,function(){var n=this;return Me(this,function(r){switch(r.label){case 0:return[4,g4(function(){return n.disposed||n.isQueryAvailable(e,fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return r.sent(),[2,this.getQueryTime(e,fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},t.prototype.getQueryTime=function(e,n){if(n===0)return null;if(n===2){var r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}var a=this.getQueryTimerExtensionWebGL1();return a.getQueryObjectEXT(e,a.QUERY_RESULT_EXT)/1e6},t.prototype.isQueryAvailable=function(e,n){if(n===0)return!0;if(n===2){var r=this.gl,a=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(a=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,a.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),i&&!this.disjoint},t.prototype.pollFence=function(e){var n=this;return new Promise(function(r){n.addItemToPoll(function(){return e.isFencePassed()},function(){return r()})})},t.prototype.pollItems=function(){for(var e=function(r){for(var a=0;a<r.length&&r[a]();++a);return a-1}(this.itemsToPoll.map(function(r){return r.isDoneFn})),n=0;n<=e;++n)(0,this.itemsToPoll[n].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},t.prototype.addItemToPoll=function(e,n){var r=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1||g4(function(){return r.pollItems(),r.itemsToPoll.length===0})},t.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),t_(this.gl,this.debug,e,this.framebuffer),this.debug&&hp(this.gl)},t.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(t_(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&hp(this.gl)):E4(this.gl,this.debug,this.framebuffer)},t.prototype.downloadMatrixDriver=function(e,n){this.bindTextureToFrameBuffer(e);var r=n();return this.unbindTextureToFrameBuffer(),r},t.prototype.setOutputMatrixTextureDriver=function(e,n,r){this.throwIfDisposed();var a=this.gl;t_(a,this.debug,e,this.framebuffer),this.debug&&hp(a),this.outputTexture=e,Be(a,this.debug,function(){return a.viewport(0,0,n,r)}),Be(a,this.debug,function(){return a.scissor(0,0,n,r)})},t.prototype.setOutputMatrixWriteRegionDriver=function(e,n,r,a){var i=this;this.throwIfDisposed(),Be(this.gl,this.debug,function(){return i.gl.scissor(e,n,r,a)})},t.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},t.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},t}();function L4(t,e){if(t.length!==e.length)throw Error("Binary was compiled with "+t.length+" inputs, but was executed with "+e.length+" inputs");t.forEach(function(n,r){var a=n.logicalShape,i=e[r],o=i.shape;if(!Rn(a,o))throw Error("Binary was compiled with different shapes than the current args. Shapes "+a+" and "+o+" must match");if(!n.isUniform||!i.isUniform){var u=n.texShape,c=i.isUniform?null:i.texData.texShape;if(!Rn(u,c))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+u+" and "+c+" must match")}})}var Yle=function(t,e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var r=n.filterWidth,a=n.inChannels,i=n.strideWidth,o=n.strideHeight,u=n.padInfo,c=n.outWidth,l=n.dilationWidth,h=n.dilationHeight,d=n.dataFormat,v=u.left,m=u.top,y=a*r,x=Qn(),b=d==="channelsLast",w=b?0:1,S=b?1:2,A="",O=0;O<=1;O++)for(var E=0;E<=1;E++)A+=`
          blockIndex = rc.y + `+E+`;
          pos = rc.x + `+O+`;

          if(blockIndex < `+t[1]+" && pos < "+t[0]+`) {
            offsetY = int(blockIndex / (`+c+")) * "+o+" - "+m+`;
            d0 = offsetY + `+h+" * (pos / "+y+`);

            if(d0 < `+e[w]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+c+".) * "+i+". - "+v+`.);
              d1 = offsetX + `+l+" * (int(mod(float(pos), "+y+".) / "+a+`.));

              if(d1 < `+e[S]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+a+`.));

                if (`+b+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*O+E)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*O+E)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+A+`

        `+x.output+` = result;
      }
    `},Qle=function(t,e,n,r,a){this.variableNames=["x"],this.outputShape=[];var i,o=e,u=t[3]-1;this.outputShape=t;var c="float("+n+") + float("+r+") * sum";i=a===.5?"inversesqrt("+c+")":a===1?"1.0/("+c+")":"exp(log("+c+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+o+"; j <= "+o+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+u+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+i+`;
        setOutput(val);
      }
    `},Zle=function(t,e,n,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=e,this.bias=n,this.alpha=r,this.beta=a,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+e+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+e+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+r+") * norm + float("+n+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+r+`)
                * float(`+a+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+a+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},Jle=function(t,e,n,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,o=e,u=t[3]-1;this.outputShape=t;var c="float("+n+") + float("+r+") * sum";i=a===.5?"inversesqrt("+c+")":a===1?"1.0/("+c+")":"exp(log("+c+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+o+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+o+"; j <= "+o+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+u+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+i+`;
        setOutput(result);
      }
    `},efe=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.strideHeight,n=t.strideWidth,r=t.dilationHeight,a=t.effectiveFilterHeight,i=t.effectiveFilterWidth,o=a-1-t.padInfo.top,u=i-1-t.padInfo.left,c=a*i-1;this.userCode=`
      const ivec2 pads = ivec2(`+o+", "+u+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+a+`;
          wR += `+r+`) {
          float dyR = float(dyRCorner + wR) / `+e+`.0;

          if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+i+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+n+`.0;

            if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+c+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+i+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},tfe=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.strideDepth,n=t.strideHeight,r=t.strideWidth,a=t.dilationDepth,i=t.dilationHeight,o=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,l=t.effectiveFilterWidth,h=u-1-t.padInfo.front,d=c-1-t.padInfo.top,v=l-1-t.padInfo.left,m=u*c*l-1;this.userCode=`
      const ivec3 pads = ivec3(`+h+", "+d+", "+v+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+u+`;
           wD += `+a+`) {
          float dyD = float(dyDCorner + wD) / `+e+`.0;

          if (dyD < 0.0 || dyD >= `+t.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+c+`;
              wR += `+i+`) {
            float dyR = float(dyRCorner + wR) / `+n+`.0;

            if (dyR < 0.0 || dyR >= `+t.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+l+`;
                wC += `+o+`) {
              float dyC = float(dyCCorner + wC) / `+r+`.0;

              if (dyC < 0.0 || dyC >= `+t.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+m+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+c+" * "+l+` +
                  wR * `+l+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},o_=function(t,e,n,r,a,i,o){n===void 0&&(n=!1),r===void 0&&(r=!1),a===void 0&&(a=!1),i===void 0&&(i=null),o===void 0&&(o=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;var u=n?t[1]:t[2],c=Math.ceil(u/2),l=n?"i * 2, rc.y":"rc.y, i * 2",h=r?"rc.z, i * 2":"i * 2, rc.z",d=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],v=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],m="",y="";i&&(m=o?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+i+`
        }`:`vec4 activation(vec4 x) {
          `+i+`
        }`,y="result = activation(result);");var x=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+m+`

      const float sharedDimension = `+c+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+c+`; i++) {
          vec4 a = getMatrixA(rc.x, `+l+`);
          vec4 b = getMatrixB(rc.x, `+h+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+d[0]+" * "+v[0]+`);
          result += (`+d[1]+" * "+v[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+x+`

        `+y+`

        setOutput(result);
      }
    `},nfe=function(){function t(e,n,r){this.variableNames=["probs"],this.outputShape=[e,r],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(n-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(n-1)+`));
      }
    `}return t.prototype.getCustomSetupFunc=function(e){var n=this;return function(r,a){n.seedLoc==null&&(n.seedLoc=r.getUniformLocation(a,"seed")),r.gl.uniform1f(n.seedLoc,e)}},t}(),rfe=function(t,e,n,r){this.variableNames=["indices"],this.outputShape=[t,e],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+r+"), float("+n+`),
                      float(index == coords.y)));
      }
    `},afe=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t;var e=t.length;if(e===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var n=vr("rc",e),r=kt(e),a=function(u,c,l){if(u===1)return"rc > "+c[0];for(var h="",d=u-2;d<u;d++)h+=l[d]+" >= "+c[d],d<u-1&&(h+="||");return h}(e,t,n),i=function(u,c,l,h){if(u===1)return"";var d=h.slice(-2);return`
    int r = `+d[0]+`;
    int c = `+d[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+c+`;
    bool rEdge = rp1 >= `+l+`;
  `}(e,t[t.length-1],t[t.length-2],n),o=function(u,c){var l=u.length,h=function(d,v){for(var m=[],y=0;y<=1;y++)for(var x=0;x<=1;x++){for(var b=(y===0?"r":"rp1")+", "+(x===0?"c":"cp1"),w=2;w<d;w++)b=v[v.length-1-w]+","+b;m.push(b)}return m}(l,c);return l===1?`getA(rc),
            rc + 1 >= `+u[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+h[0]+`),
          cEdge ? 0. : getA(`+h[1]+`),
          rEdge ? 0. : getA(`+h[2]+`),
          rEdge || cEdge ? 0. : getA(`+h[3]+")"}(t,n);this.userCode=`
        void main() {
          `+r+` rc = getOutputCoords();

          if(`+a+`) {
            setOutput(vec4(0));
          } else {
            `+i+`

            setOutput(vec4(`+o+`));
          }
        }
      `}},ife=function(t,e,n){this.variableNames=["x"],this.outputShape=e.map(function(c,l){return c[0]+t[l]+c[1]});var r=t.length,a=kt(r),i=e.map(function(c){return c[0]}).join(","),o=e.map(function(c,l){return c[0]+t[l]}).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=r!==1?`
      `+a+" start = "+a+"("+i+`);
      `+a+" end = "+a+"("+o+`);

      void main() {
        `+a+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+n+`));
        } else {
          `+a+` coords = outC - start;
          setOutput(getX(`+u+`));
        }
      }
    `:`
        int start = `+i+`;
        int end = `+o+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+n+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},ofe=function(t,e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.map(function(b,w){return b[0]+t[w]+b[1]});for(var r=t.length,a=kt(r),i=e.map(function(b){return b[0]}).join(","),o=e.map(function(b,w){return b[0]+t[w]}).join(","),u=vr("rc",r),c=vr("source",r),l=u[r-1]+" < "+this.outputShape[r-1],h=r===1?"source":"vec2("+c.slice(-2).join()+")",d=[a+" rc = outputLoc;",u[r-1]+` += 1;
       if(`+l+`) {
      `,r===1?"":`}
       rc = outputLoc;
       `+u[r-2]+` += 1;
       if(`+u[r-2]+" < "+this.outputShape[r-2]+") {",r===1?"":"  "+u[r-1]+` += 1;
         if(`+l+") {"],v=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",m="",y=0,x=r===1?2:4;y<x;y++)m+=`
        `+d[y]+`
        if (`+v+`) {
          result[`+y+"] = float("+n+`);
        } else {
          `+a+` source = rc - start;
          result[`+y+"] = getChannel(getX("+c.join()+"), "+h+`);
        }
      `;m+=r===1?"} ":"}}",this.userCode=`
      const `+a+" start = "+a+"("+i+`);
      const `+a+" end = "+a+"("+o+`);

      void main() {
        `+a+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+m+`
        setOutput(result);
      }
    `},u_=function(t,e,n){if(this.variableNames=["x"],e==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,u=t.dilationWidth,c=t.effectiveFilterHeight,l=t.effectiveFilterWidth,h=t.padInfo.top,d=t.padInfo.left;this.outputShape=t.outShape;var v=e==="avg",m="0.0";if(v||(m="-1.0 / 1e-20"),n)this.userCode=`
        const ivec2 strides = ivec2(`+a+", "+i+`);
        const ivec2 pads = ivec2(`+h+", "+d+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+c+`;
              wR += `+o+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+l+`;
                wC += `+u+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+t.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+l+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var y=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="avg"&&(y="avgValue / count");var x=4*Math.floor(r/4),b=r%4,w=`
      if (`+v+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+a+", "+i+`);
      const ivec2 pads = ivec2(`+h+", "+d+`);
      const float initializationValue = `+m+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+t.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+m+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+c+`;
            wR += `+o+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+t.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+x+`; wC += 4) {
            int xC = xCCorner + wC * `+u+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+u+`, d),
              getValue(batch, xR, xC + 2 * `+u+`, d),
              getValue(batch, xR, xC + 3 * `+u+`, d)
            );

            `+w+`
          }

          int xC = xCCorner + `+x+`;
          if (`+(b===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+w+`
          } else if (`+(b===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+u+`, d),
              initializationValue,
              initializationValue
            );

            `+w+`
          } else if (`+(b===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+u+`, d),
              getValue(batch, xR, xC + 2 * `+u+`, d),
              initializationValue
            );

            `+w+`
          }
        }
        setOutput(`+y+`);
      }
    `}},s_=function(t,e,n){if(this.variableNames=["x"],e==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=t.filterWidth,a=t.strideDepth,i=t.strideHeight,o=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,h=t.effectiveFilterDepth,d=t.effectiveFilterHeight,v=t.effectiveFilterWidth,m=t.padInfo.front,y=t.padInfo.top,x=t.padInfo.left;this.outputShape=t.outShape;var b=e==="avg",w="0.0";if(b||(w="-1.0 / 1e-20"),n)this.userCode=`
        const ivec3 strides =
            ivec3(`+a+", "+i+", "+o+`);
        const ivec3 pads = ivec3(`+m+", "+y+", "+x+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+h+`;
              wD += `+u+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+t.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+d+`;
                wR += `+c+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+t.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+v+`;
                  wC += `+l+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+t.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+d+" * "+v+` +
                      wR * `+v+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var S=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="avg"&&(S="avgValue / count");var A=4*Math.floor(r/4),O=r%4,E=`
      if (`+b+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+a+", "+i+", "+o+`);
      const ivec3 pads = ivec3(`+m+", "+y+", "+x+`);
      const float initializationValue = `+w+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+t.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+w+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+h+`;
            wD += `+u+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+t.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+d+`;
            wR += `+c+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+t.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+A+`; wC += 4) {
              int xC = xCCorner + wC * `+l+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+l+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+l+`, ch)
              );

              `+E+`
            }

            int xC = xCCorner + `+A+`;
            if (`+(O===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+E+`
            } else if (`+(O===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                initializationValue,
                initializationValue
              );

              `+E+`
            } else if (`+(O===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+l+`, ch),
                initializationValue
              );

              `+E+`
            }
          }
          setOutput(`+S+`);
        }
      }
    `}},ufe=function(t,e){this.variableNames=["x"];var n=t.windowSize,r=t.batchSize,a=t.inSize,i=Math.ceil(a/n);this.outputShape=[r,i];var o="0.0",u="";e==="prod"?o="1.0":e==="min"?(o="1.0 / 1e-20",u="min"):e==="max"&&(o="-1.0 / 1e-20",u="max");var c=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="sum"?c="sumValue":e==="prod"?c="prodValue":e==="all"?c="allValue":e==="any"&&(c="anyValue");var l=4*Math.floor(n/4),h=n%4,d=`
      if (`+(e==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(e==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+u+`(values, minMaxValue);
      }
    `,v="vec4";e==="all"?(o="1.0",d=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,v="bvec4"):e==="any"&&(o="0.0",d=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,v="bvec4");var m="";a%n>0&&(m=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+o+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+m+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+n+`;

        vec4 minMaxValue = vec4(`+o+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+l+`; i += 4) {
          int inIdx = inOffset + i;
          `+v+" values = "+v+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+d+`
        }

        int inIdx = inOffset + `+l+`;
        if (`+(h===1)+`) {
          `+v+" values = "+v+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+d+`
        } else if (`+(h===2)+`) {
          `+v+" values = "+v+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+d+`
        } else if (`+(h===3)+`) {
          `+v+" values = "+v+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+d+`
        }
        setOutput(`+c+`);
      }
    `},sfe=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;for(var n="",r=0;r<4;r++){var a="thisRC = rc;";r%2==1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),n+=`
        `+a+`
        `+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+r+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(r>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+bu(["r","c","d"],e)+`
      return ivec3(r, c, d);
    }
  
      `+rA(t)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+t[1]+`;
        int cols = `+t[2]+`;

        `+n+`

        setOutput(result);
      }
    `},cfe=function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,a=r[1],i=r[2],o=t.shape,u=o[1],c=o[2],l=[n&&u>1?a-1:a,n&&c>1?i-1:i],h=[n&&u>1?u-1:u,n&&c>1?c-1:c],d=l[0]/h[0],v=l[1]/h[1],m=1/d,y=1/v,x=2*Math.ceil(m)+2,b=2*Math.ceil(y)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+d+`);
        const float widthScale = float(`+v+`);

        const float invHeightScale = float(`+m+`);
        const float invWidthScale = float(`+y+`);

        const int winHeight = int(`+x+`);
        const int winWidth = int(`+b+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+u+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+c+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(a-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(i-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},lfe=function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var a=t[0],i=t[1],o=t[2],u=t[3];this.outputShape=[a,e,n,u];var c=[r&&e>1?i-1:i,r&&n>1?o-1:o],l=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+c[0]/l[0]+`,
          `+c[1]/l[1]+`);
      const vec2 inputShapeRC = vec2(`+i+".0, "+o+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},ffe=function(t,e,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var a=t[0],i=t[1],o=t[2],u=t[3];this.outputShape=[a,e,n,u];var c=[r&&e>1?i-1:i,r&&n>1?o-1:o],l=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+c[0]/l[0]+`,
          `+c[1]/l[1]+`,
          `+c[1]/l[1]+`);
      const vec3 inputShapeRC = vec3(`+i+".0, "+o+`.0,
                                     `+o+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(u-1)+`;
        bool hasNextRow = coords.z < `+(n-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},hfe=function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,a=r[1],i=r[2],o=t.shape,u=o[1],c=o[2],l=[n&&u>1?a-1:a,n&&c>1?i-1:i],h=[n&&u>1?u-1:u,n&&c>1?c-1:c],d=l[0]/h[0],v=l[1]/h[1],m=1/d,y=1/v,x=2*Math.ceil(m)+2,b=2*Math.ceil(y)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+d+`);
        const float widthScale = float(`+v+`);

        const float invHeightScale = float(`+m+`);
        const float invWidthScale = float(`+y+`);

        const int winHeight = int(`+x+`);
        const int winWidth = int(`+b+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+u+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+c+`) {
              continue;
            }

            float sourceFracRow =
              float(`+l[0]+`) *
                (float(dyR) / float(`+h[0]+`));

            float sourceFracCol =
                float(`+l[1]+`) *
                  (float(dyC) / float(`+h[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+a+`) - 1),
                `+n+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+i+`) - 1),
                `+n+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},dfe=function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var a=t[0],i=t[1],o=t[2],u=t[3];this.outputShape=[a,e,n,u];var c=[r&&e>1?i-1:i,r&&n>1?o-1:o],l=[r&&e>1?e-1:e,r&&n>1?n-1:n],h=r?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+c[0]/l[0]+`,
          `+c[1]/l[1]+`);
      const vec2 inputShapeRC = vec2(`+i+".0, "+o+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+h+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},pfe=function(t,e){this.variableNames=["x"];var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=t,n!==1){var r=t.map(function(i,o){return function(u){return e.indexOf(u)!==-1&&t[u]!==1?t[u]+" - coords["+u+"] - 1":"coords["+u+"]"}(o)}).join(","),a=kt(n);this.userCode=`
      void main() {
        `+a+` coords = getOutputCoords();
        setOutput(getX(`+r+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+t[0]+` - coord - 1));
        }
      `},vfe=function(t,e){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=t;var r=vr("rc",n),a=r[n-1]+" + 1 < "+this.outputShape[n-1],i=r[n-2]+" + 1 < "+this.outputShape[n-2],o=kt(n);function u(c){var l=t.map(function(h,d){return function(v,m){return e.indexOf(v)!==-1&&t[v]!==1?t[v]+" - "+m[v]+" - 1":""+m[v]}(d,c)});return"getChannel(getX("+l.join(",")+"), vec2("+l.slice(-2).join(",")+"))"}this.userCode=n===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+t[0]+` - rc - 1),
            `+t[0]+` - rc - 1);
          if(`+a+`){
              result.g = getChannel(getX(`+t[0]+` - (rc  + 1) - 1),
                `+t[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+o+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+function(c){return u(c)}(r.slice())+`;
          if(`+a+`){
            result.g = `+function(c){return c[n-1]="("+c[n-1]+" + 1)",u(c)}(r.slice())+`;
          }
          if(`+i+`) {
            result.b = `+function(c){return c[n-2]="("+c[n-2]+" + 1)",u(c)}(r.slice())+`;
            if(`+a+`) {
              result.a = `+function(c){return c[n-1]="("+c[n-1]+" + 1)",c[n-2]="("+c[n-2]+" + 1)",u(c)}(r.slice())+`;
            }
          }
          setOutput(result);
        }
    `},j4=function(t,e,n,r,a,i,o){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var u=kt(a.length),c=kt(i.length),l="";n===1?l="i":n===2&&(l="i, j");var h="getIndices("+l+")",d="";r===1?d="i":r===2&&(d="i, coords[1]");var v="getUpdates("+d+")",m=e>1?"strides[j]":"strides";this.userCode=`
        `+u+" strides = "+u+"("+a+`);

        void main() {
          `+c+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+t+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+e+`; j++) {
              int index = round(`+h+`);
              flattenedIndex += index * `+m+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+v+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},mfe=function(t,e){this.variableNames=["x","segmentIds"];var n=t.windowSize,r=t.batchSize,a=t.inSize,i=t.numSegments,o=i*Math.ceil(a/n);this.outputShape=[r,o];var u=4*Math.floor(n/4),c=n%4,l=`
        sumValue += dot(values, segFilter);
    `,h="";a%n>0&&(h=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `);var d="";a%n>0&&(d=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+h+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+d+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+i+")) * float("+n+`));
        int currentSeg = int(mod(float(outIdx), float(`+i+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+u+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+l+`
        }

        int inIdx = inOffset + `+u+`;
        if (`+(c===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+l+`
        } else if (`+(c===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+l+`
        } else if (`+(c===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+l+`
        }
        setOutput(sumValue);
      }
    `},gfe=function(t,e,n){var r,a;if(this.variableNames=["c","a","b"],this.outputShape=e,n>4)throw Error("Where for rank "+n+" is not yet supported");if(n===1)a="resRC",r="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],u=[],c=0;c<e.length;c++)u.push(""+i[c]),c<t&&o.push(""+i[c]);r=o.join(),a=u.join()}var l=kt(n);this.userCode=`
      void main() {
        `+l+` resRC = getOutputCoords();
        float cVal = getC(`+r+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+a+`));
        } else {
          setOutput(getB(`+a+`));
        }
      }
    `},yfe=function(){function t(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var n,r=kt(this.rank),a="uniform int start["+this.rank+"];",i=function(o){if(o===1)return"sourceLoc";if(o<=6)return c_.slice(0,o).map(function(u){return"sourceLoc."+u}).join(",");throw Error("Slicing for rank "+o+" is not yet supported")}(this.rank);n=`
        `+r+` sourceLoc;
        `+r+` coords = getOutputCoords();
        `+e.map(function(o,u){return"sourceLoc."+c_[u]+" = start["+u+"] + coords."+c_[u]+";"}).join(`
`)+`
      `,this.userCode=`
      `+a+`
      void main() {
        `+n+`
        setOutput(getSource(`+i+`));
      }
    `}return t.prototype.getCustomSetupFunc=function(e){var n=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(r,a){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(a,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,e)}},t}(),c_=["x","y","z","w","u","v"],bfe=function(){function t(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var n=kt(this.rank),r=vr("coords",this.rank),a=vr("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":"vec2("+a.slice(-2).join()+")",o="getChannel(getSource("+a.join()+"), "+i+")",u=`
      result.x = `+o+`;
      if (++`+r[this.rank-1]+" < "+e[this.rank-1]+`) {
        ++`+a[this.rank-1]+`;
        result.y = `+o+`;
        --`+a[this.rank-1]+`;
      }
    `,c=this.rank===1?"":`
      --`+r[this.rank-1]+`;
      if (++`+r[this.rank-2]+" < "+e[this.rank-2]+`) {
        ++`+a[this.rank-2]+`;
        result.z = `+o+`;
        if (++`+r[this.rank-1]+" < "+e[this.rank-1]+`) {
          ++`+a[this.rank-1]+`;
          result.w = `+o+`;
        }
      }
    `,l=this.rank<=4?`sourceLoc = coords +
            `+n+"("+e.map(function(h,d){return"start["+d+"]"}).join()+");":e.map(function(h,d){return a[d]+" = "+r[d]+" + start["+d+"];"}).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+n+` coords = getOutputCoords();
        `+n+` sourceLoc;
        `+l+`
        vec4 result = vec4(0.);
        `+u+`
        `+c+`
        setOutput(result);
      }
    `}return t.prototype.getCustomSetupFunc=function(e){var n=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(r,a){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(a,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,e)}},t}(),xfe=function(t,e,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,a=kt(n.length),i=kt(n.length),o="";if(r===1)o="coords * strides + begin";else{var u=0;o=n.map(function(c,l){return u++,n.length===1?"coords * strides["+l+"] + begin["+l+"]":"coords["+(u-1)+"] * strides["+l+"] + begin["+l+"]"}).join(",")}this.userCode=`
      `+a+" begin = "+a+"("+t+`);
      `+a+" strides = "+a+"("+e+`);

      void main() {
        `+i+` coords = getOutputCoords();
        setOutput(getX(`+o+`));
      }
    `},wfe=function(){function t(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return t.prototype.acquireTexture=function(e,n,r){var a,i=F4(n,r),o=U4(e,i,r);if(o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]),this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var u=this.freeTextures[o].shift();return this.usedTextures[o].push(u),u}return this.numUsedTextures++,this.log(),i===Pr.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):i===Pr.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):i===Pr.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):i===Pr.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):i===Pr.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[o].push(a),a},t.prototype.releaseTexture=function(e,n,r,a){if(this.freeTextures!=null){var i=U4(n,F4(r,a),a);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(e),this.numFreeTextures++,this.numUsedTextures--;var o=this.usedTextures[i],u=o.indexOf(e);if(u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");o.splice(u,1),this.log()}},t.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},t.prototype.getNumUsedTextures=function(){return this.numUsedTextures},t.prototype.getNumFreeTextures=function(){return this.numFreeTextures},t.prototype.dispose=function(){var e=this;if(this.freeTextures!=null){for(var n in this.freeTextures)this.freeTextures[n].forEach(function(r){e.gpgpu.deleteMatrixTexture(r)});for(var n in this.usedTextures)this.usedTextures[n].forEach(function(a){e.gpgpu.deleteMatrixTexture(a)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},t}();function F4(t,e){if(t===kr.UPLOAD)return Pr.PACKED_2X2_FLOAT32;if(t===kr.RENDER||t==null)return function(n){return fe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?Pr.PACKED_2X2_FLOAT32:Pr.UNPACKED_FLOAT32:n?Pr.PACKED_2X2_FLOAT16:Pr.UNPACKED_FLOAT16}(e);if(t===kr.DOWNLOAD||t===kr.PIXELS)return Pr.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+t)}function U4(t,e,n){return t[0]+"_"+t[1]+"_"+e+"_"+n}var _fe=function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[r]*e[r];this.outputShape=n,this.rank=n.length;var a=kt(this.rank),i=function(o){var u=o.length;if(u>5)throw Error("Tile for rank "+u+" is not yet supported");if(u===1)return"imod(resRC, "+o[0]+")";for(var c=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],l=[],h=0;h<o.length;h++)l.push("imod("+c[h]+", "+o[h]+")");return l.join()}(t);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+i+`));
      }
    `},Sfe=function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];this.outputShape=n,this.rank=n.length;var a=kt(this.rank),i=function(o){var u=o.length;if(u>6)throw Error("Transpose for rank "+u+" is not yet supported");for(var c=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],l=new Array(u),h=0;h<o.length;h++)l[o[h]]=c[h];return l.join()}(e);this.userCode=`
    void main() {
      `+a+` resRC = getOutputCoords();
      setOutput(getA(`+i+`));
    }
    `},Efe=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var a=kt(this.rank),i=xq("rc",this.rank),o=new Array(this.rank);for(r=0;r<e.length;r++)o[e[r]]=i[r];var u="vec2("+o.slice(-2).join()+")",c="++"+i[this.rank-1]+" < "+n[this.rank-1],l="getChannel(getA("+o.join()+"), "+u+")";this.userCode=`
    void main() {
      `+a+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+l+`;
      if(`+c+`) {
        result[1] = `+l+`;
      }
      --`+i[this.rank-1]+`;
      if(++`+i[this.rank-2]+" < "+n[this.rank-2]+`) {
        result[2] = `+l+`;
        if(`+c+`) {
          result[3] = `+l+`;
        }
      }
      setOutput(result);
    }
    `},aA=1.7580993408473768,iA=1.0507009873554805,tt=function(t,e){this.variableNames=["A"],this.outputShape=t,this.userCode=`
      float unaryOperation(float x) {
        `+e+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},Oa="if (isnan(x)) return x;",Afe="return x;",q4="return abs(x);",Aq=Oa+`
  return (x < 0.0) ? 0.0 : x;
`,Oq=Oa+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,Tq="return (x >= 0.0) ? x : (exp(x) - 1.0);",Ofe=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+aA+`;
  float scale = `+iA+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,z4="return -x;",$4="return ceil(x);",W4="return floor(x);",H4="return exp(x);",V4="return exp(x) - 1.0;",Tfe=Oa+`
  return sin(x);
`,Cfe=Oa+`
  return cos(x);
`,Rfe=Oa+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,Dfe=Oa+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,Mfe=Oa+`
  return atan(x);
`,Pfe=Oa+"return log(x + sqrt(x * x + 1.0));",Nfe=Oa+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,kfe=Oa+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,mp="return x;",Ife="return x;",Cq=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Rq=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Dq=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,sf=function(t,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+e+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},Bfe=function(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t;var e=t.length,n=vr("rc",e),r=kt(e),a=function(u,c){if(u===1)return"rc";for(var l="",h=0;h<u;h++)l+=c[h],h<u-1&&(l+=",");return l}(e,n),i=n.slice(-2),o=e<=1?"rc":"vec2("+i.join(",")+")";this.userCode=`
      void main() {
        `+r+` rc = getOutputCoords();
        vec4 packedInput = getA(`+a+`);

        setOutput(getChannel(packedInput, `+o+`));
      }
    `},gp={};function yp(t,e){if(e===void 0&&(e=!1),t==="linear")return e?Ife:Afe;if(t==="relu")return e?Cq:Aq;if(t==="elu")return e?Dq:Tq;if(t==="relu6")return e?Rq:Oq;if(t==="prelu")return e?Eq:Sq;throw new Error("Activation "+t+" has not been implemented for the WebGL backend.")}var Lfe=600,jfe=function(t){function e(n){var r,a=t.call(this)||this;if(a.pendingRead=new WeakMap,a.pendingDisposal=new WeakSet,a.dataRefCount=new WeakMap,a.numBytesInGPU=0,a.uploadWaitMs=0,a.downloadWaitMs=0,a.warnedAboutMemory=!1,a.pendingDeletes=0,a.disposed=!1,!fe().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(n==null){var i=Qa(fe().getNumber("WEBGL_VERSION"));a.binaryCache=((r=fe().getNumber("WEBGL_VERSION"))in gp||(gp[r]={}),gp[r]),a.gpgpu=new Xle(i),a.canvas=i.canvas,a.gpgpuCreatedLocally=!0}else a.gpgpu=n,a.binaryCache={},a.gpgpuCreatedLocally=!1,a.canvas=n.gl.canvas;return a.textureManager=new wfe(a.gpgpu),a.numMBBeforeWarning=fe().global.screen==null?1024:fe().global.screen.height*fe().global.screen.width*window.devicePixelRatio*Lfe/1024/1024,a.texData=new fq(a,ee),a}return Aa(e,t),e.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},e.prototype.write=function(n,r,a){if(fe().getBool("DEBUG")&&this.checkNumericalProblems(n),a==="complex64"&&n!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var i={};return this.texData.set(i,{shape:r,dtype:a,values:n,usage:kr.UPLOAD}),i},e.prototype.move=function(n,r,a,i){if(fe().getBool("DEBUG")&&this.checkNumericalProblems(r),i==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(n,{shape:a,dtype:i,values:r,usage:kr.UPLOAD})},e.prototype.readSync=function(n){var r=this.texData.get(n),a=r.values,i=r.dtype,o=r.complexTensors,u=r.slice,c=r.shape,l=r.isPacked;if(u!=null){var h=void 0;h=l?new sf(c,mp):new tt(c,mp);var d=this.runWebGLProgram(h,[{dataId:n,shape:c,dtype:i}],i),v=this.readSync(d.dataId);return this.disposeData(d.dataId),v}if(a!=null)return this.convertAndCacheOnCPU(n);if(i==="string")return a;var m,y,x=this.activeTimers!=null;return x&&(m=Ia()),i==="complex64"?y=xS(o.real.dataSync(),o.imag.dataSync()):y=this.getValuesFromTexture(n),x&&(this.downloadWaitMs+=Ia()-m),this.convertAndCacheOnCPU(n,y)},e.prototype.read=function(n){return De(this,void 0,void 0,function(){var r,a,i,o,u,c,l,h,d,v,m,y,x,b,w,S,A,O,E,C,R,D;return Me(this,function(M){switch(M.label){case 0:if(this.pendingRead.has(n))return r=this.pendingRead.get(n),[2,new Promise(function(N){return r.push(N)})];if(a=this.texData.get(n),i=a.values,o=a.shape,u=a.slice,c=a.dtype,l=a.complexTensors,h=a.isPacked,u!=null)return d=void 0,d=h?new sf(o,mp):new tt(o,mp),v=this.runWebGLProgram(d,[{dataId:n,shape:o,dtype:c}],c),m=this.read(v.dataId),this.disposeData(v.dataId),[2,m];if(i!=null)return[2,this.convertAndCacheOnCPU(n)];if(!fe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&fe().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return y=null,c!=="complex64"&&fe().get("WEBGL_BUFFER_SUPPORTED")&&(x=this.decode(n),b=this.texData.get(x.dataId),y=(D=this.gpgpu).createBufferFromTexture.apply(D,[b.texture].concat(bf(o)))),this.pendingRead.set(n,[]),c==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:M.sent(),M.label=2;case 2:return c!=="complex64"?[3,4]:[4,Promise.all([l.real.data(),l.imag.data()])];case 3:return S=M.sent(),A=S[0],O=S[1],w=xS(A,O),[3,5];case 4:y==null?w=this.getValuesFromTexture(n):(E=Pe(o),w=this.gpgpu.downloadFloat32MatrixFromBuffer(y,E)),M.label=5;case 5:return x!=null&&this.disposeData(x.dataId),C=this.convertAndCacheOnCPU(n,w),R=this.pendingRead.get(n),this.pendingRead.delete(n),R.forEach(function(N){return N(C)}),this.pendingDisposal.has(n)&&(this.pendingDisposal.delete(n),this.disposeData(n),this.pendingDeletes--),[2,C]}})})},e.prototype.checkNumericalProblems=function(n){if(n!=null)for(var r=0;r<n.length;r++){var a=n[r];if(!Ose(a))throw fe().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+a+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+a+" cannot be represented on this device.")}},e.prototype.getValuesFromTexture=function(n){var r,a=this.texData.get(n),i=a.shape,o=a.dtype,u=a.isPacked,c=Pe(i);if(fe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var l=this.decode(n),h=this.texData.get(l.dataId),d=(r=this.gpgpu).downloadMatrixFromPackedTexture.apply(r,[h.texture].concat(bf(i))).subarray(0,c);return this.disposeData(l.dataId),d}var v=fe().getBool("WEBGL_PACK")&&u===!0,m=v?n_(i):i,y=v?new Ale(m):new Ele(m),x=this.runWebGLProgram(y,[{shape:m,dtype:o,dataId:n}],"float32"),b=this.texData.get(x.dataId),w=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(b.texture,b.texShape[0],b.texShape[1]).subarray(0,c);return this.disposeData(x.dataId),w},e.prototype.time=function(n){return De(this,void 0,void 0,function(){var r,a,i,o,u,c,l;return Me(this,function(h){switch(h.label){case 0:return r=this.activeTimers,a=[],i=!1,this.programTimersStack==null?(this.programTimersStack=a,i=!0):this.activeTimers.push(a),this.activeTimers=a,n(),o=Rc(this.activeTimers.map(function(d){return d.query})).filter(function(d){return d!=null}),u=Rc(this.activeTimers.map(function(d){return d.name})).filter(function(d){return d!=null}),this.activeTimers=r,i&&(this.programTimersStack=null),c={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(o)]:[3,2];case 1:return l=h.sent(),c.kernelMs=ose(l),c.getExtraProfileInfo=function(){return l.map(function(d,v){return{name:u[v],ms:d}}).map(function(d){return d.name+": "+d.ms}).join(", ")},[3,3];case 2:c.kernelMs={error:"WebGL query timers are not supported in this environment."},h.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,c]}})})},e.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},e.prototype.startTimer=function(){return fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Ia(),endMs:null}},e.prototype.endTimer=function(n){return fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),n):(n.endMs=Ia(),n)},e.prototype.getQueryTime=function(n){return De(this,void 0,void 0,function(){var r;return Me(this,function(a){return fe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(n)]:[2,(r=n).endMs-r.startMs]})})},e.prototype.disposeData=function(n){if(!this.pendingDisposal.has(n)){if(this.pendingRead.has(n))return this.pendingDisposal.add(n),void this.pendingDeletes++;if(this.texData.has(n)){this.releaseGPUData(n);var r=this.texData.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(n)}}},e.prototype.releaseGPUData=function(n){var r=this.texData.get(n),a=r.texture,i=r.dtype,o=r.texShape,u=r.usage,c=r.isPacked,l=r.slice,h=l&&l.origDataId||n,d=this.dataRefCount.get(h);d>1?this.dataRefCount.set(h,d-1):(this.dataRefCount.delete(h),a!=null&&(this.numBytesInGPU-=this.computeBytes(o,i),this.textureManager.releaseTexture(a,o,u,c)));var v=this.texData.get(n);v.texture=null,v.texShape=null,v.isPacked=!1,v.slice=null},e.prototype.getTexture=function(n){return this.uploadToGPU(n),this.texData.get(n).texture},e.prototype.getDataInfo=function(n){return this.texData.get(n)},e.prototype.getCPUBackend=function(){return fe().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=ee.findBackend("cpu")),this.cpuBackend):null},e.prototype.shouldExecuteOnCPU=function(n,r){var a=this;return r===void 0&&(r=128),this.getCPUBackend()!=null&&n.every(function(i){return a.texData.get(i.dataId).texture==null&&i.size<r})},e.prototype.getGPGPUContext=function(){return this.gpgpu},e.prototype.complex=function(n,r){var a=this.makeOutput(n.shape,"complex64");return this.texData.get(a.dataId).complexTensors={real:ee.keep(n.clone()),imag:ee.keep(r.clone())},a},e.prototype.real=function(n){return this.texData.get(n.dataId).complexTensors.real.clone()},e.prototype.imag=function(n){return this.texData.get(n.dataId).complexTensors.imag.clone()},e.prototype.slice=function(n,r,a){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.slice(n,r,a);if(Pe(a)===0)return Fn([],a,n.dtype);var i=this.texData.get(n.dataId).isPacked,o=cq(n.shape,r,a);if(i||!o){var u=fe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new bfe(a):new yfe(a),c=u.getCustomSetupFunc(r);return this.compileAndRun(u,[n],null,c)}return this.uploadToGPU(n.dataId),this.shallowSlice(n,r,a)},e.prototype.shallowSlice=function(n,r,a){var i=this.texData.get(n.dataId),o=this.makeOutput(a,n.dtype),u=this.texData.get(o.dataId);Object.assign(u,i),u.shape=a,u.dtype=n.dtype;var c=lq(r,n.strides);i.slice&&(c+=i.slice.flatOffset),u.slice={flatOffset:c,origDataId:i.slice&&i.slice.origDataId||n.dataId};var l=this.dataRefCount.get(u.slice.origDataId)||1;return this.dataRefCount.set(u.slice.origDataId,l+1),o},e.prototype.stridedSlice=function(n,r,a,i){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.stridedSlice(n,r,a,i);var o=ZE(r,a,i);if(o.some(function(c){return c===0}))return Fn([],o);var u=new xfe(r,i,o);return this.compileAndRun(u,[n])},e.prototype.reverse=function(n,r){var a=fe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new vfe(n.shape,r):new pfe(n.shape,r);return this.compileAndRun(a,[n])},e.prototype.concat=function(n,r){if(n[0].dtype==="complex64"){var a=n.map(function(m){return ta(m)}),i=n.map(function(m){return La(m)});return Ln(this.concat(a,r),this.concat(i,r))}if(this.shouldExecuteOnCPU(n))return this.cpuBackend.concat(n,r);if(n.length===1)return n[0];if(n.length>fe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(n.length/2),u=this.concat(n.slice(0,o),r),c=this.concat(n.slice(o),r);return this.concat([u,c],r)}if(fe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&n[0].rank>1){var l=new lle(n.map(function(m){return m.shape}),r);return this.compileAndRun(l,n)}var h=Mc(n.map(function(m){return m.shape}),r),d=n.map(function(m){return m.as2D(-1,Pe(m.shape.slice(r)))}),v=new cle(d.map(function(m){return m.shape}));return this.compileAndRun(v,d).reshape(h)},e.prototype.neg=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.neg(n);if(fe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,z4,n.dtype);var r=new tt(n.shape,z4);return this.compileAndRun(r,[n])},e.prototype.batchMatMul=function(n,r,a,i){var o=a?n.shape[2]:n.shape[1],u=i?r.shape[1]:r.shape[2],c=a?n.shape[1]:n.shape[2],l=n.shape[0];if((o===1||u===1)&&c>1e3){a&&(n=n.transpose([0,2,1])),i&&(r=r.transpose([0,2,1]));var h=u===1?n:n.as3D(l,c,1),d=u===1?2:1,v=u===1?r.as3D(l,1,c):r;return this.multiply(h,v).sum(d,!0)}var m=jn(n.dtype,r.dtype),y=new o_(n.shape,[l,o,u],a,i);return this.compileAndRun(y,[n,r],m)},e.prototype.fusedBatchMatMul=function(n){var r=n.a,a=n.b,i=n.transposeA,o=n.transposeB,u=n.bias,c=n.activation,l=n.preluActivationWeights,h=i?r.shape[2]:r.shape[1],d=o?a.shape[1]:a.shape[2],v=r.shape[0],m=jn(r.dtype,a.dtype),y=u!=null,x=l!=null,b=c?yp(c,!0):null,w=new o_(r.shape,[v,h,d],i,o,y,b,x),S=[r,a];return u&&S.push(u),l&&S.push(l),this.compileAndRun(w,S,m)},e.prototype.multiply=function(n,r){if(n.dtype==="complex64"){var a=this.texData.get(n.dataId),i=this.texData.get(r.dataId),o=new D4(ale,n.shape,r.shape),u=new D4(ile,n.shape,r.shape),c=[this.makeComplexComponentTensorInfo(n,a.complexTensors.real),this.makeComplexComponentTensorInfo(n,a.complexTensors.imag),this.makeComplexComponentTensorInfo(r,i.complexTensors.real),this.makeComplexComponentTensorInfo(r,i.complexTensors.imag)],l=this.compileAndRun(o,c),h=this.compileAndRun(u,c),d=this.complex(l,h);return l.dispose(),h.dispose(),d}if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.multiply(n,r);if(fe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,M4,n.dtype);var v=new Gt(M4,n.shape,r.shape);return this.compileAndRun(v,[n,r],n.dtype)},e.prototype.batchNormalization=function(n,r,a,i,o,u){var c=[n,r,a],l=null;u!=null&&(l=u.shape,c.push(u));var h=null;if(o!=null&&(h=o.shape,c.push(o)),fe().getBool("WEBGL_PACK_NORMALIZATION")){var d=new rle(n.shape,r.shape,a.shape,l,h,i);return this.compileAndRun(d,c)}var v=new nle(n.shape,r.shape,a.shape,l,h,i);return this.compileAndRun(v,c)},e.prototype.localResponseNormalization4D=function(n,r,a,i,o){var u=fe().getBool("WEBGL_PACK_NORMALIZATION")?new Jle(n.shape,r,a,i,o):new Qle(n.shape,r,a,i,o);return this.compileAndRun(u,[n])},e.prototype.LRNGrad=function(n,r,a,i,o,u,c){var l=new Zle(r.shape,i,o,u,c);return this.compileAndRun(l,[r,a,n])},e.prototype.tile=function(n,r){if(n.dtype==="string"){var a=this.readSync(n.dataId).map(function(o){return Lv(o)});return yq(Ze(n.shape,n.dtype,a),r)}var i=new _fe(n.shape,r);return this.compileAndRun(i,[n])},e.prototype.pad=function(n,r,a){var i=fe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ofe(n.shape,r,a):new ife(n.shape,r,a);return this.compileAndRun(i,[n])},e.prototype.transpose=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.transpose(n,r);var a=fe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Efe(n.shape,r):new Sfe(n.shape,r);return this.compileAndRun(a,[n])},e.prototype.gather=function(n,r,a){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.gather(n,r,a);var i=new Mle(n.shape,r.size,a);return this.compileAndRun(i,[n,r])},e.prototype.batchToSpaceND=function(n,r,a){z(n.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var i=r.reduce(function(d,v){return d*v}),o=$v(n.shape,r,i),u=Wv(o.length,r.length),c=Hv(n.shape,r,i),l=iq(a,r.length),h=oq(c,a,r.length);return n.reshape(o).transpose(u).reshape(c).slice(l,h)},e.prototype.spaceToBatchND=function(n,r,a){z(n.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var i=r.reduce(function(v,m){return v*m}),o=[[0,0]];o.push.apply(o,a);for(var u=1+r.length;u<n.shape.length;++u)o.push([0,0]);var c=n.pad(o),l=$v(c.shape,r,i,!1),h=Wv(l.length,r.length,!1),d=Hv(c.shape,r,i,!1);return c.reshape(l).transpose(h).reshape(d)},e.prototype.reduce=function(n,r,a){var i=n.shape[0],o=n.shape[1],u=r_(o),c=new ufe({windowSize:u,inSize:o,batchSize:i},r),l=this.compileAndRun(c,[n],a);return l.shape[1]===1?l:this.reduce(l,r,a)},e.prototype.argReduce=function(n,r,a){a===void 0&&(a=null);var i=n.shape[0],o=n.shape[1];a!=null&&(i=a.shape[0],o=a.shape[1]);var u=r_(o),c=new Gce({windowSize:u,inSize:o,batchSize:i},r,a==null),l=[n];a!=null&&l.push(a);var h=this.compileAndRun(c,l,"int32");return h.shape[1]===1?h:this.argReduce(n,r,h)},e.prototype.argReducePacked=function(n,r,a){a===void 0&&(a=null);var i=a!=null?a.shape:n.shape,o=r_(i[i.length-1]),u=new Jce(i,o,r,a==null),c=a==null?[n]:[n,a],l=this.compileAndRun(u,c,"int32");return l.rank===n.rank?this.argReducePacked(n,r,l):l},e.prototype.sum=function(n,r){Mr("sum",r,n.rank);var a=Vn(n.shape,r),i=a[0],o=Pe(a[1]),u=n.as2D(-1,o),c=Xw(n.dtype);return this.reduce(u,"sum",c).reshape(i)},e.prototype.prod=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.prod(n,r);var a=Vn(n.shape,r),i=a[0],o=Pe(a[1]),u=n.as2D(-1,o),c=Xw(n.dtype);return this.reduce(u,"prod",c).reshape(i)},e.prototype.unsortedSegmentSum=function(n,r,a){var i=0,o=Za([i],n.rank),u=n;o!=null&&(u=n.transpose(o),i=Ja(1,n.rank)[0]);var c=function(m,y,x){for(var b=[],w=m.length,S=0;S<w;S++)S!==y?b.push(m[S]):b.push(x);return b}(u.shape,i,a),l=Pe([u.shape[i]]),h=u.as2D(-1,l),d=Xw(n.dtype),v=this.segOpCompute(h,"unsortedSegmentSum",r,d,a).reshape(c);return o!=null&&(v=v.transpose(KE(o))),v},e.prototype.segOpCompute=function(n,r,a,i,o){var u=n.shape[0],c=n.shape[1],l=function(v,m){var y,x=!1;for(v<=sq?(y=v,x=!0):y=fS(v,Math.floor(Math.sqrt(v)));!x;)y>m||y===v?x=!0:y=fS(v,y+1);return y}(c,o),h=new mfe({windowSize:l,inSize:c,batchSize:u,numSegments:o}),d=this.compileAndRun(h,[n,a],i);return d.shape[1]===o?d:(a=zv(0,o).tile([c/l]),this.segOpCompute(d,r,a,i,o))},e.prototype.argMinMaxReduce=function(n,r,a){var i=[r];if(Mr("arg"+a.charAt(0).toUpperCase()+a.slice(1),i,n.rank),!fe().getBool("WEBGL_PACK_REDUCE")||n.rank<=2){var o=Vn(n.shape,i),u=o[0],c=Pe(o[1]),l=n.as2D(-1,c);return this.argReduce(l,a).reshape(u)}return this.argReducePacked(n,a)},e.prototype.argMin=function(n,r){return this.argMinMaxReduce(n,r,"min")},e.prototype.argMax=function(n,r){return this.argMinMaxReduce(n,r,"max")},e.prototype.cumsum=function(n,r,a,i){if(r!==n.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(n.rank-1)+" but got axis="+r);var o=new ble(n.shape,a,i);return this.compileAndRun(o,[n])},e.prototype.equal=function(n,r){if(fe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(equal(a, b));
`,"bool");var a=new Gt("return float(a == b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.notEqual=function(n,r){if(fe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(notEqual(a, b));
`,"bool");var a=new Gt("return float(a != b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.less=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.less(n,r);if(fe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThan(a, b));
`,"bool");var a=new Gt("return float(a < b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.lessEqual=function(n,r){if(fe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThanEqual(a, b));
`,"bool");var a=new Gt("return float(a <= b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.greater=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.greater(n,r);if(fe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThan(a, b));
`,"bool");var a=new Gt("return float(a > b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.greaterEqual=function(n,r){if(fe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var a=new Gt("return float(a >= b);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.logicalNot=function(n){var r=new tt(n.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[n])},e.prototype.logicalAnd=function(n,r){if(fe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var a=new Gt("return float(a >= 1.0 && b >= 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.logicalOr=function(n,r){if(fe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var a=new Gt("return float(a >= 1.0 || b >= 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r],"bool")},e.prototype.select=function(n,r,a){var i=new gfe(n.rank,r.shape,r.rank);return this.compileAndRun(i,[n,r,a],jn(r.dtype,a.dtype))},e.prototype.where=function(n){Uv("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=n.dataSync();return nA(n.shape,r)},e.prototype.topk=function(n,r,a){return bq(n.dataSync(),n.shape,n.dtype,r)},e.prototype.min=function(n,r){Mr("min",r,n.rank);var a=Vn(n.shape,r),i=a[0],o=Pe(a[1]),u=n.as2D(-1,o);return this.reduce(u,"min",u.dtype).reshape(i)},e.prototype.minimum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.minimum(n,r);var a=fe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bi(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new Gt(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},e.prototype.mod=function(n,r){var a=fe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bi(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new Gt(`if (b == 0.0) return NAN;
  return mod(a, b);`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},e.prototype.max=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.max(n,r);Mr("max",r,n.rank);var a=Vn(n.shape,r),i=a[0],o=Pe(a[1]),u=n.as2D(-1,o);return this.reduce(u,"max",u.dtype).reshape(i)},e.prototype.maximum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.maximum(n,r);var a=fe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bi(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new Gt(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},e.prototype.all=function(n,r){Mr("all",r,n.rank);var a=Vn(n.shape,r),i=a[0],o=Pe(a[1]),u=n.as2D(-1,o);return this.reduce(u,"all",u.dtype).reshape(i)},e.prototype.any=function(n,r){Mr("any",r,n.rank);var a=Vn(n.shape,r),i=a[0],o=Pe(a[1]),u=n.as2D(-1,o);return this.reduce(u,"any",u.dtype).reshape(i)},e.prototype.realDivide=function(n,r){if(fe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var a=new Gt(`
if (a == b) {
  return 1.0;
};
return a / b;`,n.shape,r.shape);return this.compileAndRun(a,[n,r],"float32")},e.prototype.floorDiv=function(n,r){if(fe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var a=new Gt(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,n.shape,r.shape);return this.compileAndRun(a,[n,r],"int32")},e.prototype.add=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,a_);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.add(n,r);var a=jn(n.dtype,r.dtype);if(fe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,a_,a);var i=new Gt(a_,n.shape,r.shape);return this.compileAndRun(i,[n,r],a)},e.prototype.packedUnaryOp=function(n,r,a){var i=new sf(n.shape,r);return this.compileAndRun(i,[n],a)},e.prototype.packedBinaryOp=function(n,r,a,i,o){o===void 0&&(o=!1);var u=new bi(a,n.shape,r.shape,o);return this.compileAndRun(u,[n,r],i)},e.prototype.complexSeparableBinaryOp=function(n,r,a){var i=this,o=this.texData.get(n.dataId),u=this.texData.get(r.dataId),c=[[o.complexTensors.real,u.complexTensors.real],[o.complexTensors.imag,u.complexTensors.imag]].map(function(v){var m=v[0],y=v[1],x=i.makeComplexComponentTensorInfo(n,m),b=i.makeComplexComponentTensorInfo(r,y),w=new Gt(a,n.shape,r.shape);return i.compileAndRun(w,[x,b],jn(m.dtype,y.dtype))}),l=c[0],h=c[1],d=this.complex(l,h);return l.dispose(),h.dispose(),d},e.prototype.makeComplexComponentTensorInfo=function(n,r){return{dataId:r.dataId,dtype:r.dtype,shape:n.shape}},e.prototype.addN=function(n){if(n.length===1)return n[0];if(n.length>fe().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var r=Math.floor(n.length/2),a=this.addN(n.slice(0,r)),i=this.addN(n.slice(r));return this.addN([a,i])}var o=n.map(function(l){return l.dtype}).reduce(function(l,h){return jn(l,h)}),u=n.map(function(l){return l.shape}),c=fe().getBool("WEBGL_PACK")?new Vce(n[0].shape,u):new Hce(n[0].shape,u);return this.compileAndRun(c,n,o)},e.prototype.subtract=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,i_);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.subtract(n,r);var a=jn(n.dtype,r.dtype);if(fe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,i_,n.dtype);var i=new Gt(i_,n.shape,r.shape);return this.compileAndRun(i,[n,r],a)},e.prototype.pow=function(n,r){var a=fe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bi(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new Gt(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,n.shape,r.shape),i=jn(n.dtype,r.dtype);return this.compileAndRun(a,[n,r],i)},e.prototype.ceil=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.ceil(n);if(fe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,$4,n.dtype);var r=new tt(n.shape,$4);return this.compileAndRun(r,[n])},e.prototype.floor=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.floor(n);if(fe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,W4,n.dtype);var r=new tt(n.shape,W4);return this.compileAndRun(r,[n])},e.prototype.sign=function(n){var r=new tt(n.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(r,[n])},e.prototype.isNaN=function(n){var r=new tt(n.shape,"return float(isnan(x));");return this.compileAndRun(r,[n],"bool")},e.prototype.isInf=function(n){var r=new tt(n.shape,"return float(isinf(x));");return this.compileAndRun(r,[n],"bool")},e.prototype.isFinite=function(n){var r=new tt(n.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(r,[n],"bool")},e.prototype.round=function(n){var r=new tt(n.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(r,[n])},e.prototype.exp=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.exp(n);if(fe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,H4,n.dtype);var r=new tt(n.shape,H4);return this.compileAndRun(r,[n])},e.prototype.expm1=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.expm1(n);if(fe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,V4,n.dtype);var r=new tt(n.shape,V4);return this.compileAndRun(r,[n])},e.prototype.softmax=function(n,r){var a=xn([r],n.shape),i=this.max(n,a),o=br(i.shape,a),u=this.subtract(n,i.reshape(o)),c=this.exp(u),l=this.sum(c,a).reshape(o);return this.realDivide(c,l)},e.prototype.log=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.log(n);if(fe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,n.dtype);var r=new tt(n.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(r,[n])},e.prototype.log1p=function(n){var r=new tt(n.shape,"return log(1.0 + x);");return this.compileAndRun(r,[n])},e.prototype.sqrt=function(n){var r=new tt(n.shape,"return sqrt(x);");return this.compileAndRun(r,[n])},e.prototype.rsqrt=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.rsqrt(n);var r=new tt(n.shape,"return inversesqrt(x);");return this.compileAndRun(r,[n])},e.prototype.reciprocal=function(n){var r=new tt(n.shape,"return 1.0 / x;");return this.compileAndRun(r,[n])},e.prototype.relu=function(n){var r;return r=fe().getBool("WEBGL_PACK")?new sf(n.shape,Cq):new tt(n.shape,Aq),this.compileAndRun(r,[n])},e.prototype.relu6=function(n){var r;return r=fe().getBool("WEBGL_PACK")?new sf(n.shape,Rq):new tt(n.shape,Oq),this.compileAndRun(r,[n])},e.prototype.prelu=function(n,r){var a=fe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bi(Eq,n.shape,r.shape):new Gt(Sq,n.shape,r.shape);return this.compileAndRun(a,[n,r])},e.prototype.elu=function(n){if(fe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,Dq,n.dtype);var r=new tt(n.shape,Tq);return this.compileAndRun(r,[n])},e.prototype.eluDer=function(n,r){var a=fe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bi(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,n.shape,r.shape):new Gt("return (b >= 1.0) ? a : a * (b + 1.0);",n.shape,r.shape);return this.compileAndRun(a,[n,r])},e.prototype.selu=function(n){var r=new tt(n.shape,Ofe);return this.compileAndRun(r,[n])},e.prototype.int=function(n){var r=new tt(n.shape,"return float(int(x));");return this.compileAndRun(r,[n],"int32")},e.prototype.clip=function(n,r,a){var i,o=(i=fe().getBool("WEBGL_PACK_CLIP")?new ule(n.shape):new ole(n.shape)).getCustomSetupFunc(r,a);return this.compileAndRun(i,[n],null,o)},e.prototype.abs=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.abs(n);if(fe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,q4,n.dtype);var r=new tt(n.shape,q4);return this.compileAndRun(r,[n])},e.prototype.complexAbs=function(n){var r=this.texData.get(n.dataId),a=new sle(n.shape),i=[this.makeComplexComponentTensorInfo(n,r.complexTensors.real),this.makeComplexComponentTensorInfo(n,r.complexTensors.imag)];return this.compileAndRun(a,i)},e.prototype.sigmoid=function(n){var r=new tt(n.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[n])},e.prototype.softplus=function(n){var r=new tt(n.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(r,[n])},e.prototype.sin=function(n){var r=new tt(n.shape,Tfe);return this.compileAndRun(r,[n])},e.prototype.cos=function(n){var r=new tt(n.shape,Cfe);return this.compileAndRun(r,[n])},e.prototype.tan=function(n){var r=new tt(n.shape,"return tan(x);");return this.compileAndRun(r,[n])},e.prototype.asin=function(n){var r=new tt(n.shape,Rfe);return this.compileAndRun(r,[n])},e.prototype.acos=function(n){var r=new tt(n.shape,Dfe);return this.compileAndRun(r,[n])},e.prototype.atan=function(n){var r=new tt(n.shape,Mfe);return this.compileAndRun(r,[n])},e.prototype.atan2=function(n,r){var a=fe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bi(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new Gt(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,n.shape,r.shape);return this.compileAndRun(a,[n,r])},e.prototype.sinh=function(n){var r=new tt(n.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},e.prototype.cosh=function(n){var r=new tt(n.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},e.prototype.tanh=function(n){var r=new tt(n.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(r,[n])},e.prototype.asinh=function(n){var r=new tt(n.shape,Pfe);return this.compileAndRun(r,[n])},e.prototype.acosh=function(n){var r=new tt(n.shape,Nfe);return this.compileAndRun(r,[n])},e.prototype.atanh=function(n){var r=new tt(n.shape,kfe);return this.compileAndRun(r,[n])},e.prototype.erf=function(n){var r=new tt(n.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(r,[n])},e.prototype.step=function(n,r){var a=new tt(n.shape,function(i){return i===void 0&&(i=0),Oa+`
    return x > 0.0 ? 1.0 : float(`+i+`);
  `}(r));return this.compileAndRun(a,[n])},e.prototype.conv2dByMatMul=function(n,r,a,i,o,u){var c=n.shape,l=this.texData.get(n.dataId),h=a.inChannels,d=c[0]*c[1]*c[2],v=a.outChannels,m=a.dataFormat==="channelsLast",y=(d===1||v===1)&&h>1e3,x=c[2]%2!=0&&!!l.isPacked;if(y||!fe().getBool("WEBGL_LAZILY_UNPACK")||!fe().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!x){var b=m?c[0]*c[1]*c[2]:c[0]*c[2]*c[3],w=this.reshape(n,[1,b,a.inChannels]),S=this.reshape(r,[1,a.inChannels,a.outChannels]);return this.reshape(this.fusedBatchMatMul({a:w,b:S,transposeA:!1,transposeB:!1,bias:i,activation:o,preluActivationWeights:u}),a.outShape)}var A=m?c[0]*c[1]*(c[2]+1):c[0]*c[2]*(c[3]+1),O={dataId:n.dataId,shape:[1,A,a.inChannels],dtype:n.dtype},E=l.shape;l.shape=l.shape.slice(),l.shape[l.shape.length-2]++,z(pp(l.shape,O.shape),function(){return"packed reshape "+l.shape+" to "+O.shape+" isn't free"});var C=this.reshape(r,[1,a.inChannels,a.outChannels]),R=this.fusedBatchMatMul({a:O,b:C,transposeA:!1,transposeB:!1,bias:i,activation:o,preluActivationWeights:u}),D=this.texData.get(R.dataId);return z(D.isPacked,function(){return"batchMatMul result is expected to be packed"}),l.shape=E,D.shape=a.outShape,ee.makeTensorFromDataId(R.dataId,a.outShape,R.dtype)},e.prototype.conv2dWithIm2Row=function(n,r,a,i,o,u){var c=a.filterWidth,l=a.filterHeight,h=a.inChannels,d=a.outWidth,v=a.outHeight,m=a.dataFormat==="channelsLast",y=c*l*h,x=v*d,b=[y,x],w=n.squeeze([0]),S=r.reshape([1,y,-1]),A=new Yle(b,w.shape,a),O=this.compileAndRun(A,[w]).reshape([1,b[0],b[1]]),E=i!=null,C=u!=null,R=o?yp(o,!0):null,D=new o_(O.shape,[1,x,a.outChannels],!0,!1,E,R,C),M=[O,S];i&&M.push(i),C&&M.push(u);var N=this.compileAndRun(D,M);return m?N.reshape([1,v,d,a.outChannels]):N.reshape([1,a.outChannels,v,d])},e.prototype.fusedConv2d=function(n){var r=n.input,a=n.filter,i=n.convInfo,o=n.bias,u=n.activation,c=n.preluActivationWeights;if(i.filterHeight===1&&i.filterWidth===1&&i.dilationHeight===1&&i.dilationWidth===1&&i.strideHeight===1&&i.strideWidth===1&&(i.padInfo.type==="SAME"||i.padInfo.type==="VALID"))return this.conv2dByMatMul(r,a,i,o,u,c);if(fe().getBool("WEBGL_CONV_IM2COL")&&r.shape[0]===1)return this.conv2dWithIm2Row(r,a,i,o,u,c);var l=o!=null,h=c!=null,d=u?yp(u,!1):null,v=new P4(i,l,d,h),m=[r,a];return o&&m.push(o),c&&m.push(c),this.compileAndRun(v,m)},e.prototype.conv2d=function(n,r,a){if(a.filterHeight===1&&a.filterWidth===1&&a.dilationHeight===1&&a.dilationWidth===1&&a.strideHeight===1&&a.strideWidth===1&&(a.padInfo.type==="SAME"||a.padInfo.type==="VALID"))return this.conv2dByMatMul(n,r,a);if(fe().getBool("WEBGL_CONV_IM2COL")&&n.shape[0]===1)return this.conv2dWithIm2Row(n,r,a);var i=new P4(a);return this.compileAndRun(i,[n,r])},e.prototype.conv2dDerInput=function(n,r,a){var i=new hle(a);return this.compileAndRun(i,[n,r])},e.prototype.conv2dDerFilter=function(n,r,a){var i=new fle(a);return this.compileAndRun(i,[n,r])},e.prototype.fusedDepthwiseConv2D=function(n){var r,a=n.input,i=n.filter,o=n.convInfo,u=n.bias,c=n.activation,l=n.preluActivationWeights,h=fe().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1,d=c?yp(c,h):null,v=[a,i],m=u!=null,y=l!=null;return m&&v.push(u),y&&v.push(l),h?(r=new k4(o,m,d,y),this.compileAndRun(r,v)):(r=new N4(o,m,d,y),this.compileAndRun(r,v))},e.prototype.depthwiseConv2D=function(n,r,a){var i;return fe().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1?(i=new k4(a),this.compileAndRun(i,[n,r])):(i=new N4(a),this.compileAndRun(i,[n,r]))},e.prototype.depthwiseConv2DDerInput=function(n,r,a){var i=new mle(a);return this.compileAndRun(i,[n,r])},e.prototype.depthwiseConv2DDerFilter=function(n,r,a){var i=new vle(a);return this.compileAndRun(i,[n,r])},e.prototype.conv3d=function(n,r,a){var i=new gle(a);return this.compileAndRun(i,[n,r])},e.prototype.conv3dDerInput=function(n,r,a){var i=new ple(a);return this.compileAndRun(i,[n,r])},e.prototype.conv3dDerFilter=function(n,r,a){var i=new dle(a);return this.compileAndRun(i,[n,r])},e.prototype.maxPool=function(n,r){var a=new u_(r,"max",!1);return this.compileAndRun(a,[n])},e.prototype.avgPool=function(n,r){var a=new u_(r,"avg",!1);return this.compileAndRun(a,[n],"float32")},e.prototype.maxPoolBackprop=function(n,r,a,i){var o=new u_(i,"max",!0),u=this.compileAndRun(o,[r]),c=new efe(i),l=this.compileAndRun(c,[n,u],r.dtype);return u.dispose(),l},e.prototype.avgPoolBackprop=function(n,r,a){var i=new ele(a);return this.compileAndRun(i,[n],r.dtype)},e.prototype.cast=function(n,r){return pq(n,r,this)},e.prototype.unstack=function(n,r){for(var a=n.shape[r],i=new Array(n.rank-1),o=0,u=0;u<n.rank;u++)u!==r&&(i[o++]=n.shape[u]);var c=new Array(n.rank).fill(0),l=n.shape.slice();l[r]=1;var h=new Array(a);for(u=0;u<h.length;u++)c[r]=u,h[u]=this.slice(n,c,l).reshape(i);return h},e.prototype.avgPool3d=function(n,r){var a=new s_(r,"avg",!1);return this.compileAndRun(a,[n],"float32")},e.prototype.avgPool3dBackprop=function(n,r,a){var i=new tle(a);return this.compileAndRun(i,[n],r.dtype)},e.prototype.maxPool3d=function(n,r){var a=new s_(r,"max",!1);return this.compileAndRun(a,[n],"float32")},e.prototype.maxPool3dBackprop=function(n,r,a,i){var o=new s_(i,"max",!0),u=this.compileAndRun(o,[r]),c=new tfe(i),l=this.compileAndRun(c,[n,u],r.dtype);return u.dispose(),l},e.prototype.reshape=function(n,r){var a=this.texData.get(n.dataId);if(a.isPacked&&!pp(n.shape,r)&&(a.texture===null||!pp(a.shape,r))){var i=this.packedReshape(n,r);return ee.makeTensorFromDataId(i.dataId,i.shape,i.dtype)}return bS(n,r)},e.prototype.resizeBilinear=function(n,r,a,i){var o=fe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ffe(n.shape,r,a,i):new lfe(n.shape,r,a,i);return this.compileAndRun(o,[n],"float32")},e.prototype.resizeBilinearBackprop=function(n,r,a){var i=new cfe(n,r,a);return this.compileAndRun(i,[n])},e.prototype.resizeNearestNeighbor=function(n,r,a,i){var o=new dfe(n.shape,r,a,i);return this.compileAndRun(o,[n])},e.prototype.resizeNearestNeighborBackprop=function(n,r,a){var i=new hfe(n,r,a);return this.compileAndRun(i,[n])},e.prototype.multinomial=function(n,r,a,i){var o=r?n:Bi(n),u=o.shape[0],c=o.shape[1],l=new nfe(u,c,a),h=l.getCustomSetupFunc(i);return this.compileAndRun(l,[o],"int32",h)},e.prototype.oneHot=function(n,r,a,i){var o=new rfe(n.size,r,a,i);return this.compileAndRun(o,[n])},e.prototype.diag=function(n){var r=new Sle(n.size);return this.compileAndRun(r,[n])},e.prototype.nonMaxSuppression=function(n,r,a,i,o){return Uv("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),eA(n.dataSync(),r.dataSync(),a,i,o)},e.prototype.cropAndResize=function(n,r,a,i,o,u){var c=new yle(n.shape,r.shape,i,o,u);return this.compileAndRun(c,[n,r,a],"float32")},e.prototype.depthToSpace=function(n,r,a){z(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});var i=n.shape[0],o=a==="NHWC"?n.shape[1]:n.shape[2],u=a==="NHWC"?n.shape[2]:n.shape[3],c=a==="NHWC"?n.shape[3]:n.shape[1],l=o*r,h=u*r,d=c/(r*r),v=new _le(a==="NHWC"?[i,l,h,d]:[i,d,l,h],r,a);return this.compileAndRun(v,[n])},e.prototype.split=function(n,r,a){return gq(n,r,a)},e.prototype.scatterND=function(n,r,a){var i=Vv(0,n,a),o=i.sliceRank,u=i.numUpdates,c=i.sliceSize,l=i.strides,h=i.outputSize,d=[h/c,c],v=n.reshape([u,o]),m=r.reshape([u,c]);if(h===0)return bS(Fn([]),a);var y=Ee(0),x=new j4(u,o,v.rank,m.rank,l,d);return this.compileAndRun(x,[m,v,y]).reshape(a)},e.prototype.sparseToDense=function(n,r,a,i){var o=Vv(0,n,a),u=o.sliceRank,c=o.numUpdates,l=o.strides,h=o.outputSize,d=new j4(c,u,n.rank,r.rank,l,[h,1]);return this.compileAndRun(d,[r,n,i]).reshape(a)},e.prototype.fft=function(n){return this.fftImpl(n,!1)},e.prototype.ifft=function(n){return this.fftImpl(n,!0)},e.prototype.fftImpl=function(n,r){var a=this.texData.get(n.dataId),i=new B4(Cle,n.shape,r),o=new B4(Rle,n.shape,r),u=[this.makeComplexComponentTensorInfo(n,a.complexTensors.real),this.makeComplexComponentTensorInfo(n,a.complexTensors.imag)],c=this.compileAndRun(i,u),l=this.compileAndRun(o,u),h=this.complex(c,l).as2D(n.shape[0],n.shape[1]);return c.dispose(),l.dispose(),h},e.prototype.gatherND=function(n,r){var a=r.shape,i=a[a.length-1],o=uq(n,r),u=o[0],c=o[1],l=o[2],h=o[3],d=r.reshape([c,i]),v=n.reshape([n.size/l,l]),m=new Ple(i,h,[c,l]);return this.compileAndRun(m,[v,d]).reshape(u)},e.prototype.fill=function(n,r,a){if((a=a||Ch(r))==="string"){var i=Bv(a,Pe(n));return i.fill(r),ee.makeTensor(i,n,a,this)}var o=new Dle(n,r),u=o.getCustomSetupFunc(r);return this.compileAndRun(o,[],a,u)},e.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(n.shape,1,n.dtype)},e.prototype.zerosLike=function(n){return this.fill(n.shape,n.dtype==="string"?"":0,n.dtype)},e.prototype.linspace=function(n,r,a){return vq(n,r,a)},e.prototype.makeTensorInfo=function(n,r){var a=this.write(null,n,r);return this.texData.get(a).usage=null,{dataId:a,shape:n,dtype:r}},e.prototype.makeOutput=function(n,r){var a=this.makeTensorInfo(n,r).dataId;return ee.makeTensorFromDataId(a,n,r,this)},e.prototype.unpackTensor=function(n){var r=new Bfe(n.shape);return this.runWebGLProgram(r,[n],n.dtype)},e.prototype.packTensor=function(n){var r=new afe(n.shape);return this.runWebGLProgram(r,[n],n.dtype,null,!0)},e.prototype.packedReshape=function(n,r){var a=[jv(n.shape)].concat(Fv(n.shape)),i={dtype:n.dtype,shape:a,dataId:n.dataId},o=[jv(r)].concat(Fv(r)),u=new sfe(o,a),c=this.runWebGLProgram(u,[i],n.dtype,null,!0);return{dataId:c.dataId,shape:r,dtype:c.dtype}},e.prototype.decode=function(n){var r,a=this.texData.get(n),i=a.isPacked,o=a.shape,u=a.dtype,c=n_(o);return r=i?new wle(c):new xle(c),{dtype:u,shape:o,dataId:this.runWebGLProgram(r,[{shape:c,dtype:u,dataId:n}],u,null,!0).dataId}},e.prototype.runWebGLProgram=function(n,r,a,i,o){var u=this;o===void 0&&(o=!1);var c=this.makeTensorInfo(n.outputShape,a),l=this.texData.get(c.dataId);if(n.packedOutput&&(l.isPacked=!0),n.outPackingScheme===ch.DENSE){var h=bf(n.outputShape);l.texShape=h.map(function(A){return 2*A})}if(n.outTexUsage!=null&&(l.usage=n.outTexUsage),Pe(c.shape)===0)return l.values=uh(c.dtype,0),c;var d=[],v=r.map(function(A){if(A.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var O=u.texData.get(A.dataId);if(O.texture==null){if(!n.packedInputs&&Pe(A.shape)<=fe().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:A.shape,texData:null,isUniform:!0,uniformValues:O.values};n.packedInputs&&(O.isPacked=!0,O.shape=A.shape)}else if(!!O.isPacked!=!!n.packedInputs)A=O.isPacked?u.unpackTensor(A):u.packTensor(A),d.push(A),O=u.texData.get(A.dataId);else if(O.isPacked&&!pp(O.shape,A.shape)){var E=A,C=A.shape;A.shape=O.shape,A=u.packedReshape(A,C),d.push(A),O=u.texData.get(A.dataId),E.shape=C}return u.uploadToGPU(A.dataId),{shape:A.shape,texData:O,isUniform:!1}});this.uploadToGPU(c.dataId);var m,y={shape:c.shape,texData:l,isUniform:!1},x=function(A,O,E){var C="";O.concat(E).forEach(function(M){var N=M.texData!=null&&M.texData.slice!=null&&M.texData.slice.flatOffset>0,k=M.isUniform?"uniform":M.texData.texShape;C+=M.shape+"_"+k+"_"+N});var R=A.userCode,D=A.constructor.name;return D+="_"+C+"_"+R}(n,v,y),b=this.getAndSaveBinary(x,function(){return function(A,O,E,C){var R=O.userCode,D=E.map(function(H,Y){var B={logicalShape:H.shape,texShape:H.isUniform?null:H.texData.texShape,isUniform:H.isUniform,isPacked:!H.isUniform&&H.texData.isPacked,flatOffset:null};return H.texData!=null&&H.texData.slice!=null&&H.texData.slice.flatOffset>0&&(B.flatOffset=H.texData.slice.flatOffset),{name:O.variableNames[Y],shapeInfo:B}}),M=D.map(function(H){return H.shapeInfo}),N={logicalShape:C.shape,texShape:C.texData.texShape,isUniform:!1,isPacked:C.texData.isPacked,flatOffset:null},k=Kce(D,N,R,O.packedInputs),I=A.createProgram(k),q=null,W=A.getUniformLocation(I,"NAN",!1);fe().getNumber("WEBGL_VERSION")===1&&(q=A.getUniformLocation(I,"INFINITY",!1));for(var $={},j=0;j<O.variableNames.length;j++){var U=O.variableNames[j];$[U]=A.getUniformLocation(I,U,!1),$["offset"+U]=A.getUniformLocation(I,"offset"+U,!1)}return{program:O,source:k,webGLProgram:I,uniformLocations:$,inShapeInfos:M,outShapeInfo:N,infLoc:q,nanLoc:W}}(u.gpgpu,n,v,y)}),w=this.activeTimers!=null;if(w&&(m=this.startTimer()),function(A,O,E,C,R){L4(O.inShapeInfos,E),L4([O.outShapeInfo],[C]);var D=C.texData.texture,M=C.texData.texShape;C.texData.isPacked?A.setOutputPackedMatrixTexture(D,M[0],M[1]):A.setOutputMatrixTexture(D,M[0],M[1]),A.setProgram(O.webGLProgram),fe().getNumber("WEBGL_VERSION")===1&&O.infLoc!==null&&A.gl.uniform1f(O.infLoc,1/0),O.nanLoc!==null&&A.gl.uniform1f(O.nanLoc,NaN),E.forEach(function(N,k){var I=O.program.variableNames[k],q=O.uniformLocations[I],W=O.uniformLocations["offset"+I];if(q!=null)if(N.isUniform)if(Pe(N.shape)<2)A.gl.uniform1f(q,N.uniformValues[0]);else{var $=N.uniformValues;$ instanceof Float32Array||($=new Float32Array($)),A.gl.uniform1fv(q,$)}else N.texData.slice!=null&&W!=null&&A.gl.uniform1i(W,N.texData.slice.flatOffset),A.setInputMatrixTexture(N.texData.texture,q,k)}),R!=null&&R(A,O.webGLProgram),A.executeProgram()}(this.gpgpu,b,v,y,i),d.forEach(function(A){return u.disposeData(A.dataId)}),w&&(m=this.endTimer(m),this.activeTimers.push({name:n.constructor.name,query:this.getQueryTime(m)})),!fe().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&o===!1){var S=this.unpackTensor(c);return this.disposeData(c.dataId),S}return c},e.prototype.compileAndRun=function(n,r,a,i,o){o===void 0&&(o=!1),a=a||r[0].dtype;var u=this.runWebGLProgram(n,r,a,i,o);return ee.makeTensorFromDataId(u.dataId,u.shape,u.dtype)},e.prototype.getAndSaveBinary=function(n,r){return n in this.binaryCache||(this.binaryCache[n]=r()),this.binaryCache[n]},e.prototype.getTextureManager=function(){return this.textureManager},e.prototype.dispose=function(){var n=this;this.disposed||(fe().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(r){n.gpgpu.deleteProgram(n.binaryCache[r].webGLProgram),delete n.binaryCache[r]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},e.prototype.floatPrecision=function(){var n=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Oe(function(){if(!fe().get("WEBGL_RENDER_FLOAT32_ENABLED")){var r=fe().getBool("DEBUG");fe().set("DEBUG",!1);var a=n.abs(Ee(1e-8)).dataSync()[0];if(fe().set("DEBUG",r),a>0)return 32}return 16})),this.floatPrecisionValue},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.uploadToGPU=function(n){var r,a=this.texData.get(n),i=a.shape,o=a.dtype,u=a.values,c=a.texture,l=a.usage,h=a.isPacked;if(c==null){var d,v=this.activeTimers!=null;v&&(d=Ia());var m=a.texShape;if(m==null&&(m=Wse(i,h),a.texShape=m),u!=null){var y=n_(i),x=void 0,b=m[1],w=m[0],S=u instanceof Uint8Array;h?(b=(r=Dh(m[0],m[1]))[0],w=r[1],x=new Tle(y,[w,b],S)):x=new Ole(y,[w,b],S);var A=this.makeTensorInfo([w,b],o);this.texData.get(A.dataId).usage=S?kr.PIXELS:kr.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(A.dataId),b,w,u);var O=this.runWebGLProgram(x,[A],o,null,!0),E=this.texData.get(O.dataId);a.texture=E.texture,a.texShape=E.texShape,a.isPacked=E.isPacked,a.usage=E.usage,this.disposeData(A.dataId),this.texData.delete(O.dataId),a.values=null,v&&(this.uploadWaitMs+=Ia()-d)}else{var C=this.acquireTexture(m,l,o,h);a.texture=C}}},e.prototype.convertAndCacheOnCPU=function(n,r){var a=this.texData.get(n),i=a.dtype;return this.releaseGPUData(n),r!=null&&(a.values=function(o,u){if(u==="float32"||u==="complex64")return o;if(u==="int32"||u==="bool"){for(var c=u==="int32"?new Int32Array(o.length):new Uint8Array(o.length),l=0;l<c.length;++l)c[l]=Math.round(o[l]);return c}throw new Error("Unknown dtype "+u)}(r,i)),a.values},e.prototype.acquireTexture=function(n,r,a,i){if(this.numBytesInGPU+=this.computeBytes(n,a),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+o+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(n,r,i)},e.prototype.computeBytes=function(n,r){return n[0]*n[1]*$U(r)},e}(hq);YU()&&ee.registerBackend("webgl",function(){return new jfe},2);var Ffe=X({square_:function(t){var e=F(t,"x","square"),n=[e];return ee.runKernelFunc(function(r,a){return a([e]),r.square(e)},{x:e},null,"Square",{},n,[])}}),fh="SquaredDifference",Mq=X({squaredDifference_:function(t,e){var n,r=F(t,"a","squaredDifference"),a=F(e,"b","squaredDifference");n=$t(r,a),r=n[0],a=n[1],st(r.shape,a.shape);var i={a:r,b:a},o=[r,a];return ee.runKernelFunc(function(u,c){var l=u.squaredDifference(r,a);return c([r,a]),l},i,function(u,c){var l=c[0],h=c[1],d=Ee(2);return{a:function(){return u.mul(l.sub(h).mul(d))},b:function(){return u.mul(h.sub(l).mul(d))}}},fh,{},o,[])}}),Ufe=X({abs_:function(t){var e=F(t,"x","abs");return e.dtype==="complex64"?ee.runKernelFunc(function(n){return n.complexAbs(e)},{$x:e}):ee.runKernelFunc(function(n,r){var a=n.abs(e);return r([e]),a},{x:e},function(n,r){var a=r[0];return{x:function(){return n.mul(a.toFloat().step(-1))}}},"Abs")}}),qfe=X({acos_:function(t){var e=F(t,"x","acos");return ee.runKernelFunc(function(n,r){var a=n.acos(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(Ee(1).sub(a.toFloat().square()).sqrt()).neg()}}})}}),zfe=X({acosh_:function(t){var e=F(t,"x","acosh");return ee.runKernelFunc(function(n,r){var a=n.acosh(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(a.toFloat().square().sub(1).sqrt())}}})}}),$fe=X({asin_:function(t){var e=F(t,"x","asin");return ee.runKernelFunc(function(n,r){var a=n.asin(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(Ee(1).sub(a.toFloat().square()).sqrt())}}})}}),Wfe=X({asinh_:function(t){var e=F(t,"x","asinh");return ee.runKernelFunc(function(n,r){var a=n.asinh(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.divStrict(Ee(1).add(a.toFloat().square()).sqrt())}}})}}),Hfe=X({atan_:function(t){var e=F(t,"x","atan");return ee.runKernelFunc(function(n,r){var a=n.atan(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.div(a.toFloat().square().add(1))}}})}}),Vfe=X({atanh_:function(t){var e=F(t,"x","atanh");return ee.runKernelFunc(function(n,r){var a=n.atanh(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.div(Ee(1).sub(a.toFloat().square()))}}})}}),Gfe=X({ceil_:function(t){var e=F(t,"x","ceil");return ee.runKernelFunc(function(n){return n.ceil(e)},{$x:e},function(n){return{$x:function(){return ht(n)}}})}}),oA=X({clipByValue_:function(t,e,n){var r=F(t,"x","clipByValue");z(e<=n,function(){return"Error in clip: min ("+e+") must be less than or equal to max ("+n+")."});var a=[r],i={min:e,max:n};return ee.runKernelFunc(function(o,u){var c=o.clip(r,e,n);return u([r]),c},{x:r},function(o,u){var c=u[0];return{x:function(){return o.where(c.greaterEqual(e).logicalAnd(c.lessEqual(n)),ht(o))}}},"ClipByValue",i,a)}}),Kfe=X({cos_:function(t){var e=F(t,"x","cos"),n=[e];return ee.runKernelFunc(function(r,a){var i=r.cos(e);return a([e]),i},{x:e},function(r,a){var i=a[0];return{x:function(){return i.toFloat().sin().neg().mul(r)}}},"Cos",{},n)}}),Xfe=X({cosh_:function(t){var e=F(t,"x","cosh");return ee.runKernelFunc(function(n,r){var a=n.cosh(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return a.toFloat().sinh().mulStrict(n)}}})}}),Yfe=X({erf_:function(t){var e=F(t,"x","erf");return z(e.dtype==="int32"||e.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),e.dtype==="int32"&&(e=e.toFloat()),ee.runKernelFunc(function(n,r){var a=n.erf(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),wS=X({exp_:function(t){var e=F(t,"x","exp");return ee.runKernelFunc(function(n,r){var a=n.exp(e);return r([a]),a},{x:e},function(n,r){return{x:function(){return n.mulStrict(r[0])}}},"Exp",{},[],[!0])}}),Qfe=X({expm1_:function(t){var e=F(t,"x","expm1");return ee.runKernelFunc(function(n,r){var a=n.expm1(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.exp())}}})}}),Zfe=X({floor_:function(t){var e=F(t,"x","floor");return ee.runKernelFunc(function(n){return n.floor(e)},{$x:e},function(n){return{$x:function(){return ht(n)}}})}}),Jfe=X({log_:function(t){var e=F(t,"x","log"),n=[e];return ee.runKernelFunc(function(r,a){var i=r.log(e);return a([e]),i},{x:e},function(r,a){var i=a[0];return{x:function(){return r.div(i.toFloat())}}},"Log",{},n)}}),ehe=X({log1p_:function(t){var e=F(t,"x","log1p");return ee.runKernelFunc(function(n,r){var a=n.log1p(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.div(a.add(1))}}})}}),the=X({logSigmoid_:function(t){var e=F(t,"x","logSigmoid");return ee.runKernelFunc(function(n,r){var a=n.softplus(e.neg()).neg();return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.neg().sigmoid())}}})}}),Yv=X({neg_:function(t){var e=F(t,"x","neg"),n=[e];return ee.runKernelFunc(function(r){return r.neg(e)},{x:e},function(r){return{x:function(){return r.neg()}}},"Neg",{},n)}}),nhe=X({reciprocal_:function(t){var e=F(t,"x","reciprocal");return ee.runKernelFunc(function(n,r){var a=n.reciprocal(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.div(a.square().neg())}}})}}),rhe=X({round_:function(t){var e=F(t,"x","round");return ee.runKernelFunc(function(n){return n.round(e)},{$x:e},function(n){return{$x:function(){return ht(n)}}})}}),Pq=X({rsqrt_:function(t){var e=F(t,"x","rsqrt"),n=[e];return ee.runKernelFunc(function(r,a){var i=r.rsqrt(e);return a([e]),i},{x:e},function(r,a){var i=a[0];return{x:function(){return r.div(i.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},n)}}),Nq=X({sigmoid_:function(t){var e=F(t,"x","sigmoid");return ee.runKernelFunc(function(n,r){var a=n.sigmoid(e);return r([a]),a},{x:e},function(n,r){var a=r[0];return{x:function(){return n.mul(a.mul(Ee(1).sub(a)))}}},"Sigmoid")}}),ahe=X({sign_:function(t){var e=F(t,"x","sign");return ee.runKernelFunc(function(n){return n.sign(e)},{$x:e},function(n){return{$x:function(){return ht(n)}}})}}),ihe=X({isNaN_:function(t){var e=F(t,"x","isNaN");return ee.runKernelFunc(function(n){return n.isNaN(e)},{$x:e},function(n){return{$x:function(){return ht(n)}}})}}),ohe=X({isInf_:function(t){var e=F(t,"x","isInf");return ee.runKernelFunc(function(n){return n.isInf(e)},{$x:e},function(n){return{$x:function(){return ht(n)}}})}}),uhe=X({isFinite_:function(t){var e=F(t,"x","isFinite");return ee.runKernelFunc(function(n){return n.isFinite(e)},{$x:e},function(n){return{$x:function(){return ht(n)}}})}}),she=X({sin_:function(t){var e=F(t,"x","sin"),n=[e];return ee.runKernelFunc(function(r,a){var i=r.sin(e);return a([e]),i},{x:e},function(r,a){var i=a[0];return{x:function(){return i.toFloat().cos().mul(r)}}},"Sin",{},n)}}),che=X({sinh_:function(t){var e=F(t,"x","sinh");return ee.runKernelFunc(function(n,r){var a=n.sinh(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return a.toFloat().cosh().mulStrict(n)}}})}}),lhe=X({softplus_:function(t){var e=F(t,"x","softplus");return ee.runKernelFunc(function(n,r){var a=n.softplus(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.mul(a.sigmoid())}}})}}),fhe=X({sqrt_:function(t){var e=F(t,"x","sqrt");return ee.runKernelFunc(function(n,r){var a=n.sqrt(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.div(a.toFloat().sqrt().mul(2))}}})}}),hhe=X({step_:function(t,e){e===void 0&&(e=0);var n=F(t,"x","step");return ee.runKernelFunc(function(r){return r.step(n,e)},{$x:n},function(r){return{$x:function(){return ht(r)}}})}}),dhe=X({tan_:function(t){var e=F(t,"x","tan");return ee.runKernelFunc(function(n,r){var a=n.tan(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return n.div(a.cos().square())}}})}}),phe=X({tanh_:function(t){var e=F(t,"x","tanh");return ee.runKernelFunc(function(n,r){var a=n.tanh(e);return r([a]),a},{x:e},function(n,r){var a=r[0];return{x:function(){return Ee(1).sub(a.square()).mulStrict(n)}}},"Tanh",{},null,[!0])}});function kq(t,e,n,r,a,i){var o,u,c=F(t,"x","batchNorm"),l=F(e,"mean","batchNorm"),h=F(n,"variance","batchNorm");return a!=null&&(o=F(a,"scale","batchNorm")),r!=null&&(u=F(r,"offset","batchNorm")),z(c.rank===2,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+c.rank+"."}),z(l.rank===2||l.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+l.rank+"."}),z(h.rank===2||h.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+h.rank+"."}),o!=null&&z(o.rank===2||o.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+o.rank+"."}),u!=null&&z(u.rank===2||u.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+u.rank+"."}),Ph(c,l,h,u,o,i)}function Iq(t,e,n,r,a,i){var o,u,c=F(t,"x","batchNorm"),l=F(e,"mean","batchNorm"),h=F(n,"variance","batchNorm");return a!=null&&(o=F(a,"scale","batchNorm")),r!=null&&(u=F(r,"offset","batchNorm")),z(c.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+c.rank+"."}),z(l.rank===3||l.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+l.rank+"."}),z(h.rank===3||h.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+h.rank+"."}),o!=null&&z(o.rank===3||o.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+o.rank+"."}),u!=null&&z(u.rank===3||u.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+u.rank+"."}),Ph(c,l,h,u,o,i)}function Bq(t,e,n,r,a,i){var o,u,c=F(t,"x","batchNorm"),l=F(e,"mean","batchNorm"),h=F(n,"variance","batchNorm");return a!=null&&(o=F(a,"scale","batchNorm")),r!=null&&(u=F(r,"offset","batchNorm")),z(c.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+c.rank+"."}),z(l.rank===4||l.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+l.rank+"."}),z(h.rank===4||h.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+h.rank+"."}),o!=null&&z(o.rank===4||o.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+o.rank+"."}),u!=null&&z(u.rank===4||u.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+u.rank+"."}),Ph(c,l,h,u,o,i)}function Ph(t,e,n,r,a,i){i==null&&(i=.001);var o,u,c,l=F(t,"x","batchNorm"),h=F(e,"mean","batchNorm"),d=F(n,"variance","batchNorm");a!=null&&(o=F(a,"scale","batchNorm")),r!=null&&(u=F(r,"offset","batchNorm")),z(h.rank===d.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),z(u==null||h.rank===u.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),z(o==null||h.rank===o.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),c=l.rank===0||l.rank===1?l.as4D(1,1,1,l.size):l.rank===2?l.as4D(1,1,l.shape[0],l.shape[1]):l.rank===3?l.as4D(1,l.shape[0],l.shape[1],l.shape[2]):l;var v=[l,h,d,o];return ee.runKernelFunc(function(m,y){var x=m.batchNormalization(c,bp(h),bp(d),i,bp(o),bp(u));return y([l,h,d,o]),x},{x:l,mean:h,variance:d,scale:o,offset:u},function(m,y){var x=y,b=x[0],w=x[1],S=x[2],A=x[3],O=A??Ee(1),E=gn(w.shape,c.shape),C=[];if(w.rank===1){for(var R=0;R<c.shape.length-1;++R)C.push(c.shape[R]);C.push(1)}var D=b.sub(w),M=m.mul(O),N=Pq(S.add(Ee(i))),k=N.mul(N).mul(N).mul(Ee(-.5));return{x:function(){return w.rank===1?m.mul(Zs(N.as4D(1,1,1,w.shape[0]),C)).mul(O).reshape(b.shape):m.mul(N).mul(O).reshape(b.shape)},mean:function(){var I=N.mul(Ee(-1)).mul(M);return w.rank===1&&(I=I.sum(E)),I.reshape(w.shape)},variance:function(){var I=k.mul(D).mul(M);return w.rank===1&&(I=I.sum(E)),I.reshape(w.shape)},scale:function(){var I=D.mul(N),q=m.mul(I);return w.rank===1&&(q=q.sum(E)),q.reshape(w.shape)},offset:function(){var I=m;return w.rank===1&&(I=I.sum(E)),I.reshape(w.shape)}}},"BatchNormalization",{varianceEpsilon:i},v).reshape(l.shape)}function bp(t){return t==null?null:t.rank===0?t.as1D():t.rank===1?t:t.rank===2?t.as4D(1,1,t.shape[0],t.shape[1]):t.rank===3?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}function og(){QU("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var vhe=X({batchNormalization2d_:function(t,e,n,r,a,i){return r===void 0&&(r=.001),og(),kq(t,e,n,i,a,r)}}),mhe=X({batchNormalization3d_:function(t,e,n,r,a,i){return r===void 0&&(r=.001),og(),Iq(t,e,n,i,a,r)}}),ghe=X({batchNormalization4d_:function(t,e,n,r,a,i){return r===void 0&&(r=.001),og(),Bq(t,e,n,i,a,r)}}),yhe=X({batchNormalization_:function(t,e,n,r,a,i){return r===void 0&&(r=.001),og(),Ph(t,e,n,i,a,r)}}),Lq=X({batchNorm_:Ph}),bhe=X({batchNorm2d_:kq}),xhe=X({batchNorm3d_:Iq}),whe=X({batchNorm4d_:Bq}),ug=X({logicalAnd_:function(t,e){var n=F(t,"a","logicalAnd","bool"),r=F(e,"b","logicalAnd","bool");return st(n.shape,r.shape),ee.runKernelFunc(function(a){return a.logicalAnd(n,r)},{a:n,b:r},null,"LogicalAnd")}}),_he=X({logicalNot_:function(t){var e=F(t,"x","logicalNot","bool");return ee.runKernelFunc(function(n){return n.logicalNot(e)},{$x:e})}}),jq=X({logicalOr_:function(t,e){var n=F(t,"a","logicalOr","bool"),r=F(e,"b","logicalOr","bool");return st(n.shape,r.shape),ee.runKernelFunc(function(a){return a.logicalOr(n,r)},{$a:n,$b:r})}}),She=X({logicalXor_:function(t,e){var n=F(t,"a","logicalXor","bool"),r=F(e,"b","logicalXor","bool");return st(n.shape,r.shape),jq(t,e).logicalAnd(ug(t,e).logicalNot())}}),Pu=X({where_:function(t,e,n){var r=F(e,"a","where"),a=F(n,"b","where"),i=F(t,"condition","where","bool");return xt(r.shape,a.shape,"Error in where: "),i.rank===1?z(i.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):xt(i.shape,a.shape,"Error in where: "),ee.runKernelFunc(function(o,u){var c=o.select(i,r,a);return u([i]),c},{$condition:i,$a:r,$b:a},function(o,u){var c=u[0];return{$condition:function(){return ht(c).toFloat()},$a:function(){return o.mul(c.cast(o.dtype))},$b:function(){return o.mul(c.logicalNot().cast(o.dtype))}}})}}),Fq=function(t){return De(this,void 0,void 0,function(){var e,n,r;return Me(this,function(a){switch(a.label){case 0:return[4,(e=F(t,"condition","whereAsync","bool")).data()];case 1:return n=a.sent(),r=nA(e.shape,n),t!==e&&e.dispose(),[2,r]}})})},at=X({add_:function(t,e){var n,r=F(t,"a","add"),a=F(e,"b","add");n=$t(r,a),r=n[0],a=n[1];var i=st(r.shape,a.shape);return ee.runKernelFunc(function(o){return o.add(r,a)},{a:r,b:a},function(o){return{a:function(){var u=o,c=gn(r.shape,i);return c.length>0&&(u=u.sum(c)),u.reshape(r.shape)},b:function(){var u=o,c=gn(a.shape,i);return c.length>0&&(u=u.sum(c)),u.reshape(a.shape)}}},"Add")}}),Ehe=X({addN_:function(t){z(Array.isArray(t),function(){return"The argument passed to tf.addN() must be a list of tensors"}),z(t.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+t.length});var e=t.map(function(a,i){return F(a,"tensors"+i,"addN")}),n=e[0];e.forEach(function(a){if(a.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(function(a){if(!Rn(a.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=e;return ee.runKernelFunc(function(a){return a.addN(e)},r,function(a){var i={};return e.forEach(function(o,u){i[u]=function(){return a.clone()}}),i},"AddN")}}),Ahe=X({addStrict_:function(t,e){var n=F(t,"a","addStrict"),r=F(e,"b","addStrict");return xt(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),Ohe=X({atan2_:function(t,e){var n,r=F(t,"a","atan2"),a=F(e,"b","atan2");n=$t(r,a),r=n[0],a=n[1];var i=st(r.shape,a.shape);return ee.runKernelFunc(function(o,u){var c=o.atan2(r,a);return u([r,a]),c},{$a:r,$b:a},function(o,u){var c=u[0],l=u[1];return{$a:function(){var h=at(c.square(),l.square()),d=o.mul(l.div(h)),v=gn(c.shape,i);return v.length>0&&(d=d.sum(v)),d.reshape(c.shape)},$b:function(){var h=at(c.square(),l.square()),d=Yv(o.mul(c.div(h))),v=gn(l.shape,i);return v.length>0&&(d=d.sum(v)),d.reshape(l.shape)}}})}}),ga=X({div_:function(t,e){var n,r=F(t,"a","div"),a=F(e,"b","div");if(n=$t(r,a),r=n[0],a=n[1],r.dtype==="int32"&&a.dtype==="int32")return Uq(r,a);var i=st(r.shape,a.shape);return ee.runKernelFunc(function(o,u){var c=o.realDivide(r,a);return u([r,a]),c},{a:r,b:a},function(o,u){var c=u[0],l=u[1];return{a:function(){var h=o.div(l.toFloat()),d=gn(c.shape,i);return d.length>0?h.sum(d).reshape(c.shape):h},b:function(){var h=o.mul(c.toFloat()),d=gn(l.shape,i);d.length>0&&(h=h.sum(d).reshape(l.shape));var v=l.square();return h.div(v.toFloat()).neg()}}},"Div")}}),The=X({divNoNan_:function(t,e){var n,r=F(t,"a","div"),a=F(e,"b","div");r=(n=$t(r,a))[0],a=n[1];var i=ga(r,a),o=ht(i),u=a.equal(o);return Pu(u,o,i)}}),Che=X({divStrict_:function(t,e){var n=F(t,"a","div"),r=F(e,"b","div");return xt(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),Uq=X({floorDiv_:function(t,e){var n,r=F(t,"a","floorDiv"),a=F(e,"b","floorDiv");n=$t(r,a),r=n[0],a=n[1];var i=st(r.shape,a.shape);return ee.runKernelFunc(function(o,u){var c=o.floorDiv(r,a);return u([r,a]),c},{a:r,b:a},function(o,u){var c=u[0],l=u[1];return{a:function(){var h=o.div(l.toFloat()),d=gn(c.shape,i);return d.length>0?h.sum(d).reshape(c.shape):h},b:function(){var h=o.mul(c.toFloat()),d=gn(l.shape,i);d.length>0&&(h=h.sum(d).reshape(l.shape));var v=l.square();return h.div(v.toFloat()).neg()}}},"FloorDiv")}}),uA=X({maximum_:function(t,e){var n,r=F(t,"a","maximum"),a=F(e,"b","maximum");return n=$t(r,a),r=n[0],a=n[1],r.dtype==="bool"&&(r=r.toInt(),a=a.toInt()),st(r.shape,a.shape),ee.runKernelFunc(function(i,o){var u=i.maximum(r,a);return o([r,a]),u},{a:r,b:a},function(i,o){var u=o[0],c=o[1];return{a:function(){return i.mul(u.greaterEqual(c).toFloat())},b:function(){return i.mul(u.less(c).toFloat())}}},"Maximum")}}),Rhe=X({maximumStrict_:function(t,e){var n=F(t,"a","maximumStrict"),r=F(e,"b","maximumStrict");return xt(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),qq=X({minimum_:function(t,e){var n,r=F(t,"a","minimum"),a=F(e,"b","minimum");return n=$t(r,a),r=n[0],a=n[1],r.dtype==="bool"&&(r=r.toInt(),a=a.toInt()),st(r.shape,a.shape),ee.runKernelFunc(function(i,o){var u=i.minimum(r,a);return o([r,a]),u},{a:r,b:a},function(i,o){var u=o[0],c=o[1];return{a:function(){return i.mul(u.lessEqual(c).toFloat())},b:function(){return i.mul(u.greater(c).toFloat())}}},"Minimum")}}),Dhe=X({minimumStrict_:function(t,e){var n=F(t,"a","minimumStrict"),r=F(e,"b","minimumStrict");return xt(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),Mhe=X({mod_:function(t,e){var n,r=F(t,"a","mod"),a=F(e,"b","mod");n=$t(r,a),r=n[0],a=n[1];var i=st(r.shape,a.shape);return ee.runKernelFunc(function(o,u){var c=o.mod(r,a);return u([r,a]),c},{$a:r,$b:a},function(o,u){var c=u[0],l=u[1];return{$a:function(){var h=gn(c.shape,i);return h.length>0?o.sum(h).reshape(c.shape):o},$b:function(){var h=o.mul(c.div(l).floor().neg()),d=gn(l.shape,i);return d.length>0?h.sum(d).reshape(l.shape):h}}})}}),Phe=X({modStrict_:function(t,e){var n=F(t,"a","modStrict"),r=F(e,"b","modStrict");return xt(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),Jn=X({mul_:function(t,e){var n,r=F(t,"a","mul"),a=F(e,"b","mul");n=$t(r,a),r=n[0],a=n[1];var i=st(r.shape,a.shape);return ee.runKernelFunc(function(o,u){var c=o.multiply(r,a);return u([r,a]),c},{a:r,b:a},function(o,u){var c=u[0],l=u[1];return{a:function(){var h=o.mul(l.toFloat()),d=gn(c.shape,i);return d.length>0?h.sum(d).reshape(c.shape):h},b:function(){var h=o.mul(c.toFloat()),d=gn(l.shape,i);return d.length>0?h.sum(d).reshape(l.shape):h}}},"Mul")}}),Nhe=X({mulStrict_:function(t,e){var n=F(t,"a","mul"),r=F(e,"b","mul");return xt(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),Qv=X({pow_:function(t,e){var n,r=F(t,"base","pow"),a=F(e,"exp","pow");n=$t(r,a),r=n[0],a=n[1];var i=st(r.shape,a.shape),o=[r,a];return ee.runKernelFunc(function(u,c){var l=u.pow(r,a);return c([r,a,l]),l},{a:r,b:a},function(u,c){var l=c[0],h=c[1],d=c[2];return{a:function(){var v=h.toFloat(),m=u.mul(v.mul(l.pow(v.sub(Ee(1))))),y=gn(l.shape,i);return y.length>0&&(m=m.sum(y)),m.reshape(l.shape)},b:function(){var v=l.greater(0),m=l.log().where(v,ht(l)),y=u.mul(d.mul(m)),x=gn(h.shape,i);return x.length>0&&(y=y.sum(x)),y.reshape(h.shape)}}},"Pow",{},o,[!0])}}),khe=X({powStrict_:function(t,e){return xt(t.shape,e.shape,"Error in powStrict: "),t.pow(e)}}),Ihe=X({squaredDifferenceStrict_:function(t,e){var n=F(t,"a","squaredDifferenceStrict"),r=F(e,"b","squaredDifferenceStrict");return xt(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),yn=X({sub_:function(t,e){var n,r=F(t,"a","sub"),a=F(e,"b","sub");n=$t(r,a),r=n[0],a=n[1];var i=st(r.shape,a.shape);return ee.runKernelFunc(function(o){return o.subtract(r,a)},{a:r,b:a},function(o){return{a:function(){var u=o,c=gn(r.shape,i);return c.length>0&&(u=u.sum(c)),u.reshape(r.shape)},b:function(){var u=o,c=gn(a.shape,i);return c.length>0&&(u=u.sum(c)),u.neg().reshape(a.shape)}}},"Sub")}}),Bhe=X({subStrict_:function(t,e){var n=F(t,"a","subStrict"),r=F(e,"b","subStrict");return xt(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),zq=X({equal_:function(t,e){var n,r=F(t,"a","equal"),a=F(e,"b","equal");return n=$t(r,a),r=n[0],a=n[1],st(r.shape,a.shape),ee.runKernelFunc(function(i){return i.equal(r,a)},{$a:r,$b:a})}}),Lhe=X({equalStrict_:function(t,e){var n=F(t,"a","equalStrict"),r=F(e,"b","equalStrict");return xt(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),jhe=X({greater_:function(t,e){var n,r=F(t,"a","greater"),a=F(e,"b","greater");return n=$t(r,a),r=n[0],a=n[1],st(r.shape,a.shape),ee.runKernelFunc(function(i){return i.greater(r,a)},{a:r,b:a},null,"Greater")}}),$q=X({greaterEqual_:function(t,e){var n,r=F(t,"a","greaterEqual"),a=F(e,"b","greaterEqual");return n=$t(r,a),r=n[0],a=n[1],st(r.shape,a.shape),ee.runKernelFunc(function(i,o){var u=i.greaterEqual(r,a);return o([r,a]),u},{a:r,b:a},function(i,o){var u=o[0],c=o[1];return{a:function(){return ht(u)},b:function(){return ht(c)}}},"GreaterEqual")}}),Fhe=X({greaterEqualStrict_:function(t,e){var n=F(t,"a","greaterEqualStrict"),r=F(e,"b","greaterEqualStrict");return xt(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Uhe=X({greaterStrict_:function(t,e){var n=F(t,"a","greaterStrict"),r=F(e,"b","greaterStrict");return xt(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),qhe=X({less_:function(t,e){var n,r=F(t,"a","less"),a=F(e,"b","less");return n=$t(r,a),r=n[0],a=n[1],st(r.shape,a.shape),ee.runKernelFunc(function(i){return i.less(r,a)},{a:r,b:a},null,"Less")}}),zhe=X({lessEqual_:function(t,e){var n,r=F(t,"a","lessEqual"),a=F(e,"b","lessEqual");return n=$t(r,a),r=n[0],a=n[1],st(r.shape,a.shape),ee.runKernelFunc(function(i,o){var u=i.lessEqual(r,a);return o([r,a]),u},{a:r,b:a},null,"LessEqual")}}),$he=X({lessEqualStrict_:function(t,e){var n=F(t,"a","lessEqualStrict"),r=F(e,"b","lessEqualStrict");return xt(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),Whe=X({lessStrict_:function(t,e){var n=F(t,"a","lessStrict"),r=F(e,"b","lessStrict");return xt(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),Hhe=X({notEqual_:function(t,e){var n,r=F(t,"a","notEqual"),a=F(e,"b","notEqual");return n=$t(r,a),r=n[0],a=n[1],st(r.shape,a.shape),ee.runKernelFunc(function(i){return i.notEqual(r,a)},{a:r,b:a},null,"NotEqual")}}),Vhe=X({notEqualStrict_:function(t,e){var n=F(t,"a","notEqualStrict"),r=F(e,"b","notEqualStrict");return xt(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function G4(t,e){for(var n=[],r=t;r<e;++r)n.push(r);return n}function K4(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}var sA=X({gather_:function(t,e,n){n===void 0&&(n=0);var r=F(t,"x","gather"),a=F(e,"indices","gather","int32");n=xn(n,r.shape)[0];var i=function(o,u,c){for(var l=o.shape[c],h=[],d=1,v=1,m=0;m<c;m++)h.push(o.shape[m]),d*=o.shape[m];for(m=0;m<u.rank;m++)h.push(u.shape[m]);for(m=c+1;m<o.rank;m++)h.push(o.shape[m]),v*=o.shape[m];return{batchSize:d,sliceSize:v,dimSize:l,outputShape:h}}(r,a,n);return ee.runKernelFunc(function(o,u){var c=o.gather(r,a.flatten(),n);return u([a]),c},{x:r,indices:a},function(o,u){var c=u[0];return{x:function(){var l=r.shape,h=c.size,d=l.slice(0,n),v=d.length,m=l.slice(n,l.length).slice(1),y=m.length,x=G4(0,v),b=G4(v+1,v+1+y),w=K4([d,[h],m]),S=o.reshape(w),A=c.reshape([h]),O=K4([[v],x,b]),E=S.transpose(O),C=Wq(E,A,r.shape[n]),R=KE(O);return C=C.transpose(R)},indices:function(){return c}}},"Gather",{axis:n}).reshape(i.outputShape)}}),Wq=X({unsortedSegmentSum_:function(t,e,n){var r=F(t,"x","unsortedSegmentSum"),a=F(e,"segmentIds","unsortedSegmentSum","int32");return z(Jt(n),function(){return"numSegments must be of dtype int"}),ee.runKernelFunc(function(i,o){var u=i.unsortedSegmentSum(r,a,n);return o([a]),u},{$x:r},function(i,o){var u=o[0];return{$x:function(){return function(c,l){for(var h=uA(l,ht(l)),d=sA(c,h),v=$q(l,Ee(0,"int32")),m=d.rank-v.rank,y=0;y<m;++y)v=Jr(v,y+1);v=ug(v,Gc(d.shape,"bool"));var x=ht(d);return Pu(v,d,x)}(i,u)}}})}}),Ghe=function(t,e,n){return De(this,void 0,void 0,function(){var r,a,i,o,u,c,l,h,d,v,m,y,x;return Me(this,function(b){switch(b.label){case 0:for(r=F(t,"tensor","boolMask"),a=F(e,"mask","boolMask","bool"),i=n??0,o=a.rank,u=r.shape,z(o>0,function(){return"mask cannot be scalar"}),xt(u.slice(i,i+o),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,l=i;l<i+o;l++)c*=u[l];return h=u.slice(0,i).concat([c],u.slice(i+o)),d=r.reshape(h),v=a.reshape([-1]),[4,Fq(v)];case 1:return m=b.sent(),y=m.squeeze([1]),x=sA(d,y,i),t!==r&&r.dispose(),e!==a&&a.dispose(),y.dispose(),d.dispose(),v.dispose(),m.dispose(),[2,x]}})})};function Hq(t,e,n,r,a,i,o){i===void 0&&(i="NHWC"),z(t.length===e.rank,function(){return"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match"});var u=t,c=e,l=!1;e.rank===3&&(l=!0,c=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),u=[1,t[0],t[1],t[2]]),z(u.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+u.length+"."}),z(c.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+c.rank}),z(n.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank});var h=i==="NHWC"?u[3]:u[1],d=i==="NHWC"?c.shape[3]:c.shape[1];z(h===n.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+h+") must match input depth for filter "+n.shape[2]+"."}),z(d===n.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+d+") must match output depth for filter "+n.shape[3]+"."}),o!=null&&z(Jt(a),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."});var v=JE(i),m=qu(u,n.shape,r,1,a,o,!1,v),y=ee.runKernelFunc(function(x,b){var w=x.conv2dDerInput(c,n,m);return b([n,c]),w},{dy4D:c,filter:n},function(x,b){var w=b[0],S=b[1];return{dy4D:function(){return ua(x,w,r,a,i,1,o)},filter:function(){return cA(x,S,w.shape,r,a,i,o)}}});return l?y.as3D(y.shape[1],y.shape[2],y.shape[3]):y}function l_(t){var e=function(i){return typeof i=="number"?[i,i,i]:i.length===2?[i[0],i[1],1]:i}(t),n=e[0],r=e[1],a=e[2];return n===1&&r===1&&a===1}function Vq(t,e,n,r,a){z(t.length===e.rank,function(){return"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match"});var i=t,o=e,u=!1;e.rank===4&&(u=!0,o=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]),i=[1,t[0],t[1],t[2],t[3]]);var c=i[4],l=o.shape[4];z(i.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+i.length+"."}),z(o.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+o.rank}),z(n.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank}),z(c===n.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+c+") must match input depth for filter "+n.shape[3]+"."}),z(l===n.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+l+") must match output depth for filter "+n.shape[4]+"."});var h=Kv(i,n.shape,r,1,a),d=ee.runKernelFunc(function(v){return v.conv3dDerInput(o,n,h)},{dy5D:o});return u?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}var Khe=X({conv1d_:function(t,e,n,r,a,i,o){a===void 0&&(a="NWC"),i===void 0&&(i=1);var u=F(t,"x","conv1d"),c=F(e,"filter","conv1d"),l=u,h=!1;u.rank===2&&(h=!0,l=u.as3D(1,u.shape[0],u.shape[1])),z(l.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+l.rank+"."}),z(c.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+c.rank+"."}),o!=null&&z(Jt(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}),z(l.shape[2]===c.shape[1],function(){return"Error in conv1d: depth of input ("+l.shape[2]+") must match input depth for filter "+c.shape[1]+"."}),z(xr(n,i),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+i+"'"}),z(a==="NWC",function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."});var d=c.as4D(1,c.shape[0],c.shape[1],c.shape[2]),v=l.as4D(l.shape[0],1,l.shape[1],l.shape[2]),m=ua(v,d,[1,n],r,"NHWC",[1,i],o);return h?m.as2D(m.shape[2],m.shape[3]):m.as3D(m.shape[0],m.shape[2],m.shape[3])}}),ua=X({conv2d_:function(t,e,n,r,a,i,o){a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]);var u=F(t,"x","conv2d"),c=F(e,"filter","conv2d"),l=u,h=!1;u.rank===3&&(h=!0,l=u.as4D(1,u.shape[0],u.shape[1],u.shape[2])),z(l.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+l.rank+"."}),z(c.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+c.rank+"."}),o!=null&&z(Jt(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var d=a==="NHWC"?l.shape[3]:l.shape[1];z(d===c.shape[2],function(){return"Error in conv2d: depth of input ("+d+") must match input depth for filter "+c.shape[2]+"."}),z(xr(n,i),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"});var v=JE(a),m=qu(l.shape,c.shape,n,i,r,o,!1,v),y=[c,l],x=ee.runKernelFunc(function(b,w){var S=b.conv2d(l,c,m);return w([c,l]),S},{x:l,filter:c},function(b,w){var S=w,A=S[0],O=S[1];return z(Pc(i),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"}),{x:function(){return Gq(O.shape,b,A,n,r,a)},filter:function(){return cA(O,b,A.shape,n,r,a)}}},"Conv2D",m,y);return h?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),Xhe=X({conv3d_:function(t,e,n,r,a,i){a===void 0&&(a="NDHWC"),i===void 0&&(i=[1,1,1]);var o=F(t,"x","conv3d"),u=F(e,"filter","conv3d"),c=o,l=!1;o.rank===4&&(l=!0,c=o.as5D(1,o.shape[0],o.shape[1],o.shape[2],o.shape[3])),z(c.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+c.rank+"."}),z(u.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+u.rank+"."}),z(c.shape[4]===u.shape[3],function(){return"Error in conv3d: depth of input ("+c.shape[4]+") must match input depth for filter "+u.shape[3]+"."}),z(function(v,m){return l_(v)||l_(m)}(n,i),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),z(a==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."});var h=Kv(c.shape,u.shape,n,i,r),d=ee.runKernelFunc(function(v,m){var y=v.conv3d(c,u,h);return m([c,u]),y},{x:c,$filter:u},function(v,m){z(l_(i),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"});var y=m[0],x=m[1];return{x:function(){return Vq(y.shape,v,x,n,r)},$filter:function(){return function(b,w,S,A,O){var E=b;b.rank===4&&(E=b.as5D(1,b.shape[0],b.shape[1],b.shape[2],b.shape[3]));var C=w;C.rank===4&&(C=w.as5D(1,w.shape[0],w.shape[1],w.shape[2],w.shape[3])),z(E.rank===5,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+E.shape+"."}),z(C.rank===5,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+C.shape+"."}),z(S.length===5,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+S+"."}),z(E.shape[4]===S[3],function(){return"Error in conv3dDerFilter: depth of input "+E.shape[4]+") must match input depth in filter ("+S[3]+"."}),z(C.shape[4]===S[4],function(){return"Error in conv3dDerFilter: depth of dy ("+C.shape[4]+") must match output depth for filter ("+S[4]+")."});var R=Kv(E.shape,S,A,1,O);return ee.runKernelFunc(function(D){return D.conv3dDerFilter(E,C,R)},{x5D:E,dy5D:C})}(y,v,x.shape,n,r)}}});return l?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),cA=X({conv2dDerFilter_:function(t,e,n,r,a,i,o){i===void 0&&(i="NHWC");var u=t;t.rank===3&&(u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var c=e;c.rank===3&&(c=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),z(u.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+u.shape+"."}),z(c.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+c.shape+"."}),z(n.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."});var l=i==="NHWC"?u.shape[3]:u.shape[1],h=i==="NHWC"?c.shape[3]:c.shape[1];z(l===n[2],function(){return"Error in conv2dDerFilter: depth of input "+l+") must match input depth in filter ("+n[2]+"."}),z(h===n[3],function(){return"Error in conv2dDerFilter: depth of dy ("+h+") must match output depth for filter ("+n[3]+")."}),o!=null&&z(Jt(a),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."});var d=JE(i),v=qu(u.shape,n,r,1,a,o,!1,d);return ee.runKernelFunc(function(m){return m.conv2dDerFilter(u,c,v)},{x4D:u,dy4D:c})}}),Gq=X({conv2dDerInput_:Hq}),sg=X({depthwiseConv2d_:function(t,e,n,r,a,i,o){i===void 0&&(i=[1,1]);var u=F(t,"x","depthwiseConv2d"),c=F(e,"filter","depthwiseConv2d"),l=u,h=!1;u.rank===3&&(h=!0,l=u.as4D(1,u.shape[0],u.shape[1],u.shape[2])),z(l.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+l.rank+"."}),z(c.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+c.rank+"."}),z(l.shape[3]===c.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+l.shape[3]+") must match the inChannels dimension in filter "+c.shape[2]+"."}),i==null&&(i=[1,1]),z(xr(n,i),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),o!=null&&z(Jt(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var d=qu(l.shape,c.shape,n,i,r,o,!0),v=[l,c],m=ee.runKernelFunc(function(y,x){var b=y.depthwiseConv2D(l,c,d);return x([l,c]),b},{x:l,filter:c},function(y,x){z(Pc(i),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+i+"'"});var b=x[0],w=x[1];return{x:function(){return Kq(b.shape,y,w,d)},filter:function(){return Xq(b,y,w.shape,d)}}},"DepthwiseConv2dNative",d,v);return h?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),Kq=X({depthwiseConv2dDerInput_:function(t,e,n,r){var a=e,i=!1;e.rank===3&&(i=!0,a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var o=ee.runKernelFunc(function(u){return u.depthwiseConv2DDerInput(a,n,r)},{dy4D:a});return i?o.as3D(o.shape[1],o.shape[2],o.shape[3]):o}}),Xq=X({depthwiseConv2dDerFilter_:function(t,e,n,r){var a=t;t.rank===3&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var i=e;return i.rank===3&&(i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),ee.runKernelFunc(function(o){return o.depthwiseConv2DDerFilter(a,i,r)},{x4D:a,dy4D:i})}}),lA=X({separableConv2d_:function(t,e,n,r,a,i,o){i===void 0&&(i=[1,1]),o===void 0&&(o="NHWC");var u=F(t,"x","separableConv2d"),c=F(e,"depthwiseFilter","separableConv2d"),l=F(n,"pointwiseFilter","separableConv2d"),h=u,d=!1;if(u.rank===3&&(d=!0,h=u.as4D(1,u.shape[0],u.shape[1],u.shape[2])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");z(h.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+h.rank+"."}),z(c.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+c.rank+"."}),z(l.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+c.rank+"."}),z(l.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+l.shape[0]+"."}),z(l.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+l.shape[1]+"."});var v=c.shape[2],m=c.shape[3];z(l.shape[2]===v*m,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+v*m+", but got "+l.shape[2]+"."});var y=sg(h,c,r,a,o,i),x=ua(y,l,1,"valid",o);return d?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),Yhe=X({conv2dTranspose_:function(t,e,n,r,a,i){return Hq(n,F(t,"x","conv2dTranspose"),F(e,"filter","conv2dTranspose"),r,a,"NHWC",i)}}),Qhe=X({conv3dTranspose_:function(t,e,n,r,a){return Vq(n,F(t,"x","conv3dTranspose"),F(e,"filter","conv3dTranspose"),r,a)}}),cg=X({matMul_:function(t,e,n,r){var a;n===void 0&&(n=!1),r===void 0&&(r=!1);var i=F(t,"a","matMul"),o=F(e,"b","matMul");a=$t(i,o),i=a[0],o=a[1];var u=n?i.shape[i.rank-2]:i.shape[i.rank-1],c=r?o.shape[o.rank-1]:o.shape[o.rank-2],l=n?i.shape[i.rank-1]:i.shape[i.rank-2],h=r?o.shape[o.rank-2]:o.shape[o.rank-1],d=i.shape.slice(0,-2),v=o.shape.slice(0,-2),m=Pe(d),y=Pe(v);z(i.rank>=2&&o.rank>=2&&i.rank===o.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+i.rank+" and "+o.rank+"."}),z(Rn(d,v),function(){return"Error in matMul: outer dimensions ("+d+") and ("+v+") of Tensors with shapes "+i.shape+" and "+o.shape+" must match."}),z(u===c,function(){return"Error in matMul: inner shapes ("+u+") and ("+c+") of Tensors with shapes "+i.shape+" and "+o.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var x=i.shape.slice(0,-2).concat([l,h]),b=n?i.as3D(m,u,l):i.as3D(m,l,u),w=r?o.as3D(y,h,c):o.as3D(y,c,h),S={transposeA:n,transposeB:r};return ee.runKernelFunc(function(A,O){var E=A.batchMatMul(b,w,n,r);return O([b,w]),E},{a:b,b:w},function(A,O){var E=O,C=E[0],R=E[1];return n||r?!n&&r?{a:function(){return A.matMul(R,!1,!1)},b:function(){return A.matMul(C,!0,!1)}}:n&&!r?{a:function(){return R.matMul(A,!1,!0)},b:function(){return C.matMul(A,!1,!1)}}:{a:function(){return R.matMul(A,!0,!0)},b:function(){return A.matMul(C,!0,!0)}}:{a:function(){return A.matMul(R,!1,!0)},b:function(){return C.matMul(A,!0,!1)}}},"BatchMatMul",S).reshape(x)}}),Zhe=X({dot_:function(t,e){var n=F(t,"t1","dot"),r=F(e,"t2","dot");z(!(n.rank!==1&&n.rank!==2||r.rank!==1&&r.rank!==2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."});var a=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];return z(a===i,function(){return"Error in dot: inner dimensions of inputs must match, but got "+a+" and "+i+"."}),n.rank===1&&r.rank===1?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():n.rank===1&&r.rank===2?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():n.rank===2&&r.rank===1?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),Jhe=X({outerProduct_:function(t,e){var n=F(t,"v1","outerProduct"),r=F(e,"v2","outerProduct");return z(n.rank===1&&r.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."}),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),Nh=X({reverse_:function(t,e){var n=F(t,"x","reverse");if(n.rank===0)return n.clone();var r=xn(e,n.shape);return ee.runKernelFunc(function(a){return a.reverse(n,r)},{$x:n},function(a){return{$x:function(){return a.reverse(r)}}}).reshapeAs(n)}}),ede=X({reverse1d_:function(t){var e=F(t,"x","reverse");return z(e.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+e.rank+"."}),Nh(e,0)}}),tde=X({reverse2d_:function(t,e){var n=F(t,"x","reverse");return z(n.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."}),Nh(n,e)}}),nde=X({reverse3d_:function(t,e){var n=F(t,"x","reverse");return z(n.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."}),Nh(n,e)}}),rde=X({reverse4d_:function(t,e){var n=F(t,"x","reverse");return z(n.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."}),Nh(n,e)}});function Yq(t,e,n,r,a,i){var o=F(t,"x","maxPool"),u=o,c=!1;o.rank===3&&(c=!0,u=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),z(u.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+u.rank+"."}),z(xr(n,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}),i!=null&&z(Jt(a),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."});var l=lh(u.shape,e,n,r,a,i);if(l.filterWidth===1&&l.filterHeight===1&&Rn(l.inShape,l.outShape))return o.clone();var h=[u],d=ee.runKernelFunc(function(v,m){var y=v.maxPool(u,l);return m([u,y]),y},{x:u},function(v,m){var y=m[0],x=m[1];return{x:function(){return function(b,w,S,A,O,E,C,R){var D=F(b,"dy","maxPoolBackprop"),M=F(w,"input","maxPoolBackprop"),N=F(S,"output","maxPoolBackprop");z(M.rank===D.rank,function(){return"Rank of input ("+M.rank+") does not match rank of dy ("+D.rank+")"}),z(xr(O,E),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+O+" and dilations '"+E+"'"}),z(D.rank===4,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+D.rank+"."}),z(M.rank===4,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+M.rank+"."});var k=lh(M.shape,A,O,E,C,R);return ee.runKernelFunc(function(I){return I.maxPoolBackprop(D,M,N,k)},{$dy:D,$input:M})}(v,y,x,e,n,r,a)}}},"MaxPool",l,h);return c?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}function Qq(t,e,n,r,a,i){var o=F(t,"x","avgPool","float32");z(xr(n,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"});var u=o,c=!1;o.rank===3&&(c=!0,u=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),z(u.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+u.rank+"."}),i!=null&&z(Jt(a),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."});var l=lh(u.shape,e,n,r,a,i);if(l.filterWidth===1&&l.filterHeight===1&&Rn(l.inShape,l.outShape))return o.clone();var h=ee.runKernelFunc(function(d){return d.avgPool(u,l)},{x:u},function(d){return{x:function(){return function(v,m,y,x,b,w){var S=F(v,"dy","avgPoolBackprop"),A=F(m,"input","avgPoolBackprop");z(A.rank===S.rank,function(){return"Rank of input ("+A.rank+") does not match rank of dy ("+S.rank+")"}),z(xr(x,b),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+x+" and dilations '"+b+"'"});var O=A,E=S,C=!1;A.rank===3&&(C=!0,O=A.as4D(1,A.shape[0],A.shape[1],A.shape[2]),E=S.as4D(1,S.shape[0],S.shape[1],S.shape[2])),z(E.rank===4,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+E.rank+"."}),z(O.rank===4,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+O.rank+"."});var R=lh(O.shape,y,x,b,w),D=ee.runKernelFunc(function(M){return M.avgPoolBackprop(E,O,R)},{dy4D:E,input4D:O});return C?D.as3D(D.shape[1],D.shape[2],D.shape[3]):D}(d,u,e,n,r,a)}}},"AvgPool",l);return h=h.cast(o.dtype),c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}var On=X({maxPool_:function(t,e,n,r,a){return Yq(t,e,n,1,r,a)}}),kh=X({avgPool_:function(t,e,n,r,a){return Qq(t,e,n,1,r,a)}}),ade=X({pool_:function(t,e,n,r,a,i){a==null&&(a=[1,1]),i==null&&(i=1),r===0&&(r="valid");var o=F(t,"x","maxPool"),u=o,c=!1;o.rank===3&&(c=!0,u=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),z(xr(i,a),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"});var l,h=lh(u.shape,e,i,a,r),d=[h.dilationHeight,h.dilationWidth];l=r==="same"?function(O,E){var C=O.map(function(M,N){return M+(M-1)*(E[N]-1)}).map(function(M){return M-1}),R=C.map(function(M){return Math.floor(M/2)}),D=C.map(function(M,N){return M-R[N]});return C.map(function(M,N){return[R[N],D[N]]})}([h.filterHeight,h.filterWidth],d):[[0,0],[0,0]];var v=d[0]===1&&d[1]===1,m=function(O,E,C){var R=C.map(function(W){return W[0]}),D=C.map(function(W){return W[1]}),M=O.concat(R,D),N=E.map(function(W,$){return(W-M[$]%W)%W}),k=D.map(function(W,$){return W+N[$]}),I=E.map(function(W,$){return[R[$],k[$]]}),q=E.map(function(W,$){return[0,N[$]]});return[I,q]}([h.inHeight,h.inWidth],d,l),y=m[0],x=m[1],b=v?r:"valid",w=v?u:rq(u,d,y),S=(n==="avg"?function(){return Qq(w,e,i,1,b)}:function(){return Yq(w,e,i,1,b)})(),A=v?S:eq(S,d,x);return c?A.as3D(A.shape[1],A.shape[2],A.shape[3]):A}}),ide=X({maxPool3d_:function(t,e,n,r,a,i,o){i===void 0&&(i="NDHWC");var u=F(t,"x","maxPool3d"),c=u,l=!1;u.rank===4&&(l=!0,c=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),o==null&&(o=[1,1,1]),z(c.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+c.rank+"."}),z(i==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+i}),z(xr(n,o),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),a!=null&&z(Jt(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var h=Gv(c.shape,e,n,o,r,a,i),d=ee.runKernelFunc(function(v,m){var y=v.maxPool3d(c,h);return m([c,y]),y},{x:c},function(v,m){var y=m[0],x=m[1];return{x:function(){return function(b,w,S,A,O,E,C,R){var D=F(b,"dy","maxPool3dBackprop"),M=F(w,"input","maxPool3dBackprop"),N=F(S,"output","maxPool3dBackprop"),k=D,I=M,q=N,W=!1;M.rank===4&&(W=!0,k=D.as5D(1,D.shape[0],D.shape[1],D.shape[2],D.shape[3]),I=M.as5D(1,M.shape[0],M.shape[1],M.shape[2],M.shape[3]),q=N.as5D(1,N.shape[0],N.shape[1],N.shape[2],N.shape[3])),z(k.rank===5,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+k.rank+"."}),z(I.rank===5,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+I.rank+"."}),z(q.rank===5,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+q.rank+"."}),E==null&&(E=[1,1,1]),z(xr(O,E),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+O+" and dilations '"+E+"'"}),R!=null&&z(Jt(C),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+R+" but got pad "+C+"."});var $=Gv(I.shape,A,O,E,C,R),j=ee.runKernelFunc(function(U){return U.maxPool3dBackprop(k,I,q,$)},{dy5D:k,input5D:I});return W?j.as4D(j.shape[1],j.shape[2],j.shape[3],j.shape[4]):j}(v,y,x,e,n,o,r,a)}}});return l?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),ode=X({avgPool3d_:function(t,e,n,r,a,i,o){i===void 0&&(i="NDHWC");var u=F(t,"x","avgPool3d","float32"),c=u,l=!1;u.rank===4&&(l=!0,c=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),o==null&&(o=[1,1,1]),z(c.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+c.rank+"."}),z(i==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+i}),z(xr(n,o),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"}),a!=null&&z(Jt(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var h=Gv(c.shape,e,n,o,r,a,i),d=ee.runKernelFunc(function(v){return v.avgPool3d(c,h)},{x:c},function(v){return{x:function(){return function(m,y,x,b,w,S,A){var O=F(m,"dy","avgPool3dBackprop"),E=F(y,"input","avgPool3dBackprop"),C=O,R=E,D=!1;E.rank===4&&(D=!0,C=O.as5D(1,O.shape[0],O.shape[1],O.shape[2],O.shape[3]),R=E.as5D(1,E.shape[0],E.shape[1],E.shape[2],E.shape[3])),z(C.rank===5,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+C.rank+"."}),z(R.rank===5,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+R.rank+"."}),w==null&&(w=[1,1,1]),z(xr(b,w),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+b+" and dilations '"+w+"'"}),A!=null&&z(Jt(S),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+A+" but got pad "+S+"."});var M=Gv(R.shape,x,b,w,S,A),N=ee.runKernelFunc(function(k){return k.avgPool3dBackprop(C,R,M)},{dy5D:C,input5D:R});return D?N.as4D(N.shape[1],N.shape[2],N.shape[3],N.shape[4]):N}(v,c,e,n,o,r,a)}}});return d=d.cast(c.dtype),l?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),Ka=X({slice_:function(t,e,n){var r,a,i=F(t,"x","slice");if(i.rank===0)throw new Error("Slicing scalar is not possible");(r=typeof e=="number"?[e].concat(new Array(i.rank-1).fill(0)):e.length<i.rank?e.concat(new Array(i.rank-e.length).fill(0)):e.slice()).forEach(function(c){z(c!==-1,function(){return"slice() does not support negative begin indexing."})}),a=(a=n==null?new Array(i.rank).fill(-1):typeof n=="number"?[n].concat(new Array(i.rank-1).fill(-1)):n.length<i.rank?n.concat(new Array(i.rank-n.length).fill(-1)):n).map(function(c,l){return c>=0?c:(z(c===-1,function(){return"Negative size values should be exactly -1 but got "+c+" for the slice() size at index "+l+"."}),i.shape[l]-r[l])}),kce(i,r,a);var o=i.shape,u={begin:r,size:a};return ee.runKernelFunc(function(c){return c.slice(i,r,a)},{x:i},function(c){for(var l=[],h=0;h<c.rank;h++)l.push([r[h],o[h]-r[h]-a[h]]);return{x:function(){return c.pad(l)}}},"Slice",u)}}),ude=X({slice1d_:function(t,e,n){var r=F(t,"x","slice1d");return z(r.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),Ka(r,[e],[n])}}),sde=X({slice2d_:function(t,e,n){var r=F(t,"x","slice2d");return z(r.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),Ka(r,e,n)}}),Zq=X({slice3d_:function(t,e,n){var r=F(t,"x","slice3d");return z(r.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),Ka(r,e,n)}}),cde=X({slice4d_:function(t,e,n){var r=F(t,"x","slice4d");return z(r.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),Ka(r,e,n)}});function Jq(t,e,n,r,a){return e.rank<n.rank&&(e=e.reshape(br(e.shape,r))),t.rank<n.rank&&(t=t.reshape(br(t.shape,r))),{x:function(){var i=t.mul(n.equal(e).cast(t.dtype));return a==null?i:i.transpose(a)}}}var lde=X({all_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=F(t,"x","all","bool"),a=xn(e,r.shape),i=a,o=Za(i,r.rank);o!=null&&(r=r.transpose(o),i=Ja(i.length,r.rank));var u=ee.runKernelFunc(function(l){return l.all(r,i)},{$x:r});if(n){var c=br(u.shape,a);return u.reshape(c)}return u}}),fde=X({any_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=F(t,"x","any","bool"),a=xn(e,r.shape),i=a,o=Za(i,r.rank);o!=null&&(r=r.transpose(o),i=Ja(i.length,r.rank));var u=ee.runKernelFunc(function(l){return l.any(r,i)},{$x:r});if(n){var c=br(u.shape,a);return u.reshape(c)}return u}}),hde=X({argMax_:function(t,e){e===void 0&&(e=0);var n=F(t,"x","argMax");e==null&&(e=0);var r=xn(e,n.shape),a=Za(r,n.rank);a!=null&&(n=n.transpose(a),r=Ja(r.length,n.rank));var i={axis:r[0]},o=[n];return ee.runKernelFunc(function(u,c){var l=u.argMax(n,r[0]);return c([n]),l},{x:n},function(u,c){var l=c[0];return{x:function(){return ht(l)}}},"ArgMax",i,o)}}),dde=X({argMin_:function(t,e){e===void 0&&(e=0);var n=F(t,"x","argMin");e==null&&(e=0);var r=xn(e,n.shape),a=Za(r,n.rank);return a!=null&&(n=n.transpose(a),r=Ja(r.length,n.rank)),ee.runKernelFunc(function(i,o){var u=i.argMin(n,r[0]);return o([n]),u},{$x:n},function(i,o){var u=o[0];return{$x:function(){return ht(u)}}})}}),pde=X({logSumExp_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=F(t,"x","logSumExp"),a=xn(e,r.shape),i=r.max(a,!0),o=r.sub(i).exp().sum(a).log(),u=i.reshape(o.shape).add(o);if(n){var c=br(u.shape,a);return u.reshape(c)}return u}}),lg=X({max_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=F(t,"x","max"),a=r,i=xn(e,r.shape),o=i,u=Za(o,r.rank);u!=null&&(r=r.transpose(u),o=Ja(o.length,r.rank));var c=[r],l=ee.runKernelFunc(function(d,v){var m=d.max(r,o);return v([a,m]),m},{x:r},function(d,v){return Jq(d,v[1],v[0],i,u)},"Max",{axes:o},c,[!0]);if(n){var h=br(l.shape,i);l=l.reshape(h)}return l}}),vde=X({mean_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=F(t,"x","mean"),a=xn(e,r.shape),i=Pe(Vn(r.shape,a)[1]);return ig(function(o){var u=Ee(i);return{value:(u.dtype===o.dtype?o:o.cast(u.dtype)).div(u).sum(e,n),gradFunc:function(c){var l=o.shape.slice();return a.forEach(function(h){l[h]=1}),c.reshape(l).mul(Gc(o.shape,"float32")).div(i)}}})(r)}}),mde=X({min_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=F(t,"x","min"),a=r,i=xn(e,r.shape),o=i,u=Za(o,r.rank);u!=null&&(r=r.transpose(u),o=Ja(o.length,r.rank));var c=[r],l=ee.runKernelFunc(function(d,v){var m=d.min(r,o);return v([a,m]),m},{x:r},function(d,v){return Jq(d,v[1],v[0],i,u)},"Min",{axes:o},c,[!0]);if(n){var h=br(l.shape,i);l=l.reshape(h)}return l}}),gde=X({moments_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=xn(e,(t=F(t,"x","moments")).shape),a=t.mean(r,n),i=a.shape;n||(i=br(a.shape,r));var o=t.toFloat().sub(a.reshape(i)).square();return{mean:a,variance:o.mean(r,n)}}}),ez=X({sum_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=F(t,"x","sum");r.dtype==="bool"&&(r=r.toInt());var a=xn(e,r.shape);return ig(function(i){var o=Za(a,i.rank),u=a,c=i;o!=null&&(c=i.transpose(o),u=Ja(u.length,i.rank));var l=function(m){var y=i.shape.slice();return a.forEach(function(x){y[x]=1}),m.reshape(y).mul(Gc(i.shape,"float32"))},h={axes:u},d=ee.runKernelFunc(function(m){return m.sum(c,u)},{x:c},function(m){return{x:function(){return l(m)}}},"Sum",h);if(n){var v=br(d.shape,a);d=d.reshape(v)}return{value:d,gradFunc:l}})(r)}}),yde=X({prod_:function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=!1);var r=F(t,"x","prod");r.dtype==="bool"&&(r=r.toInt());var a=xn(e,r.shape),i=Za(a,r.rank),o=a,u=r;i!=null&&(u=r.transpose(i),o=Ja(o.length,r.rank));var c=ee.runKernelFunc(function(h){return h.prod(u,o)},{permutedX:u});if(n){var l=br(c.shape,a);c=c.reshape(l)}return c}}),tz=X({elu_:function(t){var e=F(t,"x","elu");return ee.runKernelFunc(function(n,r){var a=n.elu(e);return r([a]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){return ee.runKernelFunc(function(i){return i.eluDer(n,a)},{dy:n,y:a})}}})}}),bde=X({leakyRelu_:function(t,e){e===void 0&&(e=.2);var n=F(t,"x","leakyRelu");return uA(Ee(e).mul(n),n)}}),nz=X({prelu_:function(t,e){var n=F(t,"x","prelu"),r=F(e,"alpha","prelu");return ee.runKernelFunc(function(a,i){var o=a.prelu(n,r);return i([n,r]),o},{x:n,alpha:r},function(a,i){var o=i[0],u=i[1],c=o.greater(0);return{x:function(){return Pu(c,a,a.mul(u))},alpha:function(){var l=Pu(c,ht(a),a.mul(o)),h=gn(u.shape,a.shape);return h.length>0&&(l=l.sum(h)),l.reshape(u.shape)}}},"Prelu")}}),zt=X({relu_:function(t){var e=F(t,"x","relu");return e.dtype==="bool"?e.toInt():ee.runKernelFunc(function(n,r){var a=n.relu(e);return r([e]),a},{x:e},function(n,r){var a=r[0];return{x:function(){return n.mulStrict(a.step().toFloat())}}},"Relu")}}),rz=X({relu6_:function(t){var e=F(t,"x","relu6");return e.dtype==="bool"?e.toInt():ee.runKernelFunc(function(n,r){var a=n.relu6(e);return r([e]),a},{x:e},function(n,r){var a=r[0],i=a.lessEqual(6).mul(a.step());return{x:function(){return n.mulStrict(i.toFloat())}}},"Relu6")}}),xde=X({selu_:function(t){var e=F(t,"x","selu");return ee.runKernelFunc(function(n,r){var a=n.selu(e);return r([e]),a},{$x:e},function(n,r){var a=r[0];return{$x:function(){var i=a.greater(Ee(0)),o=Ee(aA),u=Ee(iA),c=n.mul(u),l=n.mul(o).mul(a.toFloat().exp());return Pu(i,c,l)}}})}}),Do=X({transpose_:function(t,e){var n=F(t,"x","transpose");if(e==null&&(e=n.shape.map(function(a,i){return i}).reverse()),z(n.rank===e.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+e+"."}),e.forEach(function(a){z(a>=0&&a<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+e})}),n.rank<=1)return n.clone();var r={perm:e};return ee.runKernelFunc(function(a){return a.transpose(n,e)},{x:n},function(a){var i=KE(e);return{x:function(){return a.transpose(i)}}},"Transpose",r)}}),wde=X({localResponseNormalization_:function(t,e,n,r,a){e===void 0&&(e=5),n===void 0&&(n=1),r===void 0&&(r=1),a===void 0&&(a=.5);var i=F(t,"x","localResponseNormalization");z(i.rank===4||i.rank===3,function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+i.rank+"."}),z(Jt(e),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+e+"."});var o=i,u=!1;i.rank===3&&(u=!0,o=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var c=ee.runKernelFunc(function(l,h){var d=l.localResponseNormalization4D(o,e,n,r,a);return h([o,d]),d},{x4D:o},function(l,h){var d=h[0],v=h[1];return{x4D:function(){return ee.runKernelFunc(function(m){return m.LRNGrad(l,d,v,e,n,r,a)},{})}}});return u?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}}),az=X({norm_:function(t,e,n,r){e===void 0&&(e="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1);var a=function u(c,l,h){if(h===void 0&&(h=null),c.rank===0)return c.abs();if(c.rank!==1&&h===null)return u(c.reshape([-1]),l,h);if(c.rank===1||typeof h=="number"||Array.isArray(h)&&h.length===1){if(l===1)return c.abs().sum(h);if(l===1/0)return c.abs().max(h);if(l===-1/0)return c.abs().min(h);if(l==="euclidean"||l===2)return c.abs().pow(Ee(2,"int32")).sum(h).sqrt();throw new Error("Error in norm: invalid ord value: "+l)}if(Array.isArray(h)&&h.length===2){if(l===1)return c.abs().sum(h[0]).max(h[1]-1);if(l===1/0)return c.abs().sum(h[1]).max(h[0]);if(l===-1/0)return c.abs().sum(h[1]).min(h[0]);if(l==="fro"||l==="euclidean")return c.square().sum(h).sqrt();throw new Error("Error in norm: invalid ord value: "+l)}throw new Error("Error in norm: invalid axis: "+h)}(t=F(t,"x","norm"),e,n),i=a.shape;if(r){var o=xn(n,t.shape);i=br(a.shape,o)}return a.reshape(i)}}),_de=X({basicLSTMCell_:function(t,e,n,r,a,i){var o=F(t,"forgetBias","basicLSTMCell"),u=F(e,"lstmKernel","basicLSTMCell"),c=F(n,"lstmBias","basicLSTMCell"),l=F(r,"data","basicLSTMCell"),h=F(a,"c","basicLSTMCell"),d=F(i,"h","basicLSTMCell"),v=l.concat(d,1).matMul(u).add(c),m=v.shape[0],y=v.shape[1]/4,x=[m,y],b=v.slice([0,0],x),w=v.slice([0,y],x),S=v.slice([0,2*y],x),A=v.slice([0,3*y],x),O=b.sigmoid().mulStrict(w.tanh()).addStrict(h.mulStrict(o.add(S).sigmoid())),E=O.tanh().mulStrict(A.sigmoid());return[O,E]}}),Sde=X({multiRNNCell_:function(t,e,n,r){for(var a=F(e,"data","multiRNNCell"),i=qv(n,"c","multiRNNCell"),o=qv(r,"h","multiRNNCell"),u=a,c=[],l=0;l<t.length;l++){var h=t[l](u,i[l],o[l]);c.push(h[0]),c.push(h[1]),u=h[1]}var d=[],v=[];for(l=0;l<c.length;l+=2)d.push(c[l]),v.push(c[l+1]);return[d,v]}}),Ede=X({movingAverage_:function(t,e,n,r,a){a===void 0&&(a=!0);var i=F(t,"v","movingAverage"),o=F(e,"x","movingAverage"),u=F(n,"decay","movingAverage");wse(i,o),z(Rn(i.shape,o.shape),function(){return"Shape mismatch in v and x"});var c=Ee(1),l=c.sub(u),h=o.sub(i).mul(l);if(a){z(r!=null,function(){return"When using zeroDebias: true, step is required."});var d=F(r,"step","movingAverage");h=h.div(c.sub(Qv(u,d)))}return i.add(h)}}),Ade=X({stridedSlice_:function(t,e,n,r,a,i,o,u,c){if(a===void 0&&(a=0),i===void 0&&(i=0),o===void 0&&(o=0),u===void 0&&(u=0),c===void 0&&(c=0),r==null&&(r=new Array(e.length)),o!==0)throw new Error("ellipsis mask is not yet supported");var l=F(t,"x","stridedSlice"),h=T4(u),d=l.shape.slice();h.forEach(function(b){e[b]=0,n[b]=1,d.splice(b,0,1)}),l=l.reshape(d);for(var v=0;v<l.rank;v++)e[v]=Ice(a,e,r,l.shape,v),n[v]=Bce(i,n,r,l.shape,v),r[v]=r[v]||1;var m=T4(c);m.forEach(function(b){n[b]=e[b]+1,r[b]=1});var y=ZE(e,n,r),x=y.filter(function(b,w){return m.indexOf(w)===-1});return r.every(function(b){return b===1})?Ka(l,e,y).reshape(x):ee.runKernelFunc(function(b){return b.stridedSlice(l,e,n,r)},{$x:l}).reshape(x)}}),Ode=X({topk_:function(t,e,n){e===void 0&&(e=1),n===void 0&&(n=!0);var r=F(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(e>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") but got "+e);var i=ee.runKernelFunc(function(o){return o.topk(r,e,n)},{$x:r});return{values:i[0],indices:i[1]}}}),Tde=X({scatterND_:function(t,e,n){var r=F(t,"indices","scatterND","int32"),a=F(e,"updates","scatterND");return Nce(a,r,n),ee.runKernelFunc(function(i){return i.scatterND(r,a,n)},{indices:r,updates:a},null,"ScatterNd",{shape:n})}}),fA=X({fft_:function(t){z(t.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+t.dtype+"."});var e=t.shape[t.shape.length-1],n=t.size/e,r=t.as2D(n,e);return ee.runKernelFunc(function(a){return a.fft(r)},{input:t}).reshape(t.shape)}}),Zv=X({ifft_:function(t){z(t.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+t.dtype+"."});var e=t.shape[t.shape.length-1],n=t.size/e,r=t.as2D(n,e);return ee.runKernelFunc(function(a){return a.ifft(r)},{input:t}).reshape(t.shape)}}),hA=X({rfft_:function(t,e){z(t.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+t.dtype});var n,r=t.shape[t.shape.length-1],a=t.size/r;if(e!=null&&e<r){var i=t.shape.map(function(w){return 0}),o=t.shape.map(function(w){return w});o[t.shape.length-1]=e,n=t.slice(i,o),r=e}else if(e!=null&&e>r){var u=t.shape.map(function(w){return w});u[t.shape.length-1]=e-r,n=t.concat(It(u),t.shape.length-1),r=e}else n=t;var c=n.zerosLike(),l=Ln(n,c).as2D(a,r),h=fA(l),d=Math.floor(r/2)+1,v=ta(h),m=La(h),y=v.split([d,r-d],v.shape.length-1),x=m.split([d,r-d],m.shape.length-1),b=n.shape.slice();return b[n.shape.length-1]=d,Ln(y[0],x[0]).reshape(b)}}),iz=X({irfft_:function(t){var e=t.shape[t.shape.length-1],n=t.size/e;if(e<=2){var r=t.as2D(n,e),a=Zv(r);return ta(a)}var i=[n,2*(e-1)],o=ta(t).as2D(n,e),u=La(t).as2D(n,e),c=o.slice([0,1],[n,e-2]).reverse(1),l=u.slice([0,1],[n,e-2]).reverse(1).mul(Ee(-1)),h=o.concat(c,1),d=u.concat(l,1);return r=Ln(h,d).as2D(i[0],i[1]),a=Zv(r),ta(a)}}),Cde=Object.freeze({fft:fA,ifft:Zv,rfft:hA,irfft:iz}),Rde=X({sparseToDense_:function(t,e,n,r){r===void 0&&(r=0);var a=F(t,"sparseIndices","sparseToDense","int32"),i=F(e,"sparseValues","sparseToDense"),o=F(r,"defaultValue","sparseToDense",i.dtype);return function(u,c,l,h){if(u.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+u.dtype+".");if(u.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+u.shape+".");var d=u.rank>0?u.shape[0]:1,v=u.rank>1?u.shape[1]:1;if(l.length!==v)throw new Error("outputShape has incorrect number of elements:, "+l.length+", should be: "+v+".");var m=c.size;if(c.rank!==0&&(c.rank!==1||m!==d))throw new Error("sparseValues has incorrect shape "+c.shape+", should be [] or ["+d+"]");if(c.dtype!==h.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,i,n,o),ee.runKernelFunc(function(u){return u.sparseToDense(a,i,n,o)},{$sparseIndices:a,$sparseValues:i,$defaultValue:o})}}),Dde=X({gatherND_:function(t,e){var n=F(e,"indices","gatherND","int32"),r=F(t,"x","gatherND");return ee.runKernelFunc(function(a){return a.gatherND(r,n)},{x:r,indices:n},null,"GatherNd")}}),Mde=X({diag_:function(t){var e=F(t,"x","diag").flatten(),n=t.shape.concat(t.shape);return ee.runKernelFunc(function(r){return r.diag(e)},{$x:e}).reshape(n)}}),Pde=X({dropout_:function(t,e,n,r){var a=F(t,"x","dropout");if(z(a.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+a.dtype+" tensor instead."}),z(e>=0&&e<1,function(){return"rate must be a float in the range [0, 1), but got "+e+"."}),e===0)return t instanceof qt?a.clone():a;var i=function(c,l){if(l==null)return c.shape.slice();if(Rn(c.shape,l))return l;if(c.shape.length===l.length){for(var h=[],d=0;d<c.shape.length;d++)l[d]==null&&c.shape[d]!=null?h.push(c.shape[d]):h.push(l[d]);return h}return l}(a,n),o=1-e,u=nq(i,0,1,"float32",r).add(o).floor().div(o);return a.mul(u)}});function oz(t,e,n){for(var r=1-t%2,a=new Float32Array(t),i=0;i<t;++i){var o=2*Math.PI*i/(t+r-1);a[i]=e-n*Math.cos(o)}return on(a,"float32")}var dA=X({hannWindow_:function(t){return oz(t,.5,.5)}}),uz=X({hammingWindow_:function(t){return oz(t,.54,.46)}}),pA=X({frame_:function(t,e,n,r,a){r===void 0&&(r=!1),a===void 0&&(a=0);for(var i=0,o=[];i+e<=t.size;)o.push(Ka(t,i,e)),i+=n;if(r)for(;i<t.size;){var u=i+e-t.size,c=vn([Ka(t,i,e-u),Wa([u],a)]);o.push(c),i+=n}return o.length===0?To([],[0,e]):vn(o).as2D(o.length,e)}}),sz=X({stft_:function(t,e,n,r,a){var i;a===void 0&&(a=dA),r==null&&(i=e,r=Math.floor(Math.pow(2,Math.ceil(Math.log(i)/Math.log(2)))));for(var o=pA(t,e,n),u=Jn(o,a(e)),c=[],l=0;l<o.shape[0];l++)c.push(hA(u.slice([l,0],[1,e]),r));return vn(c)}}),Nde=Object.freeze({hannWindow:dA,hammingWindow:uz,frame:pA,stft:sz}),Zn,kde=function(t,e,n){return n===void 0&&(n=1),De(this,void 0,void 0,function(){var r,a,i,o,u,c,l,h,d,v,m,y,x,b;return Me(this,function(w){switch(w.label){case 0:return r=F(t,"predictions","inTopK"),a=F(e,"targets","inTopK"),z(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),z(r.rank-1===a.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+a.rank}),xt(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=r.shape[r.shape.length-1],z(n>0&&n<=i,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+i+"), but got "+n}),[4,r.data()];case 1:return o=w.sent(),[4,a.data()];case 2:for(u=w.sent(),c=[o.length/i,i],h=c[1],d=uh("bool",l=c[0]),v=0;v<l;v++){for(m=v*h,y=o.subarray(m,m+h),x=[],b=0;b<y.length;b++)x.push({value:y[b],index:b});for(x.sort(function(S,A){return A.value-S.value}),d[v]=0,b=0;b<n;b++)if(x[b].index===u[v]){d[v]=1;break}}return t!==r&&r.dispose(),e!==a&&a.dispose(),[2,Fn(d,a.shape,"bool")]}})})};(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Zn||(Zn={}));var Ide=X({absoluteDifference_:function(t,e,n,r){r===void 0&&(r=Zn.SUM_BY_NONZERO_WEIGHTS);var a=F(t,"labels","absoluteDifference"),i=F(e,"predictions","absoluteDifference"),o=null;n!=null&&(o=F(n,"weights","absoluteDifference")),xt(a.shape,i.shape,"Error in absoluteDifference: ");var u=a.sub(i).abs();return Li(u,o,r)}}),Li=X({computeWeightedLoss_:function(t,e,n){n===void 0&&(n=Zn.SUM_BY_NONZERO_WEIGHTS);var r=F(t,"losses","computeWeightedLoss"),a=null;e!=null&&(a=F(e,"weights","computeWeightedLoss"));var i=a==null?r:r.mul(a);if(n===Zn.NONE)return i;if(n===Zn.SUM)return i.sum();if(n===Zn.MEAN){if(a==null)return i.mean();var o=r.size/a.size,u=i.sum().div(a.sum());return o>1?u.div(Ee(o)):u}if(n===Zn.SUM_BY_NONZERO_WEIGHTS){if(a==null)return i.sum().div(Ee(r.size));var c=a.mul(Gc(r.shape)).notEqual(Ee(0)).sum().toFloat();return i.sum().div(c)}throw Error("Unknown reduction: "+n)}}),Bde=X({cosineDistance_:function(t,e,n,r,a){a===void 0&&(a=Zn.SUM_BY_NONZERO_WEIGHTS);var i=F(t,"labels","cosineDistance"),o=F(e,"predictions","cosineDistance"),u=null;r!=null&&(u=F(r,"weights","cosineDistance")),xt(i.shape,o.shape,"Error in cosineDistance: ");var c=Ee(1).sub(i.mul(o).sum(n,!0));return Li(c,u,a)}}),Lde=X({hingeLoss_:function(t,e,n,r){r===void 0&&(r=Zn.SUM_BY_NONZERO_WEIGHTS);var a=F(t,"labels","hingeLoss"),i=F(e,"predictions","hingeLoss"),o=null;n!=null&&(o=F(n,"weights","hingeLoss")),xt(a.shape,i.shape,"Error in hingeLoss: ");var u=Ee(1);a=Ee(2).mul(a).sub(u);var c=u.sub(a.mul(i)).relu();return Li(c,o,r)}}),jde=X({huberLoss_:function(t,e,n,r,a){r===void 0&&(r=1),a===void 0&&(a=Zn.SUM_BY_NONZERO_WEIGHTS);var i=F(t,"labels","huberLoss"),o=F(e,"predictions","huberLoss"),u=null;n!=null&&(u=F(n,"weights","huberLoss")),xt(i.shape,o.shape,"Error in huberLoss: ");var c=Ee(r),l=o.sub(i).abs(),h=qq(l,c),d=l.sub(h),v=Ee(.5).mul(h.square()).add(c.mul(d));return Li(v,u,a)}}),Fde=X({logLoss_:function(t,e,n,r,a){r===void 0&&(r=1e-7),a===void 0&&(a=Zn.SUM_BY_NONZERO_WEIGHTS);var i=F(t,"labels","logLoss"),o=F(e,"predictions","logLoss"),u=null;n!=null&&(u=F(n,"weights","logLoss")),xt(i.shape,o.shape,"Error in logLoss: ");var c=Ee(1),l=Ee(r),h=i.mul(o.add(l).log()).neg().sub(c.sub(i).mul(c.sub(o).add(l).log()));return Li(h,u,a)}}),Ude=X({meanSquaredError_:function(t,e,n,r){r===void 0&&(r=Zn.SUM_BY_NONZERO_WEIGHTS);var a=F(t,"labels","meanSquaredError"),i=F(e,"predictions","meanSquaredError"),o=null;n!=null&&(o=F(n,"weights","meanSquaredError")),xt(a.shape,i.shape,"Error in meanSquaredError: ");var u=a.squaredDifference(i);return Li(u,o,r)}}),qde=X({sigmoidCrossEntropy_:function(t,e,n,r,a){r===void 0&&(r=0),a===void 0&&(a=Zn.SUM_BY_NONZERO_WEIGHTS);var i=F(t,"multiClassLabels","sigmoidCrossEntropy"),o=F(e,"logits","sigmoidCrossEntropy"),u=null;if(n!=null&&(u=F(n,"weights","sigmoidCrossEntropy")),xt(i.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){var c=Ee(r),l=Ee(1),h=Ee(.5);i=i.mul(l.sub(c)).add(h.mul(c))}var d=function(v,m){var y=F(v,"labels","sigmoidCrossEntropyWithLogits"),x=F(m,"logits","sigmoidCrossEntropyWithLogits");xt(y.shape,x.shape,"Error in sigmoidCrossEntropyWithLogits: ");var b=x.relu(),w=x.mul(y),S=x.abs().neg().exp().log1p();return b.sub(w).add(S)}(i,o);return Li(d,u,a)}}),zde=X({softmaxCrossEntropy_:function(t,e,n,r,a){r===void 0&&(r=0),a===void 0&&(a=Zn.SUM_BY_NONZERO_WEIGHTS);var i=F(t,"onehotLabels","softmaxCrossEntropy"),o=F(e,"logits","softmaxCrossEntropy"),u=null;if(n!=null&&(u=F(n,"weights","softmaxCrossEntropy")),xt(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var c=Ee(r),l=Ee(1),h=Ee(i.shape[1]);i=i.mul(l.sub(c)).add(c.div(h))}var d=function(v,m,y){if(y===void 0&&(y=-1),y===-1&&(y=m.rank-1),y!==m.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+m.rank+" and dim was "+y);return ig(function(x,b,w){var S=b.logSumExp([y],!0),A=b.toFloat().sub(S);return w([x,A]),{value:A.mul(x).neg().sum([y]),gradFunc:function(O,E){var C=E[0],R=E[1],D=br(O.shape,[y]);return[O.reshape(D).mul(C.toFloat().sub(R.exp())),O.reshape(D).mul(R.exp().sub(C.toFloat()))]}}})(v,m)}(i,o);return Li(d,u,a)}}),$de=Object.freeze({get Reduction(){return Zn},absoluteDifference:Ide,computeWeightedLoss:Li,cosineDistance:Bde,hingeLoss:Lde,huberLoss:jde,logLoss:Fde,meanSquaredError:Ude,sigmoidCrossEntropy:qde,softmaxCrossEntropy:zde});function X4(t,e){return e===void 0&&(e=!1),ee.tidy(function(){if(t.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor.");for(var n=t.shape[0],r=t.shape[1],a=tq(n),i=t.clone(),o=To([[1]],[1,1]),u=o.clone(),c=n>=r?r:n,l=function(d){var v,m=i,y=u,x=a;v=ee.tidy(function(){var b=i.slice([d,d],[n-d,1]),w=b.norm(),S=i.slice([d,d],[1,1]),A=To([[-1]]).where(S.greater(0),To([[1]])),O=S.sub(A.mul(w)),E=b.div(O);u=E.shape[0]===1?o.clone():o.concat(E.slice([1,0],[E.shape[0]-1,E.shape[1]]),0);var C=A.matMul(O).div(w).neg(),R=i.slice([d,0],[n-d,r]),D=C.mul(u);if(d===0)i=R.sub(D.matMul(u.transpose().matMul(R)));else{var M=R.sub(D.matMul(u.transpose().matMul(R)));i=i.slice([0,0],[d,r]).concat(M,0)}var N=a.slice([0,d],[n,a.shape[1]-d]);if(d===0)a=N.sub(N.matMul(u).matMul(D.transpose()));else{var k=N.sub(N.matMul(u).matMul(D.transpose()));a=a.slice([0,0],[n,d]).concat(k,1)}return[u,i,a]}),u=v[0],i=v[1],a=v[2],yr([m,y,x])},h=0;h<c;++h)l(h);return!e&&n>r&&(a=a.slice([0,0],[n,r]),i=i.slice([0,0],[r,r])),[a,i]})}var Wde=X({bandPart_:function(t,e,n){if(e%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+e+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=F(t,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var a=r.shape,i=r.shape.slice(-2),o=i[0],u=i[1];if(!(e<=o))throw new Error("bandPart(): numLower ("+e+") must not be greater than the number of rows ("+o+").");if(!(n<=u))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+u+").");e<0&&(e=o),n<0&&(n=u);var c=zv(0,o,1,"int32").reshape([-1,1]),l=zv(0,u,1,"int32"),h=yn(c,l),d=ug(h.lessEqual(Ee(+e,"int32")),h.greaterEqual(Ee(-n,"int32"))),v=It([o,u],r.dtype);return Fr(mn(r.reshape([-1,o,u])).map(function(m){return Pu(d,m,v)})).reshape(a)}}),Hde=X({gramSchmidt_:function(t){var e;if(Array.isArray(t)){e=!1,z(t!=null&&t.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=t[0].shape[0],r=function(c){z(t[c].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+t[c].shape[0]+" vs. "+n+")"})},a=1;a<t.length;++a)r(a)}else e=!0,t=YE(t,t.shape[0],0).map(function(c){return aq(c,[0])});z(t.length<=t[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+t.length+") exceeds number of dimensions ("+t[0].shape[0]+")."});var i=[],o=t,u=function(c){i.push(ee.tidy(function(){var l=o[c];if(c>0)for(var h=0;h<c;++h){var d=ez(i[h].mulStrict(l)).mul(i[h]);l=l.sub(d)}return l.div(az(l,"euclidean"))}))};for(a=0;a<t.length;++a)u(a);return e?Fr(i,0):i}}),Vde=X({qr_:function(t,e){if(e===void 0&&(e=!1),t.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+t.rank);if(t.rank===2)return X4(t,e);var n=t.shape.slice(0,t.shape.length-2).reduce(function(o,u){return o*u}),r=mn(t.reshape([n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),a=[],i=[];return r.forEach(function(o){var u=X4(o,e),c=u[0],l=u[1];a.push(c),i.push(l)}),[Fr(a,0).reshape(t.shape),Fr(i,0).reshape(t.shape)]}}),Gde=Object.freeze({bandPart:Wde,gramSchmidt:Hde,qr:Vde});function fg(t,e,n,r,a,i){r==null&&(r=.5),a==null&&(a=Number.NEGATIVE_INFINITY),i==null&&(i=0);var o=t.shape[0];return n=Math.min(n,o),z(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),z(t.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+t.rank+"'"}),z(t.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+t.shape[1]}),z(e.rank===1,function(){return"scores must be a 1D tensor"}),z(e.shape[0]===o,function(){return"scores has incompatible shape with boxes. Expected "+o+", but was "+e.shape[0]}),z(0<=i&&i<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+i+"'"}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}var Kde=X({resizeBilinear_:function(t,e,n){n===void 0&&(n=!1);var r=F(t,"images","resizeBilinear");z(r.rank===3||r.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),z(e.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+e+"."});var a=r,i=!1;r.rank===3&&(i=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=e[0],u=e[1],c=ee.runKernelFunc(function(l,h){return h([a]),l.resizeBilinear(a,o,u,n)},{x:a},function(l,h){return{x:function(){return ee.runKernelFunc(function(d){return d.resizeBilinearBackprop(l,h[0],n)},{})}}},"ResizeBilinear",{alignCorners:n,newHeight:o,newWidth:u});return i?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}}),Xde=X({resizeNearestNeighbor_:function(t,e,n){n===void 0&&(n=!1);var r=F(t,"images","resizeNearestNeighbor");z(r.rank===3||r.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),z(e.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+e+"."}),z(r.dtype==="float32"||r.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"});var a=r,i=!1;r.rank===3&&(i=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=e[0],u=e[1],c=ee.runKernelFunc(function(l,h){return h([a]),l.resizeNearestNeighbor(a,o,u,n)},{batchImages:a},function(l,h){return{batchImages:function(){return ee.runKernelFunc(function(d){return d.resizeNearestNeighborBackprop(l,h[0],n)},{})}}});return i?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}}),Yde=X({nonMaxSuppression_:function(t,e,n,r,a){r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY);var i=F(t,"boxes","nonMaxSuppression"),o=F(e,"scores","nonMaxSuppression"),u=fg(i,o,n,r,a);n=u.maxOutputSize,r=u.iouThreshold,a=u.scoreThreshold;var c={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return ee.runKernelFunc(function(l){return l.nonMaxSuppression(i,o,n,r,a)},{boxes:i,scores:o},null,"NonMaxSuppressionV3",c)}}),Qde=function(t,e,n,r,a){return r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),De(this,void 0,void 0,function(){var i,o,u,c,l,h,d;return Me(this,function(v){switch(v.label){case 0:return i=F(t,"boxes","nonMaxSuppressionAsync"),o=F(e,"scores","nonMaxSuppressionAsync"),u=fg(i,o,n,r,a),n=u.maxOutputSize,r=u.iouThreshold,a=u.scoreThreshold,[4,Promise.all([i.data(),o.data()])];case 1:return c=v.sent(),l=c[0],h=c[1],d=eA(l,h,n,r,a),i!==t&&i.dispose(),o!==e&&o.dispose(),[2,d]}})})},Zde=X({nonMaxSuppressionWithScore_:function(t,e,n,r,a,i){r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),i===void 0&&(i=0);var o=F(t,"boxes","nonMaxSuppression"),u=F(e,"scores","nonMaxSuppression"),c=fg(o,u,n,r,a,i),l={maxOutputSize:n=c.maxOutputSize,iouThreshold:r=c.iouThreshold,scoreThreshold:a=c.scoreThreshold,softNmsSigma:i=c.softNmsSigma},h=ee.runKernel("NonMaxSuppressionV5",{boxes:o,scores:u},l);return{selectedIndices:h[0],selectedScores:h[1]}}}),Jde=function(t,e,n,r,a,i){return r===void 0&&(r=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),i===void 0&&(i=0),De(this,void 0,void 0,function(){var o,u,c,l,h,d,v;return Me(this,function(m){switch(m.label){case 0:return o=F(t,"boxes","nonMaxSuppressionAsync"),u=F(e,"scores","nonMaxSuppressionAsync"),c=fg(o,u,n,r,a,i),n=c.maxOutputSize,r=c.iouThreshold,a=c.scoreThreshold,i=c.softNmsSigma,[4,Promise.all([o.data(),u.data()])];case 1:return l=m.sent(),h=l[0],d=l[1],v=tA(h,d,n,r,a,i),o!==t&&o.dispose(),u!==e&&u.dispose(),[2,v]}})})},epe=X({cropAndResize_:function(t,e,n,r,a,i){var o=F(t,"image","cropAndResize"),u=F(e,"boxes","cropAndResize","float32"),c=F(n,"boxInd","cropAndResize","int32");a=a||"bilinear",i=i||0;var l=u.shape[0];return z(o.rank===4,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+o.rank+"."}),z(u.rank===2&&u.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+l+",4] but had shape "+u.shape+"."}),z(c.rank===1&&c.shape[0]===l,function(){return"Error in cropAndResize: boxInd must be have size ["+l+"] but had shape "+u.shape+"."}),z(r.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),z(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),z(a==="bilinear"||a==="nearest",function(){return"method must be bilinear or nearest, but was "+a}),ee.runKernelFunc(function(h,d){return h.cropAndResize(o,u,c,r,a,i)},{images:o,boxes:u,boxInd:c},null,"CropAndResize",{method:a,extrapolationValue:i,cropSize:r})}}),vA=Object.freeze({resizeBilinear:Kde,resizeNearestNeighbor:Xde,nonMaxSuppression:Yde,nonMaxSuppressionAsync:Qde,nonMaxSuppressionWithScore:Zde,nonMaxSuppressionWithScoreAsync:Jde,cropAndResize:epe}),mA=function(t,e){return!(t>0)||e==="linear"},gA=function(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return t.mul(e.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},yA=function(t,e){var n=e,r=gn(t.shape,e.shape);return r.length>0&&(n=n.sum(r)),n.reshape(t.shape)},bA=function(t,e,n){if(e==="linear")return t;if(e==="relu")return zt(t);if(e==="elu")return tz(t);if(e==="relu6")return rz(t);if(e==="prelu")return nz(t,n);throw new Error("Unknown fused activation "+e+".")},tpe=X({fusedMatMul_:function(t){var e,n=t.a,r=t.b,a=t.transposeA,i=a!==void 0&&a,o=t.transposeB,u=o!==void 0&&o,c=t.bias,l=t.activation,h=l===void 0?"linear":l,d=t.preluActivationWeights;if(mA(ee.state.gradientDepth,h)===!1){var v=cg(n,r,i,u);return c!=null&&(v=at(v,c)),bA(v,h,d)}var m=F(n,"a","fused matMul"),y=F(r,"b","fused matMul");e=$t(m,y),m=e[0],y=e[1];var x=i?m.shape[m.rank-2]:m.shape[m.rank-1],b=u?y.shape[y.rank-1]:y.shape[y.rank-2],w=i?m.shape[m.rank-1]:m.shape[m.rank-2],S=u?y.shape[y.rank-2]:y.shape[y.rank-1],A=m.shape.slice(0,-2),O=y.shape.slice(0,-2),E=Pe(A),C=Pe(O);z(m.rank>=2&&y.rank>=2&&m.rank===y.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+m.rank+" and "+y.rank+"."}),z(Rn(A,O),function(){return"Error in fused matMul: outer dimensions ("+A+") and ("+O+") of Tensors with shapes "+m.shape+" and "+y.shape+" must match."}),z(x===b,function(){return"Error in fused matMul: inner shapes ("+x+") and ("+b+") of Tensors with shapes "+m.shape+" and "+y.shape+" and transposeA="+i+" and transposeB="+u+" must match."});var R,D,M=m.shape.slice(0,-2).concat([w,S]),N=i?m.as3D(E,x,w):m.as3D(E,w,x),k=u?y.as3D(C,S,b):y.as3D(C,b,S);c!=null&&st(M,(R=$t(R=F(c,"bias","fused matMul"),m)[0]).shape),d!=null&&(D=F(d,"prelu weights","fused matMul"));var I={a:N,b:k};c!=null&&(I.bias=R),d!=null&&(I.preluActivationWeights=D);var q=[N,k];return ee.runKernelFunc(function(W,$){var j=W.fusedBatchMatMul({a:N,b:k,transposeA:i,transposeB:u,bias:R,activation:h,preluActivationWeights:D});return $([N,k,j]),j},I,function(W,$){var j=$[0],U=$[1],H=$[2],Y=gA(W,H,h),B={};return c!=null&&(B={bias:function(){return yA(R,Y)}}),Object.assign(i||u?!i&&u?{a:function(){return Y.matMul(U,!1,!1)},b:function(){return Y.matMul(j,!0,!1)}}:i&&!u?{a:function(){return U.matMul(Y,!1,!0)},b:function(){return j.matMul(Y,!1,!1)}}:{a:function(){return U.matMul(Y,!0,!0)},b:function(){return Y.matMul(j,!0,!0)}}:{a:function(){return Y.matMul(U,!1,!0)},b:function(){return j.matMul(Y,!0,!1)}},B)},"_FusedMatMul",{transposeA:i,transposeB:u,activation:h},q,[!0]).reshape(M)}}),npe=X({fusedConv2d_:function(t){var e=t.x,n=t.filter,r=t.strides,a=t.pad,i=t.dataFormat,o=i===void 0?"NHWC":i,u=t.dilations,c=u===void 0?[1,1]:u,l=t.dimRoundingMode,h=t.bias,d=t.activation,v=d===void 0?"linear":d,m=t.preluActivationWeights;if(v=v||"linear",mA(ee.state.gradientDepth,v)===!1){var y=ua(e,n,r,a,o,c,l);return h!=null&&(y=at(y,h)),bA(y,v,m)}var x=F(e,"x","conv2d"),b=F(n,"filter","conv2d"),w=x,S=!1;x.rank===3&&(S=!0,w=x.as4D(1,x.shape[0],x.shape[1],x.shape[2])),z(w.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+w.rank+"."}),z(b.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+b.rank+"."}),l!=null&&z(Jt(a),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+l+" but got pad "+a+"."}),z(w.shape[3]===b.shape[2],function(){return"Error in conv2d: depth of input ("+w.shape[3]+") must match input depth for filter "+b.shape[2]+"."}),z(xr(r,c),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+c+"'"}),z(o==="NHWC",function(){return"Error in conv2d: got dataFormat of "+o+" but only NHWC is currently supported."});var A,O,E=qu(w.shape,b.shape,r,c,a,l);h!=null&&(A=$t(A=F(h,"bias","fused conv2d"),x)[0],st(E.outShape,A.shape)),m!=null&&(O=F(m,"prelu weights","fused conv2d"));var C={x:w,filter:b};h!=null&&(C.bias=A),m!=null&&(C.preluActivationWeights=O);var R=[b,w],D=ee.runKernelFunc(function(M,N){var k=M.fusedConv2d({input:w,filter:b,convInfo:E,bias:A,activation:v,preluActivationWeights:O});return N([b,w,k]),k},C,function(M,N){var k=N,I=k[0],q=k[1],W=k[2],$=gA(M,W,v);z(Pc(c),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+c+"'"});var j={};return h!=null&&(j={bias:function(){return yA(A,$)}}),Object.assign({x:function(){return Gq(q.shape,$,I,r,a)},filter:function(){return cA(q,$,I.shape,r,a)}},j)},"FusedConv2D",{convInfo:E,activation:v},R,[!0]);return S?D.as3D(D.shape[1],D.shape[2],D.shape[3]):D}}),rpe=X({fusedDepthwiseConv2d_:function(t){var e=t.x,n=t.filter,r=t.strides,a=t.pad,i=t.dataFormat,o=i===void 0?"NHWC":i,u=t.dilations,c=u===void 0?[1,1]:u,l=t.dimRoundingMode,h=t.bias,d=t.activation,v=d===void 0?"linear":d,m=t.preluActivationWeights;if(mA(ee.state.gradientDepth,v)===!1){var y=sg(e,n,r,a,o,c,l);return h!=null&&(y=at(y,h)),bA(y,v,m)}var x=F(e,"x","depthwiseConv2d"),b=F(n,"filter","depthwiseConv2d"),w=x,S=!1;x.rank===3&&(S=!0,w=x.as4D(1,x.shape[0],x.shape[1],x.shape[2])),z(w.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+w.rank+"."}),z(b.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+b.rank+"."}),z(w.shape[3]===b.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+w.shape[3]+") must match the inChannels dimension in filter "+b.shape[2]+"."}),c==null&&(c=[1,1]),z(xr(r,c),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+c+"'"}),l!=null&&z(Jt(a),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+l+" but got pad "+a+"."});var A,O,E=qu(w.shape,b.shape,r,c,a,l,!0);h!=null&&(A=$t(A=F(h,"bias","fused conv2d"),x)[0],st(E.outShape,A.shape)),m!=null&&(O=F(m,"prelu weights","fused depthwiseConv2d"));var C={x:w,filter:b};h!=null&&(C.bias=A),m!=null&&(C.preluActivationWeights=O);var R=[b,w],D=ee.runKernelFunc(function(M,N){var k=M.fusedDepthwiseConv2D({input:w,filter:b,convInfo:E,bias:A,activation:v,preluActivationWeights:O});return N([b,w,k]),k},C,function(M,N){z(Pc(c),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+c+"'"});var k=N[0],I=N[1],q=N[2],W=gA(M,q,v),$={};return h!=null&&($={bias:function(){return yA(A,W)}}),Object.assign({x:function(){return Kq(I.shape,W,k,E)},filter:function(){return Xq(I,W,k.shape,E)}},$)},"FusedDepthwiseConv2D",{convInfo:E,activation:v},R,[!0]);return S?D.as3D(D.shape[1],D.shape[2],D.shape[3]):D}}),ape=Object.freeze({matMul:tpe,conv2d:npe,depthwiseConv2d:rpe}),ipe=Object.freeze({image:vA,linalg:Gde,losses:$de,spectral:Cde,fused:ape,signal:Nde,square:Ffe,squaredDifference:Mq,conv1d:Khe,conv2d:ua,conv3d:Xhe,depthwiseConv2d:sg,separableConv2d:lA,conv2dTranspose:Yhe,conv3dTranspose:Qhe,op:X,batchNormalization2d:vhe,batchNormalization3d:mhe,batchNormalization4d:ghe,batchNormalization:yhe,batchNorm:Lq,batchNorm2d:bhe,batchNorm3d:xhe,batchNorm4d:whe,booleanMaskAsync:Ghe,complex:Ln,real:ta,imag:La,concat:vn,concat1d:ace,concat2d:ice,concat3d:oce,concat4d:uce,split:YE,matMul:cg,dot:Zhe,outerProduct:Jhe,reverse:Nh,reverse1d:ede,reverse2d:tde,reverse3d:nde,reverse4d:rde,maxPool:On,avgPool:kh,pool:ade,maxPool3d:ide,avgPool3d:ode,slice:Ka,slice1d:ude,slice2d:sde,slice3d:Zq,slice4d:cde,abs:Ufe,acos:qfe,acosh:zfe,asin:$fe,asinh:Wfe,atan:Hfe,atanh:Vfe,ceil:Gfe,clipByValue:oA,cos:Kfe,cosh:Xfe,erf:Yfe,exp:wS,expm1:Qfe,floor:Zfe,log:Jfe,log1p:ehe,logSigmoid:the,neg:Yv,reciprocal:nhe,round:rhe,rsqrt:Pq,sigmoid:Nq,sign:ahe,isNaN:ihe,isInf:ohe,isFinite:uhe,sin:she,sinh:che,softplus:lhe,sqrt:fhe,step:hhe,tan:dhe,tanh:phe,all:lde,any:fde,argMax:hde,argMin:dde,logSumExp:pde,max:lg,mean:vde,min:mde,moments:gde,sum:ez,prod:yde,equal:zq,equalStrict:Lhe,greater:jhe,greaterEqual:$q,greaterEqualStrict:Fhe,greaterStrict:Uhe,less:qhe,lessEqual:zhe,lessEqualStrict:$he,lessStrict:Whe,notEqual:Hhe,notEqualStrict:Vhe,add:at,addN:Ehe,addStrict:Ahe,atan2:Ohe,div:ga,divNoNan:The,divStrict:Che,floorDiv:Uq,maximum:uA,maximumStrict:Rhe,minimum:qq,minimumStrict:Dhe,mod:Mhe,modStrict:Phe,mul:Jn,mulStrict:Nhe,pow:Qv,powStrict:khe,squaredDifferenceStrict:Ihe,sub:yn,subStrict:Bhe,elu:tz,leakyRelu:bde,prelu:nz,relu:zt,relu6:rz,selu:xde,logicalAnd:ug,logicalNot:_he,logicalOr:jq,logicalXor:She,where:Pu,whereAsync:Fq,buffer:Ze,print:mce,batchToSpaceND:eq,broadcastTo:gce,cast:yce,clone:bce,cumsum:xce,depthToSpace:wce,expandDims:Jr,eye:tq,multinomial:_ce,oneHot:gS,pad:Uu,pad1d:Sce,pad2d:Ece,pad3d:Ace,pad4d:Oce,rand:Tce,randomNormal:Cce,randomGamma:Rce,randomUniform:nq,reshape:xa,spaceToBatchND:rq,squeeze:aq,stack:Fr,tile:Zs,truncatedNormal:Dce,unstack:mn,setdiff1dAsync:Mce,fill:Wa,linspace:rce,ones:Gc,range:zv,scalar:Ee,tensor:Fn,tensor1d:on,tensor2d:To,tensor3d:XE,tensor4d:pr,tensor5d:ece,tensor6d:tce,variable:nce,zeros:It,onesLike:JU,zerosLike:ht,transpose:Do,softmax:Bi,logSoftmax:jce,localResponseNormalization:wde,norm:az,gather:sA,unsortedSegmentSum:Wq,basicLSTMCell:_de,multiRNNCell:Sde,movingAverage:Ede,stridedSlice:Ade,topk:Ode,scatterND:Tde,fft:fA,ifft:Zv,rfft:hA,irfft:iz,sparseToDense:Rde,gatherND:Dde,diag:Mde,dropout:Pde,hannWindow:dA,hammingWindow:uz,frame:pA,stft:sz,inTopKAsync:kde});function be(t,e){Array.isArray(t)||(t=[t]),t.forEach(function(n){n!=null&&z(n.dtype!=="complex64",function(){return e+" does not support complex64 tensors."})})}function f_(t,e,n,r){if(n==="linear")return t.linear(e);if(n==="relu")return t.relu(e);if(n==="elu")return t.elu(e);if(n==="relu6")return t.relu6(e);if(n==="prelu")return t.prelu(e,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var ope=function(t){function e(){var n=t.call(this)||this;return n.blockSize=48,n.firstUse=!0,n.data=new fq(n,ee),n}return Aa(e,t),e.prototype.write=function(n,r,a){this.firstUse&&(this.firstUse=!1,fe().get("IS_NODE")&&Uv(`
============================
Hi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var i={};return this.data.set(i,{values:n,dtype:a}),i},e.prototype.move=function(n,r,a,i){this.data.set(n,{values:r,dtype:i})},e.prototype.numDataIds=function(){return this.data.numDataIds()},e.prototype.read=function(n){return De(this,void 0,void 0,function(){return Me(this,function(r){return[2,this.readSync(n)]})})},e.prototype.readSync=function(n){var r=this.data.get(n),a=r.dtype,i=r.complexTensors;return a==="complex64"?xS(this.readSync(i.real.dataId),this.readSync(i.imag.dataId)):this.data.get(n).values},e.prototype.bufferSync=function(n){var r=this.readSync(n.dataId),a=r;if(n.dtype==="string")try{a=r.map(function(i){return Lv(i)})}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Ze(n.shape,n.dtype,a)},e.prototype.makeOutput=function(n,r,a){var i=this.write(n,r,a);return ee.makeTensorFromDataId(i,r,a,this)},e.prototype.disposeData=function(n){if(this.data.has(n)){var r=this.data.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.data.delete(n)}},e.prototype.time=function(n){return De(this,void 0,void 0,function(){var r;return Me(this,function(a){return r=Ia(),n(),[2,{kernelMs:Ia()-r}]})})},e.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},e.prototype.complex=function(n,r){var a=this.makeOutput(null,n.shape,"complex64");return this.data.get(a.dataId).complexTensors={real:ee.keep(n.clone()),imag:ee.keep(r.clone())},a},e.prototype.real=function(n){return this.data.get(n.dataId).complexTensors.real.clone()},e.prototype.imag=function(n){return this.data.get(n.dataId).complexTensors.imag.clone()},e.prototype.slice=function(n,r,a){if(be(n,"slice"),cq(n.shape,r,a)){var i=lq(r,n.strides),o=Pe(a);return Fn(this.readSync(n.dataId).subarray(i,i+o),a,n.dtype)}for(var u=Ze(a,n.dtype),c=this.bufferSync(n),l=0;l<u.size;++l){var h=u.indexToLoc(l).map(function(d,v){return d+r[v]});u.values[l]=c.get.apply(c,h)}return u.toTensor()},e.prototype.stridedSlice=function(n,r,a,i){be(n,"stridedSlice");var o=ZE(r,a,i);if(o.some(function(m){return m===0}))return Fn([],o);for(var u=Ze(o,n.dtype),c=this.bufferSync(n),l=0;l<u.size;l++){for(var h=u.indexToLoc(l),d=new Array(h.length),v=0;v<d.length;v++)d[v]=h[v]*i[v]+r[v];u.set.apply(u,[c.get.apply(c,d)].concat(h))}return u.toTensor()},e.prototype.diag=function(n){for(var r=this.readSync(n.dataId),a=Ze([n.size,n.size],n.dtype),i=a.values,o=0;o<r.length;o++)i[o*n.size+o]=r[o];return a.toTensor()},e.prototype.unstack=function(n,r){for(var a=n.shape[r],i=new Array(n.rank-1),o=0,u=0;u<n.rank;u++)u!==r&&(i[o++]=n.shape[u]);var c=new Array(n.rank).fill(0),l=n.shape.slice();l[r]=1;var h=new Array(a);for(u=0;u<h.length;u++)c[r]=u,h[u]=this.slice(n,c,l).reshape(i);return h},e.prototype.reverse=function(n,r){be(n,"reverse");for(var a=Ze(n.shape,n.dtype),i=this.bufferSync(n),o=function(c){var l=a.indexToLoc(c),h=l.slice();r.forEach(function(d){return h[d]=n.shape[d]-1-h[d]}),a.set.apply(a,[i.get.apply(i,h)].concat(l))},u=0;u<a.size;u++)o(u);return a.toTensor()},e.prototype.concat=function(n,r){var a=this;if(n[0].dtype==="complex64"){var i=n.map(function(m){return ta(m)}),o=n.map(function(m){return La(m)});return Ln(this.concat(i,r),this.concat(o,r))}var u=n.map(function(m){var y=Pe(m.shape.slice(r));return m.as2D(-1,y)}),c=Mc(u.map(function(m){return m.shape}),1),l=Ze(c,n[0].dtype).values;if(u[0].shape[0]===1){var h=0;u.forEach(function(m){l.set(a.readSync(m.dataId),h),h+=m.size})}else{var d=0;u.forEach(function(m){for(var y=a.readSync(m.dataId),x=0,b=0;b<m.shape[0];++b)for(var w=b*c[1]+d,S=0;S<m.shape[1];++S)l[w+S]=y[x++];d+=m.shape[1]})}var v=Mc(n.map(function(m){return m.shape}),r);return Fn(l,v,n[0].dtype)},e.prototype.neg=function(n){return be(n,"neg"),this.multiply(Ee(-1),n)},e.prototype.add=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,i,o,u){return{real:a+o,imag:i+u}}):this.broadcastedBinaryOp(n,r,jn(n.dtype,r.dtype),function(a,i){return a+i})},e.prototype.addN=function(n){var r=this;be(n,"addN");for(var a=n.map(function(h){return r.readSync(h.dataId)}),i=Ze(n[0].shape,n[0].dtype),o=i.values,u=0;u<n.length;u++)for(var c=a[u],l=0;l<o.length;l++)o[l]+=c[l];return i.toTensor()},e.prototype.softmax=function(n,r){var a=xn([r],n.shape),i=this.max(n,a),o=br(i.shape,a),u=this.subtract(n,i.reshape(o)),c=this.exp(u),l=this.sum(c,a).reshape(o);return this.realDivide(c,l)},e.prototype.subtract=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,i,o,u){return{real:a-o,imag:i-u}}):this.broadcastedBinaryOp(n,r,jn(n.dtype,r.dtype),function(a,i){return a-i})},e.prototype.pow=function(n,r){return be([n,r],"pow"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.pow(a,i)})},e.prototype.batchMatMul=function(n,r,a,i){be([n,r],"matMul");for(var o=a?n.shape[1]:n.shape[2],u=a?n.shape[2]:n.shape[1],c=i?r.shape[1]:r.shape[2],l=n.shape[0],h=this.readSync(n.dataId),d=this.readSync(r.dataId),v=a?[n.strides[0],1,n.strides[1]]:[n.strides[0],n.strides[1],1],m=v[0],y=v[1],x=v[2],b=i?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],w=b[0],S=b[1],A=b[2],O=u*c,E=Ze([l,u,c],n.dtype),C=E.values,R=this.blockSize,D=0;D<l;D++)for(var M=0;M<u;M+=R)for(var N=0;N<c;N+=R)for(var k=0;k<o;k+=R)for(var I=Math.min(M+R,u),q=Math.min(N+R,c),W=Math.min(k+R,o),$=M;$<I;$++)for(var j=N;j<q;j++){for(var U=0,H=k;H<W;H++)U+=h[D*m+$*y+H*x]*d[H*w+j*S+D*A];C[D*O+($*c+j)]+=U}return E.toTensor()},e.prototype.fusedBatchMatMul=function(n){var r=n.a,a=n.b,i=n.transposeA,o=n.transposeB,u=n.bias,c=n.activation,l=n.preluActivationWeights,h=this.batchMatMul(r,a,i,o);return u&&(h=this.add(h,u)),c&&(h=f_(this,h,c,l)),h},e.prototype.multiply=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),function(a,i,o,u){return{real:a*o-i*u,imag:a*u+i*o}}):this.broadcastedBinaryOp(n,r,jn(n.dtype,r.dtype),function(a,i){return a*i})},e.prototype.realDivide=function(n,r){return be([n,r],"realDivide"),this.broadcastedBinaryOp(n,r,"float32",function(a,i){return a/i})},e.prototype.floorDiv=function(n,r){return be([n,r],"floorDiv"),this.broadcastedBinaryOp(n,r,"int32",function(a,i){return Math.floor(a/i)})},e.prototype.sum=function(n,r){be(n,"sum"),Mr("sum",r,n.rank);for(var a=Vn(n.shape,r),i=a[0],o=a[1],u=It(i,jn(n.dtype,"int32")),c=Pe(o),l=this.readSync(u.dataId),h=this.readSync(n.dataId),d=0;d<l.length;++d){for(var v=d*c,m=0,y=0;y<c;++y)m+=h[v+y];l[d]=m}return u},e.prototype.prod=function(n,r){be(n,"sum");for(var a=Vn(n.shape,r),i=a[0],o=a[1],u=It(i,jn(n.dtype,"int32")),c=Pe(o),l=this.readSync(u.dataId),h=this.readSync(n.dataId),d=0;d<l.length;++d){for(var v=d*c,m=1,y=0;y<c;++y)m*=h[v+y];l[d]=m}return u},e.prototype.unsortedSegmentSum=function(n,r,a){be(n,"unsortedSegmentSum");for(var i=[],o=n.rank-r.rank,u=0;u<o;++u)r=r.expandDims(u+1);for(u=0;u<a;++u){var c=Ee(u,"int32"),l=zq(c,r).asType("float32").mul(n).sum(0);i.push(l)}return Fr(i)},e.prototype.argMin=function(n,r){be(n,"argMin");var a=[r];Mr("argMin",a,n.rank);for(var i=Vn(n.shape,a),o=i[0],u=i[1],c=It(o,"int32"),l=Pe(u),h=this.readSync(c.dataId),d=this.readSync(n.dataId),v=0;v<h.length;++v){for(var m=v*l,y=d[m],x=0,b=0;b<l;++b){var w=d[m+b];w<y&&(y=w,x=b)}h[v]=x}return c},e.prototype.argMax=function(n,r){be(n,"argMax");var a=[r];Mr("argMax",a,n.rank);for(var i=Vn(n.shape,a),o=i[0],u=i[1],c=It(o,"int32"),l=Pe(u),h=this.readSync(c.dataId),d=this.readSync(n.dataId),v=0;v<h.length;++v){for(var m=v*l,y=d[m],x=0,b=0;b<l;++b){var w=d[m+b];w>y&&(y=w,x=b)}h[v]=x}return c},e.prototype.cumsum=function(n,r,a,i){if(be(n,"cumsum"),r!==n.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(n.rank-1)+" but got axis="+r);for(var o=jn(n.dtype,"int32"),u=It(n.shape,o),c=this.readSync(u.dataId),l=this.readSync(n.dataId),h=n.shape[n.rank-1],d=i?function(b,w){return b+h-w-1}:function(b,w){return b+w},v=0;v<l.length;v+=h)for(var m=0;m<h;m++){var y=d(v,m);if(m===0)c[y]=a?0:l[y];else{var x=d(v,m-1);c[y]=a?l[x]+c[x]:l[y]+c[x]}}return u},e.prototype.equal=function(n,r){return be([n,r],"equal"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a===i?1:0})},e.prototype.notEqual=function(n,r){return be([n,r],"notEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a!==i?1:0})},e.prototype.less=function(n,r){return be([n,r],"less"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a<i?1:0})},e.prototype.lessEqual=function(n,r){return be([n,r],"lessEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a<=i?1:0})},e.prototype.greater=function(n,r){return be([n,r],"greater"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a>i?1:0})},e.prototype.greaterEqual=function(n,r){return be([n,r],"greaterEqual"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a>=i?1:0})},e.prototype.logicalNot=function(n){be(n,"logicalNot");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)a[i]=r[i]?0:1;return this.makeOutput(a,n.shape,"bool")},e.prototype.logicalAnd=function(n,r){return be([n,r],"logicalAnd"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a&&i})},e.prototype.logicalOr=function(n,r){return be([n,r],"logicalOr"),this.broadcastedBinaryOp(n,r,"bool",function(a,i){return a||i})},e.prototype.select=function(n,r,a){be([n,r,a],"select");for(var i=this.readSync(n.dataId),o=this.readSync(r.dataId),u=this.readSync(a.dataId),c=It(r.shape,jn(r.dtype,a.dtype)),l=this.readSync(c.dataId),h=0,d=n.rank===0||n.rank>1||r.rank===1?1:Pe(r.shape.slice(1)),v=0;v<i.length;v++)for(var m=0;m<d;m++)i[v]===1?l[h++]=o[v]:l[h++]=u[v];return c},e.prototype.where=function(n){be([n],"where");var r=this.readSync(n.dataId);return nA(n.shape,r)},e.prototype.topk=function(n,r,a){return be(n,"topk"),bq(this.readSync(n.dataId),n.shape,n.dtype,r)},e.prototype.min=function(n,r){be(n,"min"),Mr("min",r,n.rank);for(var a=Vn(n.shape,r),i=a[0],o=a[1],u=It(i,n.dtype),c=Pe(o),l=this.readSync(u.dataId),h=this.readSync(n.dataId),d=0;d<l.length;++d){for(var v=d*c,m=h[v],y=0;y<c;++y){var x=h[v+y];x<m&&(m=x)}l[d]=m}return u},e.prototype.minimum=function(n,r){return be([n,r],"minimum"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.min(a,i)})},e.prototype.mod=function(n,r){return be([n,r],"mod"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){var o=a%i;return a<0&&i<0||a>=0&&i>=0?o:(o+i)%i})},e.prototype.max=function(n,r){be(n,"max"),Mr("max",r,n.rank);for(var a=Vn(n.shape,r),i=a[0],o=a[1],u=It(i,n.dtype),c=Pe(o),l=this.readSync(u.dataId),h=this.readSync(n.dataId),d=0;d<l.length;++d){for(var v=d*c,m=h[v],y=0;y<c;++y){var x=h[v+y];x>m&&(m=x)}l[d]=m}return u},e.prototype.maximum=function(n,r){return be([n,r],"maximum"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.max(a,i)})},e.prototype.all=function(n,r){be(n,"all"),Mr("all",r,n.rank);for(var a=Vn(n.shape,r),i=a[0],o=a[1],u=It(i,n.dtype),c=Pe(o),l=this.readSync(u.dataId),h=this.readSync(n.dataId),d=0;d<l.length;++d){for(var v=d*c,m=h[v],y=0;y<c;++y){var x=h[v+y];m=m&&x}l[d]=m}return u},e.prototype.any=function(n,r){be(n,"any"),Mr("any",r,n.rank);for(var a=Vn(n.shape,r),i=a[0],o=a[1],u=It(i,n.dtype),c=Pe(o),l=this.readSync(u.dataId),h=this.readSync(n.dataId),d=0;d<l.length;++d){for(var v=d*c,m=h[v],y=0;y<c;++y){var x=h[v+y];m=m||x}l[d]=m}return u},e.prototype.squaredDifference=function(n,r){return be([n,r],"squaredDifference"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){var o=a-i;return o*o})},e.prototype.ceil=function(n){be(n,"ceil");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.ceil(r[i]);return this.makeOutput(a,n.shape,"float32")},e.prototype.floor=function(n){be(n,"floor");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.floor(r[i]);return this.makeOutput(a,n.shape,"float32")},e.prototype.sign=function(n){be(n,"x");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)r[i]<0?a[i]=-1:r[i]>0?a[i]=1:a[i]=0;return this.makeOutput(a,n.shape,"float32")},e.prototype.isNaN=function(n){be(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)Number.isNaN(r[i])&&(a[i]=1);return this.makeOutput(a,n.shape,"bool")},e.prototype.isInf=function(n){be(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)Math.abs(r[i])===1/0&&(a[i]=1);return this.makeOutput(a,n.shape,"bool")},e.prototype.isFinite=function(n){be(n,"x");for(var r=this.readSync(n.dataId),a=new Uint8Array(r.length),i=0;i<r.length;++i)Number.isFinite(r[i])&&(a[i]=1);return this.makeOutput(a,n.shape,"bool")},e.prototype.round=function(n){be(n,"round");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=Math.floor(r[i]);r[i]-o<.5?a[i]=Math.floor(r[i]):r[i]-o>.5?a[i]=Math.ceil(r[i]):a[i]=o%2==0?o:o+1}return this.makeOutput(a,n.shape,"float32")},e.prototype.exp=function(n){be(n,"exp");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.exp(r[i]);return this.makeOutput(a,n.shape,"float32")},e.prototype.expm1=function(n){be(n,"expm1");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=Math.expm1(r[i]);return this.makeOutput(a,n.shape,"float32")},e.prototype.log=function(n){be(n,"log");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=Math.log(o)}return this.makeOutput(a,n.shape,"float32")},e.prototype.log1p=function(n){be(n,"log1p");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=Math.log1p(o)}return this.makeOutput(a,n.shape,"float32")},e.prototype.sqrt=function(n){be(n,"sqrt");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=Math.sqrt(o)}return this.makeOutput(a,n.shape,"float32")},e.prototype.rsqrt=function(n){be(n,"rsqrt");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i){var o=r[i];a[i]=1/Math.sqrt(o)}return this.makeOutput(a,n.shape,"float32")},e.prototype.reciprocal=function(n){be(n,"reciprocal");for(var r=this.readSync(n.dataId),a=new Float32Array(r.length),i=0;i<r.length;++i)a[i]=1/r[i];return this.makeOutput(a,n.shape,"float32")},e.prototype.linear=function(n){return n},e.prototype.relu=function(n){be(n,"relu");for(var r=It(n.shape,n.dtype),a=this.readSync(r.dataId),i=this.readSync(n.dataId),o=0;o<i.length;++o)a[o]=Math.max(0,i[o]);return r},e.prototype.relu6=function(n){be(n,"relu");for(var r=It(n.shape,n.dtype),a=this.readSync(r.dataId),i=this.readSync(n.dataId),o=0;o<i.length;++o)a[o]=Math.min(Math.max(0,i[o]),6);return r},e.prototype.prelu=function(n,r){return be([n,r],"prelu"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return a<0?i*a:a})},e.prototype.elu=function(n){be(n,"elu");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i){var o=a[i];r[i]=o>=0?o:Math.exp(o)-1}return this.makeOutput(r,n.shape,"float32")},e.prototype.eluDer=function(n,r){be([n,r],"eluDer");for(var a=new Float32Array(r.size),i=this.readSync(r.dataId),o=this.readSync(n.dataId),u=0;u<i.length;++u){var c=i[u];a[u]=c>=1?o[u]:o[u]*(c+1)}return this.makeOutput(a,r.shape,"float32")},e.prototype.selu=function(n){be(n,"selu");for(var r=aA,a=iA,i=new Float32Array(n.size),o=this.readSync(n.dataId),u=0;u<o.length;++u){var c=o[u];i[u]=c>=0?a*c:r*(Math.exp(c)-1)}return this.makeOutput(i,n.shape,"float32")},e.prototype.clip=function(n,r,a){be(n,"clip");for(var i=new Float32Array(n.size),o=this.readSync(n.dataId),u=0;u<o.length;++u){var c=o[u];i[u]=c>a?a:c<r?r:c}return this.makeOutput(i,n.shape,"float32")},e.prototype.abs=function(n){for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.abs(a[i]);return this.makeOutput(r,n.shape,"float32")},e.prototype.complexAbs=function(n){for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<n.size;++i){var o=a[2*i],u=a[2*i+1];r[i]=Math.hypot(o,u)}return this.makeOutput(r,n.shape,"float32")},e.prototype.int=function(n){be(n,"int");for(var r=new Int32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=a[i];return this.makeOutput(r,n.shape,"int32")},e.prototype.sigmoid=function(n){be(n,"sigmoid");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=1/(1+Math.exp(-a[i]));return this.makeOutput(r,n.shape,"float32")},e.prototype.softplus=function(n){be(n,"softplus");for(var r=Math.log(11920928955078125e-23)+2,a=new Float32Array(n.size),i=this.readSync(n.dataId),o=0;o<i.length;++o){var u=i[o]>-r,c=i[o]<r,l=Math.exp(i[o]),h=void 0;h=c?l:u?i[o]:Math.log(1+l),a[o]=h}return this.makeOutput(a,n.shape,"float32")},e.prototype.sin=function(n){be(n,"sin");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.sin(a[i]);return this.makeOutput(r,n.shape,"float32")},e.prototype.cos=function(n){be(n,"cos");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.cos(a[i]);return this.makeOutput(r,n.shape,"float32")},e.prototype.tan=function(n){be(n,"tan");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.tan(a[i]);return this.makeOutput(r,n.shape,"float32")},e.prototype.asin=function(n){be(n,"asin");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.asin(a[i]);return this.makeOutput(r,n.shape,"float32")},e.prototype.acos=function(n){be(n,"acos");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.acos(a[i]);return this.makeOutput(r,n.shape,"float32")},e.prototype.atan=function(n){be(n,"atan");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.atan(a[i]);return this.makeOutput(r,n.shape,"float32")},e.prototype.atan2=function(n,r){return be([n,r],"atan2"),this.broadcastedBinaryOp(n,r,n.dtype,function(a,i){return Math.atan2(a,i)})},e.prototype.sinh=function(n){be(n,"sinh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.sinh(a[i]);return this.makeOutput(r,n.shape,"float32")},e.prototype.cosh=function(n){be(n,"cosh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.cosh(a[i]);return this.makeOutput(r,n.shape,"float32")},e.prototype.tanh=function(n){be(n,"tanh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=use(a[i]);return this.makeOutput(r,n.shape,"float32")},e.prototype.asinh=function(n){be(n,"asinh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.asinh(a[i]);return this.makeOutput(r,n.shape,"float32")},e.prototype.acosh=function(n){be(n,"acosh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.acosh(a[i]);return this.makeOutput(r,n.shape,"float32")},e.prototype.atanh=function(n){be(n,"atanh");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i)r[i]=Math.atanh(a[i]);return this.makeOutput(r,n.shape,"float32")},e.prototype.erf=function(n){be(n,"erf");for(var r=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i){var o=Math.sign(a[i]),u=Math.abs(a[i]),c=1/(1+.3275911*u);r[i]=o*(1-((((1.061405429*c-1.453152027)*c+1.421413741)*c-.284496736)*c+.254829592)*c*Math.exp(-u*u))}return this.makeOutput(r,n.shape,"float32")},e.prototype.step=function(n,r){r===void 0&&(r=0),be(n,"step");for(var a=new Float32Array(n.size),i=this.readSync(n.dataId),o=0;o<i.length;++o){var u=i[o];isNaN(u)?a[o]=NaN:a[o]=u>0?1:r}return this.makeOutput(a,n.shape,"float32")},e.prototype.fusedConv2d=function(n){var r=n.input,a=n.filter,i=n.convInfo,o=n.bias,u=n.activation,c=n.preluActivationWeights,l=this.conv2d(r,a,i);return o&&(l=this.add(l,o)),u&&(l=f_(this,l,u,c)),l},e.prototype.conv2d=function(n,r,a){be([n,r],"conv2d");for(var i=a.filterHeight,o=a.filterWidth,u=a.dilationHeight,c=a.dilationWidth,l=a.padInfo.left,h=a.padInfo.top,d=a.dataFormat==="channelsLast",v=Ze(a.outShape,n.dtype),m=n.strides[0],y=d?n.strides[1]:n.strides[2],x=d?n.strides[2]:1,b=d?1:n.strides[1],w=v.strides[0],S=d?v.strides[1]:v.strides[2],A=d?v.strides[2]:1,O=d?1:v.strides[1],E=this.readSync(n.dataId),C=this.readSync(r.dataId),R=v.values,D=0;D<a.batchSize;++D)for(var M=D*m,N=D*w,k=0;k<a.outHeight;++k)for(var I=N+k*S,q=k*a.strideHeight-h,W=0;W<i;W++){var $=q+W*u;if(!($<0||$>=a.inHeight))for(var j=W*r.strides[0],U=M+$*y,H=0;H<a.outWidth;++H)for(var Y=I+H*A,B=H*a.strideWidth-l,K=0;K<o;K++){var J=B+K*c;if(!(J<0||J>=a.inWidth))for(var ne=U+J*x,ve=j+K*r.strides[1],we=0;we<a.inChannels;++we){for(var xe=E[ne+we*b],Fe=0;Fe<a.outChannels;++Fe)R[Y+Fe*O]+=xe*C[ve+Fe];ve+=a.outChannels}}}return v.toTensor()},e.prototype.conv3d=function(n,r,a){for(var i=a.filterDepth,o=a.filterHeight,u=a.filterWidth,c=a.dilationDepth,l=a.dilationHeight,h=a.dilationWidth,d=a.padInfo.front,v=a.padInfo.left,m=a.padInfo.top,y=Ze(a.outShape,n.dtype),x=this.readSync(n.dataId),b=this.readSync(r.dataId),w=y.values,S=0;S<a.batchSize;++S)for(var A=S*n.strides[0],O=S*y.strides[0],E=0;E<a.outDepth;++E)for(var C=O+E*y.strides[1],R=E*a.strideDepth-d,D=0;D<i;D++){var M=R+D*c;if(!(M<0||M>=a.inDepth))for(var N=D*r.strides[0],k=A+M*n.strides[1],I=0;I<a.outHeight;++I)for(var q=C+I*y.strides[2],W=I*a.strideHeight-m,$=0;$<o;$++){var j=W+$*l;if(!(j<0||j>=a.inHeight))for(var U=N+$*r.strides[1],H=k+j*n.strides[2],Y=0;Y<a.outWidth;++Y)for(var B=q+Y*a.outChannels,K=Y*a.strideWidth-v,J=0;J<u;J++){var ne=K+J*h;if(!(ne<0||ne>=a.inWidth))for(var ve=U+J*r.strides[2],we=H+ne*a.inChannels,xe=ve,Fe=0;Fe<a.inChannels;++Fe){for(var Ae=x[we+Fe],ge=0;ge<a.outChannels;++ge)w[B+ge]+=Ae*b[xe+ge];xe+=a.outChannels}}}}return y.toTensor()},e.prototype.conv2dDerInput=function(n,r,a){be([n,r],"conv2dDerInput");for(var i=Ze(a.inShape,"float32"),o=i.values,u=this.readSync(n.dataId),c=this.readSync(r.dataId),l=r.strides,h=l[0],d=l[1],v=l[2],m=a.batchSize,y=a.filterHeight,x=a.filterWidth,b=a.inChannels,w=a.inHeight,S=a.inWidth,A=a.outChannels,O=a.outHeight,E=a.outWidth,C=a.strideHeight,R=a.strideWidth,D=a.dataFormat,M=y-1-a.padInfo.top,N=x-1-a.padInfo.left,k=D==="channelsLast",I=i.strides[0],q=k?i.strides[1]:i.strides[2],W=k?i.strides[2]:1,$=k?1:i.strides[1],j=n.strides[0],U=k?n.strides[1]:n.strides[2],H=k?n.strides[2]:1,Y=k?1:n.strides[1],B=0;B<m;++B)for(var K=0;K<b;++K)for(var J=0;J<w;++J)for(var ne=J-M,ve=Math.max(0,Math.ceil(ne/C)),we=Math.min(O,(y+ne)/C),xe=0;xe<S;++xe){for(var Fe=xe-N,Ae=Math.max(0,Math.ceil(Fe/R)),ge=Math.min(E,(x+Fe)/R),Te=0,Se=ve;Se<we;++Se)for(var le=Se*C-ne,Le=Ae;Le<ge;++Le)for(var Ie=j*B+U*Se+H*Le,Ge=h*(y-1-le)+d*(x-1-(Le*R-Fe))+v*K,Ke=0;Ke<A;++Ke)Te+=u[Ie+Y*Ke]*c[Ge+Ke];o[I*B+q*J+W*xe+$*K]=Te}return i.toTensor()},e.prototype.conv3dDerInput=function(n,r,a){for(var i=Ze(a.inShape,"float32"),o=i.values,u=i.strides,c=u[0],l=u[1],h=u[2],d=u[3],v=this.readSync(n.dataId),m=n.strides,y=m[0],x=m[1],b=m[2],w=m[3],S=this.readSync(r.dataId),A=r.strides,O=A[0],E=A[1],C=A[2],R=A[3],D=a.batchSize,M=a.filterDepth,N=a.filterHeight,k=a.filterWidth,I=a.inChannels,q=a.inDepth,W=a.inHeight,$=a.inWidth,j=a.outChannels,U=a.outDepth,H=a.outHeight,Y=a.outWidth,B=a.strideDepth,K=a.strideHeight,J=a.strideWidth,ne=M-1-a.padInfo.front,ve=N-1-a.padInfo.top,we=k-1-a.padInfo.left,xe=0;xe<D;++xe)for(var Fe=0;Fe<I;++Fe)for(var Ae=0;Ae<q;++Ae)for(var ge=Ae-ne,Te=Math.max(0,Math.ceil(ge/B)),Se=Math.min(U,(M+ge)/B),le=0;le<W;++le)for(var Le=le-ve,Ie=Math.max(0,Math.ceil(Le/K)),Ge=Math.min(H,(N+Le)/K),Ke=0;Ke<$;++Ke){for(var ct=Ke-we,Xt=Math.max(0,Math.ceil(ct/J)),Ft=Math.min(Y,(k+ct)/J),ur=0,Wt=Te;Wt<Se;++Wt)for(var wn=Wt*B-ge,qn=Ie;qn<Ge;++qn)for(var sa=qn*K-Le,sr=Xt;sr<Ft;++sr)for(var ti=y*xe+x*Wt+b*qn+w*sr,tn=O*(M-1-wn)+E*(N-1-sa)+C*(k-1-(sr*J-ct))+R*Fe,cn=0;cn<j;++cn)ur+=v[ti+cn]*S[tn+cn];o[c*xe+l*Ae+h*le+d*Ke+Fe]=ur}return i.toTensor()},e.prototype.conv2dDerFilter=function(n,r,a){be([n,r],"conv2dDerFilter");for(var i=a.strideHeight,o=a.strideWidth,u=a.filterHeight,c=a.filterWidth,l=a.dataFormat==="channelsLast",h=Ze(a.filterShape,"float32"),d=a.padInfo.left,v=a.padInfo.top,m=this.bufferSync(n),y=this.bufferSync(r),x=0;x<u;++x)for(var b=Math.max(0,Math.ceil((v-x)/i)),w=Math.min(a.outHeight,(a.inHeight+v-x)/i),S=0;S<c;++S)for(var A=Math.max(0,Math.ceil((d-S)/o)),O=Math.min(a.outWidth,(a.inWidth+d-S)/o),E=0;E<a.inChannels;++E)for(var C=0;C<a.outChannels;++C){for(var R=0,D=0;D<a.batchSize;++D)for(var M=b;M<w;++M)for(var N=x+M*i-v,k=A;k<O;++k){var I=S+k*o-d;R+=l?m.get(D,N,I,E)*y.get(D,M,k,C):m.get(D,E,N,I)*y.get(D,C,M,k)}h.set(R,x,S,E,C)}return h.toTensor()},e.prototype.conv3dDerFilter=function(n,r,a){for(var i=a.strideDepth,o=a.strideHeight,u=a.strideWidth,c=a.filterDepth,l=a.filterHeight,h=a.filterWidth,d=Ze(a.filterShape,"float32"),v=d.values,m=d.strides,y=m[0],x=m[1],b=m[2],w=m[3],S=this.readSync(r.dataId),A=r.strides,O=A[0],E=A[1],C=A[2],R=A[3],D=this.readSync(n.dataId),M=n.strides,N=M[0],k=M[1],I=M[2],q=M[3],W=a.padInfo.front,$=a.padInfo.left,j=a.padInfo.top,U=0;U<c;++U)for(var H=Math.max(0,Math.ceil((W-U)/i)),Y=Math.min(a.outDepth,(a.inDepth+W-U)/i),B=U*y,K=0;K<l;++K)for(var J=Math.max(0,Math.ceil((j-K)/o)),ne=Math.min(a.outHeight,(a.inHeight+j-K)/o),ve=K*x+B,we=0;we<h;++we)for(var xe=Math.max(0,Math.ceil(($-we)/u)),Fe=Math.min(a.outWidth,(a.inWidth+$-we)/u),Ae=we*b+ve,ge=0;ge<a.inChannels;++ge)for(var Te=ge*w+Ae,Se=0;Se<a.outChannels;++Se){for(var le=0,Le=0;Le<a.batchSize;++Le)for(var Ie=Le*N,Ge=Le*O,Ke=H;Ke<Y;++Ke)for(var ct=(U+Ke*i-W)*k+Ie,Xt=Ke*E+Ge,Ft=J;Ft<ne;++Ft)for(var ur=(K+Ft*o-j)*I+ct,Wt=Ft*C+Xt,wn=xe;wn<Fe;++wn){var qn=wn*R+Wt;le+=D[(we+wn*u-$)*q+ur+ge]*S[qn+Se]}v[Te+Se]=le}return d.toTensor()},e.prototype.fusedDepthwiseConv2D=function(n){var r=n.input,a=n.filter,i=n.convInfo,o=n.bias,u=n.activation,c=n.preluActivationWeights,l=this.depthwiseConv2D(r,a,i);return o&&(l=this.add(l,o)),u&&(l=f_(this,l,u,c)),l},e.prototype.depthwiseConv2D=function(n,r,a){be([n,r],"depthwiseConv2D");for(var i=a.filterHeight,o=a.filterWidth,u=a.dilationHeight,c=a.dilationWidth,l=a.padInfo.left,h=a.padInfo.top,d=a.outChannels/a.inChannels,v=Ze(a.outShape,n.dtype),m=this.readSync(n.dataId),y=this.readSync(r.dataId),x=v.values,b=0;b<a.batchSize;++b)for(var w=b*n.strides[0],S=b*v.strides[0],A=0;A<a.outHeight;++A)for(var O=S+A*v.strides[1],E=A*a.strideHeight-l,C=0;C<i;++C){var R=E+C*u;if(!(R<0||R>=a.inHeight))for(var D=C*r.strides[0],M=w+R*n.strides[1],N=0;N<a.outWidth;++N)for(var k=O+N*v.strides[2],I=N*a.strideWidth-h,q=0;q<o;++q){var W=I+q*c;if(!(W<0||W>=a.inWidth))for(var $=D+q*r.strides[1],j=M+W*a.inChannels,U=k,H=$,Y=0;Y<a.inChannels;++Y){for(var B=m[j+Y],K=0;K<d;++K)x[U+K]+=B*y[H+K];U+=d,H+=d}}}return v.toTensor()},e.prototype.depthwiseConv2DDerInput=function(n,r,a){be([n,r],"depthwiseConv2DDerInput");for(var i=Ze(a.inShape,"float32"),o=i.values,u=i.strides,c=u[0],l=u[1],h=u[2],d=this.readSync(n.dataId),v=n.strides,m=v[0],y=v[1],x=v[2],b=this.readSync(r.dataId),w=r.strides,S=w[0],A=w[1],O=w[2],E=a.batchSize,C=a.filterHeight,R=a.filterWidth,D=a.inChannels,M=a.inHeight,N=a.inWidth,k=a.outChannels,I=a.outHeight,q=a.outWidth,W=a.strideHeight,$=a.strideWidth,j=C-1-a.padInfo.top,U=R-1-a.padInfo.left,H=k/D,Y=0;Y<E;++Y)for(var B=0;B<D;++B)for(var K=0;K<M;++K)for(var J=K-j,ne=Math.max(0,Math.ceil(J/W)),ve=Math.min(I,(C+J)/W),we=0;we<N;++we){for(var xe=we-U,Fe=Math.max(0,Math.ceil(xe/$)),Ae=Math.min(q,(R+xe)/$),ge=0,Te=ne;Te<ve;++Te)for(var Se=Te*W-J,le=Fe;le<Ae;++le)for(var Le=m*Y+y*Te+x*le,Ie=S*(C-1-Se)+A*(R-1-(le*$-xe))+O*B,Ge=0;Ge<H;++Ge)ge+=d[Le+(B*H+Ge)]*b[Ie+Ge];o[c*Y+l*K+h*we+B]=ge}return i.toTensor()},e.prototype.depthwiseConv2DDerFilter=function(n,r,a){be([n,r],"depthwiseConv2DDerFilter");for(var i=a.strideHeight,o=a.strideWidth,u=a.filterHeight,c=a.filterWidth,l=Ze(a.filterShape,"float32"),h=a.padInfo.left,d=a.padInfo.top,v=a.outChannels/a.inChannels,m=this.bufferSync(n),y=this.bufferSync(r),x=0;x<u;++x)for(var b=Math.max(0,Math.ceil((d-x)/i)),w=Math.min(a.outHeight,(a.inHeight+d-x)/i),S=0;S<c;++S)for(var A=Math.max(0,Math.ceil((h-S)/o)),O=Math.min(a.outWidth,(a.inWidth+h-S)/o),E=0;E<a.outChannels;++E){for(var C=Math.trunc(E/v),R=E%v,D=0,M=0;M<a.batchSize;++M)for(var N=b;N<w;++N)for(var k=x+N*i-d,I=A;I<O;++I){var q=S+I*o-h;D+=m.get(M,k,q,C)*y.get(M,N,I,E)}l.set(D,x,S,C,R)}return l.toTensor()},e.prototype.tile=function(n,r){return be(n,"tile"),yq(this.bufferSync(n),r)},e.prototype.pad=function(n,r,a){be(n,"pad");var i=r.map(function(v,m){return v[0]+n.shape[m]+v[1]}),o=r.map(function(v){return v[0]}),u=this.bufferSync(n),c=Ze(i,n.dtype);a!==0&&c.values.fill(a);for(var l=0;l<n.size;l++){var h=u.indexToLoc(l),d=h.map(function(v,m){return v+o[m]});c.set.apply(c,[u.get.apply(u,h)].concat(d))}return c.toTensor()},e.prototype.transpose=function(n,r){be(n,"transpose");for(var a=new Array(n.rank),i=0;i<a.length;i++)a[i]=n.shape[r[i]];var o=this.readSync(n.dataId),u=Ze(a,n.dtype),c=this.bufferSync(n);for(i=0;i<n.size;++i){for(var l=c.indexToLoc(i),h=new Array(l.length),d=0;d<h.length;d++)h[d]=l[r[d]];var v=u.locToIndex(h);u.values[v]=o[i]}return u.toTensor()},e.prototype.gather=function(n,r,a){be([n,r],"gather");var i=n.shape.slice(),o=this.readSync(r.dataId);i[a]=o.length;for(var u=Ze(i,n.dtype),c=this.bufferSync(n),l=0;l<u.size;++l){var h=u.indexToLoc(l),d=h.slice();d[a]=o[h[a]];var v=c.locToIndex(d);u.values[l]=c.values[v]}return u.toTensor()},e.prototype.batchToSpaceND=function(n,r,a){be([n],"batchToSpaceND");var i=r.reduce(function(d,v){return d*v}),o=$v(n.shape,r,i),u=Wv(o.length,r.length),c=Hv(n.shape,r,i),l=iq(a,r.length),h=oq(c,a,r.length);return n.reshape(o).transpose(u).reshape(c).slice(l,h)},e.prototype.spaceToBatchND=function(n,r,a){be([n],"spaceToBatchND");var i=r.reduce(function(v,m){return v*m}),o=[[0,0]];o.push.apply(o,a);for(var u=1+r.length;u<n.shape.length;++u)o.push([0,0]);var c=n.pad(o),l=$v(c.shape,r,i,!1),h=Wv(l.length,r.length,!1),d=Hv(c.shape,r,i,!1);return c.reshape(l).transpose(h).reshape(d)},e.prototype.pool=function(n,r,a){be(n,"pool");for(var i=r.strideHeight,o=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,l=r.effectiveFilterHeight,h=r.effectiveFilterWidth,d=r.padInfo.top,v=r.padInfo.left,m=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=this.readSync(n.dataId),x=Ze(r.outShape,n.dtype),b=x.values,w=r.outShape[1]*r.outShape[2]*r.outShape[3],S=r.outShape[2]*r.outShape[3],A=r.outShape[3],O=0;O<r.batchSize;++O)for(var E=O*w,C=O*n.strides[0],R=0;R<r.inChannels;++R)for(var D=0;D<r.outHeight;++D)for(var M=D*i-d,N=Math.max(0,M),k=Math.min(r.inHeight,l+M),I=E+D*S,q=0;q<r.outWidth;++q){for(var W=q*o-v,$=Math.max(0,W),j=Math.min(r.inWidth,h+W),U=m,H=0,Y=0,B=N;B<k;B+=u){for(var K=C+B*n.strides[1],J=$;J<j;J+=c){var ne=y[K+J*n.strides[2]+R];a==="max"&&ne>U?U=ne:a==="avg"&&(H+=ne,Y++)}if(isNaN(U))break}b[I+q*A+R]=a==="avg"?H/Y:U}return x.toTensor()},e.prototype.maxPool=function(n,r){return this.pool(n,r,"max")},e.prototype.maxPoolPositions=function(n,r){for(var a=Ze(r.outShape,"int32"),i=r.strideHeight,o=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,l=r.effectiveFilterHeight,h=r.effectiveFilterWidth,d=r.padInfo.top,v=r.padInfo.left,m=this.bufferSync(n),y=0;y<r.batchSize;++y)for(var x=0;x<r.inChannels;++x)for(var b=0;b<r.outHeight;++b){for(var w=b*i-d,S=w;S<0;)S+=u;for(var A=Math.min(r.inHeight,l+w),O=0;O<r.outWidth;++O){for(var E=O*o-v,C=E;C<0;)C+=c;for(var R=Math.min(r.inWidth,h+E),D=Number.NEGATIVE_INFINITY,M=-1,N=S;N<A;N+=u)for(var k=N-w,I=C;I<R;I+=c){var q=I-E,W=m.get(y,N,I,x);W>D&&(D=W,M=k*h+q)}a.set(M,y,b,O,x)}}return a.toTensor()},e.prototype.maxPoolBackprop=function(n,r,a,i){be([r,a],"maxPoolBackprop");for(var o=this.maxPoolPositions(r,i),u=i.strideHeight,c=i.strideWidth,l=i.dilationHeight,h=i.dilationWidth,d=i.effectiveFilterHeight,v=i.effectiveFilterWidth,m=v-1-i.padInfo.left,y=d-1-i.padInfo.top,x=Ze(r.shape,"float32"),b=this.bufferSync(o),w=this.bufferSync(n),S=0;S<i.batchSize;++S)for(var A=0;A<i.inChannels;++A)for(var O=0;O<i.inHeight;++O)for(var E=0;E<i.inWidth;++E){for(var C=O-y,R=E-m,D=0,M=0;M<d;M+=l){var N=(C+M)/u;if(!(N<0||N>=i.outHeight||Math.floor(N)!==N))for(var k=0;k<v;k+=h){var I=(R+k)/c;if(!(I<0||I>=i.outWidth||Math.floor(I)!==I)){var q=d*v-1-b.get(S,N,I,A)===M*v+k?1:0;q!==0&&(D+=w.get(S,N,I,A)*q)}}}x.set(D,S,O,E,A)}return x.toTensor()},e.prototype.avgPoolBackprop=function(n,r,a){be([n,r],"avgPoolBackprop");for(var i=a.strideHeight,o=a.strideWidth,u=a.filterHeight,c=a.filterWidth,l=a.dilationHeight,h=a.dilationWidth,d=a.effectiveFilterHeight,v=a.effectiveFilterWidth,m=v-1-a.padInfo.left,y=d-1-a.padInfo.top,x=Ze(r.shape,"float32"),b=1/(u*c),w=this.bufferSync(n),S=0;S<a.batchSize;++S)for(var A=0;A<a.inChannels;++A)for(var O=0;O<a.inHeight;++O)for(var E=0;E<a.inWidth;++E){for(var C=O-y,R=E-m,D=0,M=0;M<d;M+=l){var N=(C+M)/i;if(!(N<0||N>=a.outHeight||Math.floor(N)!==N))for(var k=0;k<v;k+=h){var I=(R+k)/o;I<0||I>=a.outWidth||Math.floor(I)!==I||(D+=w.get(S,N,I,A))}}x.set(D*b,S,O,E,A)}return x.toTensor()},e.prototype.pool3d=function(n,r,a){be(n,"pool3d");for(var i=r.strideDepth,o=r.strideHeight,u=r.strideWidth,c=r.dilationDepth,l=r.dilationHeight,h=r.dilationWidth,d=r.effectiveFilterDepth,v=r.effectiveFilterHeight,m=r.effectiveFilterWidth,y=r.padInfo.front,x=r.padInfo.top,b=r.padInfo.left,w=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,S=this.readSync(n.dataId),A=Ze(r.outShape,n.dtype),O=A.values,E=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],C=r.outShape[2]*r.outShape[3]*r.outShape[4],R=r.outShape[3]*r.outShape[4],D=r.outShape[4],M=0;M<r.batchSize;++M)for(var N=M*E,k=M*n.strides[0],I=0;I<r.inChannels;++I)for(var q=0;q<r.outDepth;++q){for(var W=q*i-y,$=W;$<0;)$+=c;for(var j=Math.min(r.inDepth,d+W),U=N+q*C,H=0;H<r.outHeight;++H){for(var Y=H*o-x,B=Y;B<0;)B+=l;for(var K=Math.min(r.inHeight,v+Y),J=U+H*R,ne=0;ne<r.outWidth;++ne){for(var ve=ne*u-b,we=ve;we<0;)we+=h;for(var xe=Math.min(r.inWidth,m+ve),Fe=J+ne*D,Ae=w,ge=0,Te=0,Se=$;Se<j;Se+=c){for(var le=k+Se*n.strides[1],Le=B;Le<K;Le+=l){for(var Ie=le+Le*n.strides[2],Ge=we;Ge<xe;Ge+=h){var Ke=S[Ie+Ge*n.strides[3]+I];if(a==="max"&&Ke>Ae?Ae=Ke:a==="avg"&&(ge+=Ke,Te++),isNaN(Ae))break}if(isNaN(Ae))break}if(isNaN(Ae))break}O[Fe+I]=a==="avg"?ge/Te:Ae}}}return A.toTensor()},e.prototype.avgPool3d=function(n,r){return be(n,"avgPool3d"),this.pool3d(n,r,"avg").toFloat()},e.prototype.avgPool3dBackprop=function(n,r,a){be([n,r],"avgPool3dBackprop");for(var i=a.strideDepth,o=a.strideHeight,u=a.strideWidth,c=a.filterDepth,l=a.filterHeight,h=a.filterWidth,d=a.dilationDepth,v=a.dilationHeight,m=a.dilationWidth,y=a.effectiveFilterDepth,x=a.effectiveFilterHeight,b=a.effectiveFilterWidth,w=y-1-a.padInfo.front,S=b-1-a.padInfo.left,A=x-1-a.padInfo.top,O=Ze(r.shape,"float32"),E=1/(c*l*h),C=this.bufferSync(n),R=0;R<a.batchSize;++R)for(var D=0;D<a.inChannels;++D)for(var M=0;M<a.inDepth;++M)for(var N=0;N<a.inHeight;++N)for(var k=0;k<a.inWidth;++k){for(var I=M-w,q=N-A,W=k-S,$=0,j=0;j<y;j+=d){var U=(I+j)/i;if(!(U<0||U>=a.outDepth||Math.floor(U)!==U))for(var H=0;H<x;H+=v){var Y=(q+H)/o;if(!(Y<0||Y>=a.outHeight||Math.floor(Y)!==Y))for(var B=0;B<b;B+=m){var K=(W+B)/u;K<0||K>=a.outWidth||Math.floor(K)!==K||($+=C.get(R,U,Y,K,D))}}}O.set($*E,R,M,N,k,D)}return O.toTensor()},e.prototype.maxPool3d=function(n,r){return be(n,"maxPool3d"),this.pool3d(n,r,"max").toFloat()},e.prototype.maxPool3dPositions=function(n,r){for(var a=Ze(r.outShape,"int32"),i=r.strideDepth,o=r.strideHeight,u=r.strideWidth,c=r.dilationDepth,l=r.dilationHeight,h=r.dilationWidth,d=r.effectiveFilterDepth,v=r.effectiveFilterHeight,m=r.effectiveFilterWidth,y=r.padInfo.front,x=r.padInfo.top,b=r.padInfo.left,w=this.bufferSync(n),S=0;S<r.batchSize;++S)for(var A=0;A<r.inChannels;++A)for(var O=0;O<r.outDepth;++O){for(var E=O*i-y,C=E;C<0;)C+=c;for(var R=Math.min(r.inDepth,d+E),D=0;D<r.outHeight;++D){for(var M=D*o-x,N=M;N<0;)N+=l;for(var k=Math.min(r.inHeight,v+M),I=0;I<r.outWidth;++I){for(var q=I*u-b,W=q;W<0;)W+=h;for(var $=Math.min(r.inWidth,m+q),j=Number.NEGATIVE_INFINITY,U=-1,H=C;H<R;H+=c)for(var Y=H-E,B=N;B<k;B+=l)for(var K=B-M,J=W;J<$;J+=h){var ne=J-q,ve=w.get(S,H,B,J,A);ve>=j&&(j=ve,U=Y*v*m+K*v+ne)}a.set(U,S,O,D,I,A)}}}return a.toTensor()},e.prototype.maxPool3dBackprop=function(n,r,a,i){be([r,a],"maxPool3dBackprop");for(var o=this.maxPool3dPositions(r,i),u=i.strideDepth,c=i.strideHeight,l=i.strideWidth,h=i.dilationDepth,d=i.dilationHeight,v=i.dilationWidth,m=i.effectiveFilterDepth,y=i.effectiveFilterHeight,x=i.effectiveFilterWidth,b=m-1-i.padInfo.front,w=x-1-i.padInfo.left,S=y-1-i.padInfo.top,A=Ze(r.shape,"float32"),O=this.bufferSync(o),E=this.bufferSync(n),C=0;C<i.batchSize;++C)for(var R=0;R<i.inChannels;++R)for(var D=0;D<i.inDepth;++D)for(var M=0;M<i.inHeight;++M)for(var N=0;N<i.inWidth;++N){for(var k=D-b,I=M-S,q=N-w,W=0,$=0;$<m;$+=h){var j=(k+$)/u;if(!(j<0||j>=i.outDepth||Math.floor(j)!==j))for(var U=0;U<y;U+=d){var H=(I+U)/c;if(!(H<0||H>=i.outHeight||Math.floor(H)!==H))for(var Y=0;Y<x;Y+=v){var B=(q+Y)/l;if(!(B<0||B>=i.outWidth||Math.floor(B)!==B)){var K=m*y*x-1-O.get(C,j,H,B,R)===$*y*x+U*x+Y?1:0;K!==0&&(W+=E.get(C,j,H,B,R)*K)}}}}A.set(W,C,D,M,N,R)}return A.toTensor()},e.prototype.cast=function(n,r){return pq(n,r,this)},e.prototype.reshape=function(n,r){return bS(n,r)},e.prototype.avgPool=function(n,r){return be(n,"avgPool"),this.pool(n,r,"avg").toFloat()},e.prototype.resizeBilinear=function(n,r,a,i){be(n,"resizeBilinear");for(var o=n.shape,u=o[0],c=o[1],l=o[2],h=o[3],d=this.readSync(n.dataId),v=new Float32Array(Pe([u,r,a,h])),m=[i&&r>1?c-1:c,i&&a>1?l-1:l],y=[i&&r>1?r-1:r,i&&a>1?a-1:a],x=0,b=m[0]/y[0],w=m[1]/y[1],S=0;S<u;S++)for(var A=0;A<r;A++)for(var O=b*A,E=Math.floor(O),C=O-E,R=Math.min(c-1,Math.ceil(O)),D=S*n.strides[0]+E*n.strides[1],M=S*n.strides[0]+R*n.strides[1],N=0;N<a;N++)for(var k=w*N,I=Math.floor(k),q=k-I,W=Math.min(l-1,Math.ceil(k)),$=D+I*n.strides[2],j=M+I*n.strides[2],U=D+W*n.strides[2],H=M+W*n.strides[2],Y=0;Y<h;Y++){var B=d[$+Y],K=d[j+Y],J=B+(d[U+Y]-B)*q,ne=J+(K+(d[H+Y]-K)*q-J)*C;v[x++]=ne}return Fn(v,[u,r,a,h])},e.prototype.resizeBilinearBackprop=function(n,r,a){be([n,r],"resizeBilinearBackprop");for(var i=r.shape,o=i[0],u=i[1],c=i[2],l=i[3],h=n.shape,d=h[1],v=h[2],m=new Float32Array(o*u*c*l),y=[a&&d>1?u-1:u,a&&v>1?c-1:c],x=[a&&d>1?d-1:d,a&&v>1?v-1:v],b=y[0]/x[0],w=y[1]/x[1],S=this.readSync(n.dataId),A=0,O=0;O<o;O++)for(var E=O*r.strides[0],C=0;C<d;C++)for(var R=C*b,D=Math.floor(R),M=Math.min(Math.ceil(R),u-1),N=E+D*r.strides[1],k=E+M*r.strides[1],I=R-D,q=1-I,W=0;W<v;W++)for(var $=W*w,j=Math.floor($),U=Math.min(Math.ceil($),c-1),H=$-j,Y=1-H,B=N+j*r.strides[2],K=N+U*r.strides[2],J=k+j*r.strides[2],ne=k+U*r.strides[2],ve=q*Y,we=q*H,xe=I*Y,Fe=I*H,Ae=0;Ae<l;Ae++){var ge=S[A++];m[B+Ae]+=ge*ve,m[K+Ae]+=ge*we,m[J+Ae]+=ge*xe,m[ne+Ae]+=ge*Fe}return pr(m,[o,c,u,l],r.dtype)},e.prototype.resizeNearestNeighbor=function(n,r,a,i){be(n,"resizeNearestNeighbor");for(var o=n.shape,u=o[0],c=o[1],l=o[2],h=o[3],d=this.readSync(n.dataId),v=new Float32Array(u*r*a*h),m=[i&&r>1?c-1:c,i&&a>1?l-1:l],y=[i&&r>1?r-1:r,i&&a>1?a-1:a],x=m[0]/y[0],b=m[1]/y[1],w=0,S=0;S<u;S++)for(var A=S*n.strides[0],O=0;O<r;O++)for(var E=x*O,C=A+Math.min(c-1,i?Math.round(E):Math.floor(E))*n.strides[1],R=0;R<a;R++)for(var D=b*R,M=C+Math.min(l-1,i?Math.round(D):Math.floor(D))*n.strides[2],N=0;N<h;N++){var k=d[M+N];v[w++]=k}return Fn(v,[u,r,a,h],n.dtype)},e.prototype.resizeNearestNeighborBackprop=function(n,r,a){be([n,r],"resizeNearestNeighborBackprop");for(var i=r.shape,o=i[0],u=i[1],c=i[2],l=i[3],h=n.shape,d=h[1],v=h[2],m=new Float32Array(o*u*c*l),y=this.readSync(n.dataId),x=[a&&d>1?u-1:u,a&&v>1?c-1:c],b=[a&&d>1?d-1:d,a&&v>1?v-1:v],w=x[0]/b[0],S=x[1]/b[1],A=1/w,O=1/S,E=2*Math.ceil(A)+2,C=2*Math.ceil(O)+2,R=0;R<o;R++)for(var D=R*r.strides[0],M=0;M<u;M++)for(var N=D+M*r.strides[1],k=Math.floor(M*A),I=Math.floor(k-E/2),q=0;q<c;q++)for(var W=N+q*r.strides[2],$=Math.floor(q*O),j=Math.floor($-C/2),U=0;U<l;U++){for(var H=0,Y=0;Y<E;Y++){var B=Y+I;if(!(B<0||B>=d)){var K=D+B*n.strides[1],J=B*w;if(M===Math.min(u-1,a?Math.round(J):Math.floor(J)))for(var ne=0;ne<C;ne++){var ve=ne+j;if(!(ve<0||ve>=v)){var we=K+ve*n.strides[2],xe=ve*S;q===Math.min(c-1,a?Math.round(xe):Math.floor(xe))&&(H+=y[we+U])}}}}m[W+U]=H}return pr(m,r.shape,r.dtype)},e.prototype.batchNormalization=function(n,r,a,i,o,u){be([n,r,a,o,u],"batchNorm");for(var c=this.readSync(n.dataId),l=this.readSync(r.dataId),h=this.readSync(a.dataId),d=o?this.readSync(o.dataId):new Float32Array([1]),v=u?this.readSync(u.dataId):new Float32Array([0]),m=new Float32Array(c.length),y=v.length,x=d.length,b=h.length,w=l.length,S=0,A=0,O=0,E=0,C=0;C<c.length;++C)m[C]=v[S++]+(c[C]-l[A++])*d[O++]/Math.sqrt(h[E++]+i),S>=y&&(S=0),A>=w&&(A=0),O>=x&&(O=0),E>=b&&(E=0);return pr(m,n.shape)},e.prototype.localResponseNormalization4D=function(n,r,a,i,o){be(n,"localResponseNormalization4D");var u=n.shape[3],c=u-1,l=this.readSync(n.dataId),h=n.size,d=new Float32Array(h);function v(b){for(var w=b%u,S=b-w+Math.max(0,w-r),A=b-w+Math.min(w+r,c),O=0;S<=A;S++){var E=l[S];O+=E*E}return O}for(var m=0;m<h;m++){var y=v(m),x=l[m]*Math.pow(a+i*y,-o);d[m]=x}return pr(d,n.shape)},e.prototype.LRNGrad=function(n,r,a,i,o,u,c){be(n,"LRNGrad");for(var l=n.shape[3],h=this.readSync(n.dataId),d=this.readSync(r.dataId),v=this.readSync(a.dataId),m=new Float32Array(n.size),y=n.size,x=0;x<y;x++){for(var b=x%l,w=x-b+Math.max(0,b-i),S=x-b+Math.min(l,b+i+1),A=0,O=w;O<S;O++)A+=Math.pow(d[O],2);for(A=u*A+o,O=w;O<S;O++){var E=-2*u*c*d[O]*v[x]/A;x===O&&(E+=Math.pow(A,-c)),E*=h[x],m[O]+=E}}return pr(m,n.shape)},e.prototype.multinomial=function(n,r,a,i){be(n,"multinomial");for(var o=r?n:Bi(n),u=o.shape[0],c=o.shape[1],l=It([u,a],"int32"),h=this.readSync(l.dataId),d=this.readSync(o.dataId),v=0;v<u;++v){var m=v*c,y=new Float32Array(c-1);y[0]=d[m];for(var x=1;x<y.length;++x)y[x]=y[x-1]+d[m+x];for(var b=ag(i.toString()),w=v*a,S=0;S<a;++S){var A=b();h[w+S]=y.length;for(var O=0;O<y.length;O++)if(A<y[O]){h[w+S]=O;break}}}return l},e.prototype.oneHot=function(n,r,a,i){be(n,"oneHot");var o=new Float32Array(n.size*r);o.fill(i);for(var u=this.readSync(n.dataId),c=0;c<n.size;++c)u[c]>=0&&u[c]<r&&(o[c*r+u[c]]=a);return To(o,[n.size,r],"int32")},e.prototype.nonMaxSuppression=function(n,r,a,i,o){return be(n,"nonMaxSuppression"),eA(this.readSync(n.dataId),this.readSync(r.dataId),a,i,o)},e.prototype.fft=function(n){return this.fftBatch(n,!1)},e.prototype.ifft=function(n){return this.fftBatch(n,!0)},e.prototype.fftBatch=function(n,r){for(var a=n.shape[0],i=n.shape[1],o=Ze(n.shape,"float32"),u=Ze(n.shape,"float32"),c=ta(n).as2D(a,i),l=La(n).as2D(a,i),h=0;h<a;h++)for(var d=c.slice([h,0],[1,i]),v=l.slice([h,0],[1,i]),m=Ln(d,v),y=this.readSync(this.fftImpl(m,r).dataId),x=0;x<i;x++){var b=C4(y,x);o.values[h*i+x]=b.real,u.values[h*i+x]=b.imag}return Ln(o.toTensor(),u.toTensor()).as2D(a,i)},e.prototype.fftImpl=function(n,r){var a=n.as1D(),i=a.size;if(this.isExponentOf2(i)){var o=this.fftRadix2(a,i,r).as2D(n.shape[0],n.shape[1]);return r&&(o=Ln(ta(o).div(Ee(i)),La(o).div(Ee(i)))),o}var u=this.readSync(n.dataId),c=function(l){for(var h=new Float32Array(l.length/2),d=new Float32Array(l.length/2),v=0;v<l.length;v+=2)h[v/2]=l[v],d[v/2]=l[v+1];return{real:h,imag:d}}(this.fourierTransformByMatmul(u,i,r));return Ln(c.real,c.imag).as2D(n.shape[0],n.shape[1])},e.prototype.isExponentOf2=function(n){return(n&n-1)==0},e.prototype.fftRadix2=function(n,r,a){if(r===1)return n;var i=this.readSync(n.dataId),o=r/2,u=function(w){for(var S=Math.ceil(w.length/4),A=new Float32Array(S),O=new Float32Array(S),E=0;E<w.length;E+=4)A[Math.floor(E/4)]=w[E],O[Math.floor(E/4)]=w[E+1];return{real:A,imag:O}}(i),c=Ln(u.real,u.imag).as1D(),l=function(w){for(var S=Math.floor(w.length/4),A=new Float32Array(S),O=new Float32Array(S),E=2;E<w.length;E+=4)A[Math.floor(E/4)]=w[E],O[Math.floor(E/4)]=w[E+1];return{real:A,imag:O}}(i),h=Ln(l.real,l.imag).as1D();c=this.fftRadix2(c,o,a),h=this.fftRadix2(h,o,a);var d=function(w,S){for(var A=new Float32Array(w/2),O=new Float32Array(w/2),E=0;E<Math.ceil(w/2);E++){var C=(S?2:-2)*Math.PI*(E/w);A[E]=Math.cos(C),O[E]=Math.sin(C)}return{real:A,imag:O}}(r,a),v=Ln(d.real,d.imag).mul(h),m=c.add(v),y=c.sub(v),x=ta(m).concat(ta(y)),b=La(m).concat(La(y));return Ln(x,b).as1D()},e.prototype.fourierTransformByMatmul=function(n,r,a){for(var i=new Float32Array(2*r),o=0;o<r;o++){for(var u=0,c=0,l=0;l<r;l++){var h=Uce(o*l,r,a),d=C4(n,l);u+=d.real*h.real-d.imag*h.imag,c+=d.real*h.imag+d.imag*h.real}a&&(u/=r,c/=r),Fce(i,u,c,o)}return i},e.prototype.depthToSpace=function(n,r,a){z(a==="NHWC",function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+a}),z(r>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+r});for(var i=n.shape[0],o=n.shape[1],u=n.shape[2],c=n.shape[3],l=o*r,h=u*r,d=c/(r*r),v=this.readSync(n.dataId),m=new Float32Array(i*l*h*d),y=0,x=0;x<i;++x)for(var b=0;b<l;++b)for(var w=Math.floor(b/r),S=b%r,A=0;A<h;++A)for(var O=Math.floor(A/r),E=(S*r+A%r)*d,C=0;C<d;++C){var R=C+E+c*(O+u*(w+o*x));m[y++]=v[R]}return pr(m,[i,l,h,d])},e.prototype.broadcastedBinaryOp=function(n,r,a,i){var o=st(n.shape,r.shape),u=Ze(o,a),c=this.readSync(n.dataId),l=this.readSync(r.dataId),h=xo(n.shape,o),d=xo(r.shape,o),v=u.values;if(h.length+d.length===0)for(var m=0;m<v.length;++m)v[m]=i(c[m%c.length],l[m%l.length]);else{var y=this.bufferSync(n),x=this.bufferSync(r),b=function(w){var S=u.indexToLoc(w),A=S.slice(-n.rank);h.forEach(function(R){return A[R]=0});var O=y.locToIndex(A),E=S.slice(-r.rank);d.forEach(function(R){return E[R]=0});var C=x.locToIndex(E);v[w]=i(c[O],l[C])};for(m=0;m<v.length;++m)b(m)}return u.toTensor()},e.prototype.broadcastedBinaryComplexOp=function(n,r,a){var i=st(n.shape,r.shape),o=Ze(i,"float32"),u=Ze(i,"float32"),c=this.readSync(n.dataId),l=this.readSync(r.dataId),h=xo(n.shape,i),d=xo(r.shape,i),v=o.values,m=u.values;if(h.length+d.length===0)for(var y=0;y<v.length;y++){var x=y%c.length,b=y%l.length,w=a(c[2*x],c[2*x+1],l[2*b],l[2*b+1]);v[y]=w.real,m[y]=w.imag}else{var S=this.bufferSync(this.data.get(n.dataId).complexTensors.real),A=this.bufferSync(this.data.get(r.dataId).complexTensors.real),O=function(E){var C=o.indexToLoc(E),R=C.slice(-n.rank);h.forEach(function(I){return R[I]=0});var D=S.locToIndex(R),M=C.slice(-r.rank);d.forEach(function(I){return M[I]=0});var N=A.locToIndex(M),k=a(c[2*D],c[2*D+1],l[2*N],l[2*N+1]);v[E]=k.real,m[E]=k.imag};for(y=0;y<v.length;y++)O(y)}return this.complex(o.toTensor(),u.toTensor())},e.prototype.split=function(n,r,a){return gq(n,r,a)},e.prototype.dispose=function(){},e.prototype.floatPrecision=function(){return 32},e.prototype.epsilon=function(){return 1e-7},e.prototype.cropAndResize=function(n,r,a,i,o,u){for(var c=n.shape,l=c[0],h=c[1],d=c[2],v=c[3],m=r.shape[0],y=i[0],x=i[1],b=Ze([m,y,x,v],"float32"),w=this.readSync(r.dataId),S=this.readSync(a.dataId),A=this.readSync(n.dataId),O=n.strides,E=b.strides,C=0;C<m;C++){var R=4*C,D=w[R],M=w[R+1],N=w[R+2],k=w[R+3],I=S[C];if(!(I>=l))for(var q=y>1?(N-D)*(h-1)/(y-1):0,W=x>1?(k-M)*(d-1)/(x-1):0,$=0;$<y;$++){var j=y>1?D*(h-1)+$*q:.5*(D+N)*(h-1);if(j<0||j>h-1)for(var U=0;U<x;U++)for(var H=0;H<v;H++){var Y=H+U*E[2]+$*E[1]+C*E[0];b.values[Y]=u}else if(o==="bilinear"){var B=Math.floor(j),K=Math.ceil(j),J=j-B;for(U=0;U<x;U++)if((Se=x>1?M*(d-1)+U*W:.5*(M+k)*(d-1))<0||Se>d-1)for(H=0;H<v;H++)Y=H+U*E[2]+$*E[1]+C*E[0],b.values[Y]=u;else{var ne=Math.floor(Se),ve=Math.ceil(Se),we=Se-ne;for(H=0;H<v;H++){var xe=A[Y=H+ne*O[2]+B*O[1]+I*O[0]],Fe=A[Y=H+ve*O[2]+B*O[1]+I*O[0]],Ae=A[Y=H+ne*O[2]+K*O[1]+I*O[0]],ge=xe+(Fe-xe)*we,Te=Ae+(A[Y=H+ve*O[2]+K*O[1]+I*O[0]]-Ae)*we;Y=H+U*E[2]+$*E[1]+C*E[0],b.values[Y]=ge+(Te-ge)*J}}}else for(U=0;U<x;++U){var Se;if((Se=x>1?M*(d-1)+U*W:.5*(M+k)*(d-1))<0||Se>d-1)for(H=0;H<v;H++)Y=H+U*E[2]+$*E[1]+C*E[0],b.values[Y]=u;else{var le=Math.round(Se),Le=Math.round(j);for(H=0;H<v;H++){var Ie=H+le*O[2]+Le*O[1]+I*O[0],Ge=H+U*E[2]+$*E[1]+C*E[0];b.values[Ge]=A[Ie]}}}}}return b.toTensor()},e.prototype.sparseToDense=function(n,r,a,i){var o=Vv(0,n,a),u=o.sliceRank,c=o.numUpdates,l=o.sliceSize,h=o.strides,d=o.outputSize;return this.scatter(n,r,a,d,l,c,u,h,i,!1)},e.prototype.gatherND=function(n,r){var a=r.shape,i=a[a.length-1],o=uq(n,r),u=o[0],c=o[1],l=o[2],h=o[3];if(c===0)return Fn([],u,n.dtype);for(var d=new sh([c,l],n.dtype),v=this.readSync(r.dataId),m=this.readSync(n.dataId),y=0;y<c;y++){for(var x=[],b=0,w=0;w<i;w++){var S=v[y*i+w];b+=S*h[w],x.push(S)}if(b<0||b>=n.size/l)throw new Error("Invalid indices: "+x+" does not index into "+n.shape);for(var A=0;A<l;A++)d.values[y*l+A]=m[b*l+A]}return d.toTensor().reshape(u)},e.prototype.scatterND=function(n,r,a){var i=Vv(0,n,a),o=i.sliceRank,u=i.numUpdates,c=i.sliceSize,l=i.strides,h=i.outputSize,d=Ee(0);return this.scatter(n,r,a,h,c,u,o,l,d,!0)},e.prototype.fill=function(n,r,a){var i=Bv(a=a||Ch(r),Pe(n));return i.fill(r),ee.makeTensor(i,n,a,this)},e.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(n.shape,1,n.dtype)},e.prototype.zerosLike=function(n){var r=Bv(n.dtype,Pe(n.shape));return this.makeOutput(r,n.shape,n.dtype)},e.prototype.linspace=function(n,r,a){return vq(n,r,a)},e.prototype.scatter=function(n,r,a,i,o,u,c,l,h,d){var v=[i/o,o],m=this.readSync(n.dataId),y=this.readSync(r.dataId);if(i===0)return Fn([],a,r.dtype);var x=new sh(v,r.dtype);x.values.fill(this.readSync(h.dataId)[0]);for(var b=0;b<u;b++){for(var w=[],S=0,A=0;A<c;A++){var O=m[b*c+A];w.push(O),S+=O*l[A]}if(S<0||S>=i/o)throw new Error("Invalid indices: "+w+" does not index into "+a);for(var E=0;E<o;E++)d?x.values[S*o+E]+=y[b*o+E]:x.values[S*o+E]=r.rank===0?y[0]:y[b*o+E]}return x.toTensor().reshape(a)},e}(hq);ee.registerBackend("cpu",function(){return new ope},1);for(var h_=0,Y4=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs,a=e,i=a.boxes,o=a.scores,u=r,c=u.maxOutputSize,l=u.iouThreshold,h=u.scoreThreshold,d=u.softNmsSigma,v=n;be(i,"NonMaxSuppressionWithScore");var m=tA(v.data.get(i.dataId).values,v.data.get(o.dataId).values,c,l,h,d);return[m.selectedIndices,m.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.x,a=n;be(r,"square");for(var i=a.data.get(r.dataId).values,o=new Float32Array(i.length),u=0;u<i.length;++u){var c=i[u];o[u]=c*c}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:fh,backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e,a=r.a,i=r.b,o=n;be([a,i],fh);var u=o.data.get(a.dataId).values,c=o.data.get(i.dataId).values,l=function(v,m,y,x,b,w){var S=st(v,m),A=S.length,O=$a(S),E=uh(b,Pe(S)),C=v.length,R=m.length,D=$a(v),M=$a(m),N=xo(v,S),k=xo(m,S);if(N.length+k.length===0)for(var I=0;I<E.length;++I)E[I]=w(y[I%y.length],x[I%x.length]);else{var q=function(W){var $=mse(W,A,O),j=$.slice(-C);N.forEach(function(B){return j[B]=0});var U=b4(j,C,D),H=$.slice(-R);k.forEach(function(B){return H[B]=0});var Y=b4(H,R,M);E[W]=w(y[U],x[Y])};for(I=0;I<E.length;++I)q(I)}return[E,S]}(a.shape,i.shape,u,c,a.dtype,function(v,m){var y=v-m;return y*y}),h=l[0],d=l[1];return{dataId:o.write(h,d,a.dtype),shape:d,dtype:a.dtype}}}];h_<Y4.length;h_++)UU(Y4[h_]);var Ns,upe=function(t){this.variableNames=["A"];var e=Qn(),n=t[0],r=t[1];this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+r+".0, "+n+`.0);

        vec4 values = `+e.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},spe=function(t){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var e=Qn(),n=t[0],r=t[1];this.outputShape=t,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+r+".0, "+n+`.0);
            vec4 values = `+e.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+e.output+` = result;
      }
    `};for(var d_=0,Q4=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs,a=e.pixels,i=r.numChannels,o=typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement,u=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,c=o?[a.videoWidth,a.videoHeight]:[a.width,a.height],l=c[0],h=c[1],d=[h,l],v=[h,l,i];(u||o)&&(Ns==null&&(Ns=document.createElement("canvas").getContext("2d")),Ns.canvas.width=l,Ns.canvas.height=h,Ns.drawImage(a,0,0,l,h),a=Ns.canvas);var m=n.makeTensorInfo(d,"int32");n.texData.get(m.dataId).usage=kr.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(m.dataId),a);var y=fe().getBool("WEBGL_PACK")?new spe(v):new upe(v),x=n.runWebGLProgram(y,[m],"int32");return n.disposeData(m.dataId),x}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs;Uv("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var a=e,i=a.boxes,o=a.scores,u=r,c=u.maxOutputSize,l=u.iouThreshold,h=u.scoreThreshold,d=u.softNmsSigma,v=n,m=tA(v.readSync(i.dataId),v.readSync(o.dataId),c,l,h,d);return[m.selectedIndices,m.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.x,a=n,i=new tt(r.shape,"return x * x;");return a.runWebGLProgram(i,[r],r.dtype)}},{kernelName:fh,backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e,a=r.a,i=r.b,o=n,u=fe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bi("return (a - b) * (a - b);",a.shape,i.shape):new Gt("return (a - b) * (a - b);",a.shape,i.shape);return o.compileAndRun(u,[a,i])}}];d_<Q4.length;d_++)UU(Q4[d_]);for(var p_=0,Z4=[{kernelName:"Square",gradFunc:function(t,e){var n=e[0];return{x:function(){return t.mul(n.toFloat().mul(2))}}}},{kernelName:fh,gradFunc:function(t,e){var n=e[0],r=e[1],a=Ee(2);return{a:function(){return Jn(t,Jn(a,yn(n,r)))},b:function(){return Jn(t,Jn(a,yn(r,n)))}}}}];p_<Z4.length;p_++)ise(Z4[p_]);var cpe=function(){function t(){}return t.prototype.fetch=function(e,n){return fetch(e,n)},t.prototype.now=function(){return performance.now()},t.prototype.encode=function(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+n);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},t.prototype.decode=function(e,n){return new TextDecoder(n).decode(e)},t}();fe().get("IS_BROWSER")&&fe().setPlatform("browser",new cpe);var v_,lpe=function(){return require("node-fetch")},fpe=function(){function t(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return t.prototype.fetch=function(e,n){return fe().global.fetch!=null?fe().global.fetch(e,n):(v_==null&&(v_=lpe()),v_(e,n))},t.prototype.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},t.prototype.encode=function(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+n);return this.textEncoder.encode(e)},t.prototype.decode=function(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)},t}();fe().get("IS_NODE")&&fe().setPlatform("node",new fpe);var _S={float32:4,int32:4,uint16:2,uint8:1,bool:1},Jv=4;function cz(t,e){for(var n={},r=0,a=function(u){var c=u.name,l=u.dtype,h=u.shape,d=Pe(h),v=void 0;if("quantization"in u){var m=u.quantization;if(m.dtype!=="uint8"&&m.dtype!=="uint16")throw new Error("Weight "+u.name+" has unknown quantization dtype "+m.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var y=_S[m.dtype],x=t.slice(r,r+d*y),b=m.dtype==="uint8"?new Uint8Array(x):new Uint16Array(x);if(l==="float32")v=Float32Array.from(b,function(C){return C*m.scale+m.min});else{if(l!=="int32")throw new Error("Unsupported dtype in weight '"+c+"': "+l);v=Int32Array.from(b,function(C){return Math.round(C*m.scale+m.min)})}r+=d*y}else if(l==="string"){var w=Pe(u.shape);v=[];for(var S=0;S<w;S++){var A=new Uint32Array(t.slice(r,r+Jv))[0];r+=Jv;var O=new Uint8Array(t.slice(r,r+A));v.push(O),r+=A}}else{var E=_S[l];if(x=t.slice(r,r+d*E),l==="float32")v=new Float32Array(x);else if(l==="int32")v=new Int32Array(x);else{if(l!=="bool")throw new Error("Unsupported dtype in weight '"+c+"': "+l);v=new Uint8Array(x)}r+=d*E}n[c]=Fn(v,h,l)},i=0,o=e;i<o.length;i++)a(o[i]);return n}function hpe(t){if(t===null)throw new Error("Invalid input value: "+JSON.stringify(t));var e=0,n=[];t.forEach(function(i){if(e+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+i.constructor.name)});var r=new Uint8Array(e),a=0;return n.forEach(function(i){r.set(new Uint8Array(i.buffer),a),a+=i.byteLength}),r.buffer}var SS=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function J4(t){return SS?Buffer.byteLength(t):new Blob([t]).size}function xA(t){var e=0;t.forEach(function(a){e+=a.byteLength});var n=new Uint8Array(e),r=0;return t.forEach(function(a){n.set(new Uint8Array(a),r),r+=a.byteLength}),n.buffer}function eB(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);var e=t.split("/");return e[e.length-1]}function Ih(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:J4(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:J4(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}var Ir=function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return t.instance==null&&(t.instance=new t),t.instance},t.registerSaveRouter=function(e){t.getInstance().saveRouters.push(e)},t.registerLoadRouter=function(e){t.getInstance().loadRouters.push(e)},t.getSaveHandlers=function(e){return t.getHandlers(e,"save")},t.getLoadHandlers=function(e,n){return t.getHandlers(e,"load",n)},t.getHandlers=function(e,n,r){var a=[];return(n==="load"?t.getInstance().loadRouters:t.getInstance().saveRouters).forEach(function(i){var o=i(e,r);o!==null&&a.push(o)}),a},t}(),ec="://",Co=function(){function t(){this.managers={}}return t.getInstance=function(){return t.instance==null&&(t.instance=new t),t.instance},t.registerManager=function(e,n){z(e!=null,function(){return"scheme must not be undefined or null."}),e.endsWith(ec)&&(e=e.slice(0,e.indexOf(ec))),z(e.length>0,function(){return"scheme must not be an empty string."});var r=t.getInstance();z(r.managers[e]==null,function(){return"A model store manager is already registered for scheme '"+e+"'."}),r.managers[e]=n},t.getManager=function(e){var n=this.getInstance().managers[e];if(n==null)throw new Error("Cannot find model manager for scheme '"+e+"'");return n},t.getSchemes=function(){return Object.keys(this.getInstance().managers)},t}();function Bp(t){if(t.indexOf(ec)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+Co.getSchemes().join(","));return{scheme:t.split(ec)[0],path:t.split(ec)[1]}}function tB(t,e,n){return n===void 0&&(n=!1),De(this,void 0,void 0,function(){var r,a,i,o,u,c,l,h,d;return Me(this,function(v){switch(v.label){case 0:return z(t!==e,function(){return"Old path and new path are the same: '"+t+"'"}),z((r=Ir.getLoadHandlers(t)).length>0,function(){return"Copying failed because no load handler is found for source URL "+t+"."}),z(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+t+"."}),a=r[0],z((i=Ir.getSaveHandlers(e)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+e+"."}),z(i.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+e+"."}),o=i[0],u=Bp(t).scheme,c=Bp(t).path,l=u===Bp(t).scheme,[4,a.load()];case 1:return h=v.sent(),n&&l?[4,Co.getManager(u).removeModel(c)]:[3,3];case 2:v.sent(),v.label=3;case 3:return[4,o.save(h)];case 4:return d=v.sent(),!n||l?[3,6]:[4,Co.getManager(u).removeModel(c)];case 5:v.sent(),v.label=6;case 6:return[2,d.modelArtifactsInfo]}})})}var xu="models_store",wo="model_info_store";function lz(){if(!fe().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t=window||self,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function ES(t){var e=t.result;e.createObjectStore(xu,{keyPath:"modelPath"}),e.createObjectStore(wo,{keyPath:"modelPath"})}var tc=function(){function t(e){if(this.indexedDB=lz(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return t.prototype.save=function(e){return De(this,void 0,void 0,function(){return Me(this,function(n){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},t.prototype.load=function(){return De(this,void 0,void 0,function(){return Me(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},t.prototype.databaseAction=function(e,n){var r=this;return new Promise(function(a,i){var o=r.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return ES(o)},o.onsuccess=function(){var u=o.result;if(n==null){var c=u.transaction(xu,"readonly"),l=c.objectStore(xu).get(r.modelPath);l.onsuccess=function(){if(l.result==null)return u.close(),i(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."));a(l.result.modelArtifacts)},l.onerror=function(x){return u.close(),i(l.error)},c.oncomplete=function(){return u.close()}}else{var h,d=Ih(n),v=u.transaction(wo,"readwrite"),m=v.objectStore(wo),y=m.put({modelPath:r.modelPath,modelArtifactsInfo:d});y.onsuccess=function(){var x=(h=u.transaction(xu,"readwrite")).objectStore(xu).put({modelPath:r.modelPath,modelArtifacts:n,modelArtifactsInfo:d});x.onsuccess=function(){return a({modelArtifactsInfo:d})},x.onerror=function(b){var w=(m=v.objectStore(wo)).delete(r.modelPath);w.onsuccess=function(){return u.close(),i(x.error)},w.onerror=function(S){return u.close(),i(x.error)}}},y.onerror=function(x){return u.close(),i(y.error)},v.oncomplete=function(){h==null?u.close():h.oncomplete=function(){return u.close()}}}},o.onerror=function(u){return i(o.error)}})},t.URL_SCHEME="indexeddb://",t}(),nB=function(t){return fe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(tc.URL_SCHEME)?(e=t.slice(tc.URL_SCHEME.length),new tc(e)):null;var e};Ir.registerSaveRouter(nB),Ir.registerLoadRouter(nB);var dpe=function(){function t(){this.indexedDB=lz()}return t.prototype.listModels=function(){return De(this,void 0,void 0,function(){var e=this;return Me(this,function(n){return[2,new Promise(function(r,a){var i=e.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return ES(i)},i.onsuccess=function(){var o=i.result,u=o.transaction(wo,"readonly"),c=u.objectStore(wo).getAll();c.onsuccess=function(){for(var l={},h=0,d=c.result;h<d.length;h++){var v=d[h];l[v.modelPath]=v.modelArtifactsInfo}r(l)},c.onerror=function(l){return o.close(),a(c.error)},u.oncomplete=function(){return o.close()}},i.onerror=function(o){return a(i.error)}})]})})},t.prototype.removeModel=function(e){return De(this,void 0,void 0,function(){var n=this;return Me(this,function(r){var a;return e=(a=e).startsWith(tc.URL_SCHEME)?a.slice(tc.URL_SCHEME.length):a,[2,new Promise(function(i,o){var u=n.indexedDB.open("tensorflowjs",1);u.onupgradeneeded=function(){return ES(u)},u.onsuccess=function(){var c,l=u.result,h=l.transaction(wo,"readwrite"),d=h.objectStore(wo),v=d.get(e);v.onsuccess=function(){if(v.result==null)return l.close(),o(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var m=d.delete(e),y=function(){var x=(c=l.transaction(xu,"readwrite")).objectStore(xu).delete(e);x.onsuccess=function(){return i(v.result.modelArtifactsInfo)},x.onerror=function(b){return o(v.error)}};m.onsuccess=y,m.onerror=function(x){return y(),l.close(),o(v.error)}},v.onerror=function(m){return l.close(),o(v.error)},h.oncomplete=function(){c==null?l.close():c.oncomplete=function(){return l.close()}}},u.onerror=function(c){return o(u.error)}})]})})},t}();if(fe().getBool("IS_BROWSER"))try{Co.registerManager(tc.URL_SCHEME,new dpe)}catch{}var wi="/",Us="tensorflowjs_models",fz="info",ppe="model_topology",vpe="weight_specs",mpe="weight_data",gpe="model_metadata";function hz(t){return{info:[Us,t,fz].join(wi),topology:[Us,t,ppe].join(wi),weightSpecs:[Us,t,vpe].join(wi),weightData:[Us,t,mpe].join(wi),modelMetadata:[Us,t,gpe].join(wi)}}function ype(t){var e=t.split(wi);if(e.length<3)throw new Error("Invalid key format: "+t);return e.slice(1,e.length-1).join(wi)}var nc=function(){function t(e){if(!fe().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=hz(this.modelPath)}return t.prototype.save=function(e){return De(this,void 0,void 0,function(){var n,r,a;return Me(this,function(i){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),a=Ih(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(o){if(SS)return Buffer.from(o).toString("base64");for(var u=new Uint8Array(o),c="",l=0,h=u.length;l<h;l++)c+=String.fromCharCode(u[l]);return btoa(c)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:a}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+a.modelTopologyBytes+", weightSpecsBytes="+a.weightSpecsBytes+", weightDataBytes="+a.weightDataBytes+".")}return[2]})})},t.prototype.load=function(){return De(this,void 0,void 0,function(){var e,n,r,a,i,o,u;return Me(this,function(c){if((e=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(n={},(r=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(n.modelTopology=r,(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(n.weightSpecs=a,(i=this.LS.getItem(this.keys.modelMetadata))!=null&&(o=JSON.parse(i),n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,n.userDefinedMetadata=o.userDefinedMetadata),(u=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return n.weightData=function(l){if(SS){var h=Buffer.from(l,"base64");return h.buffer.slice(h.byteOffset,h.byteOffset+h.byteLength)}for(var d=atob(l),v=new Uint8Array(d.length),m=0;m<d.length;++m)v.set([d.charCodeAt(m)],m);return v.buffer}(u),[2,n]})})},t.URL_SCHEME="localstorage://",t}(),rB=function(t){return fe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(nc.URL_SCHEME)?(e=t.slice(nc.URL_SCHEME.length),new nc(e)):null;var e};Ir.registerSaveRouter(rB),Ir.registerLoadRouter(rB);var bpe=function(){function t(){z(fe().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),z(typeof window>"u"||window.localStorage!==void 0,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return t.prototype.listModels=function(){return De(this,void 0,void 0,function(){var e,n,r,a,i,o;return Me(this,function(u){for(e={},n=Us+wi,r=wi+fz,a=0;a<this.LS.length;++a)(i=this.LS.key(a)).startsWith(n)&&i.endsWith(r)&&(o=ype(i),e[o]=JSON.parse(this.LS.getItem(i)));return[2,e]})})},t.prototype.removeModel=function(e){return De(this,void 0,void 0,function(){var n,r;return Me(this,function(a){var i;if(e=(i=e).startsWith(nc.URL_SCHEME)?i.slice(nc.URL_SCHEME.length):i,n=hz(e),this.LS.getItem(n.info)==null)throw new Error("Cannot find model at path '"+e+"'");return r=JSON.parse(this.LS.getItem(n.info)),this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),[2,r]})})},t}();if(fe().getBool("IS_BROWSER"))try{Co.registerManager(nc.URL_SCHEME,new bpe)}catch{}var xpe="model",wpe=".json",_pe=".weights.bin";function aB(t){return new Promise(function(e){return setTimeout(e)}).then(t)}var m_=function(){function t(e){if(!fe().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(t.URL_SCHEME)&&(e=e.slice(t.URL_SCHEME.length)),e!=null&&e.length!==0||(e=xpe),this.modelTopologyFileName=e+wpe,this.weightDataFileName=e+_pe}return t.prototype.save=function(e){return De(this,void 0,void 0,function(){var n,r,a,i,o,u;return Me(this,function(c){switch(c.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(n=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:r},i=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(o=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,o.href=i,[4,aB(function(){return o.dispatchEvent(new MouseEvent("click"))})];case 2:return c.sent(),e.weightData==null?[3,4]:((u=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,u.href=n,[4,aB(function(){return u.dispatchEvent(new MouseEvent("click"))})]);case 3:c.sent(),c.label=4;case 4:return[2,{modelArtifactsInfo:Ih(e)}]}})})},t.URL_SCHEME="downloads://",t}(),Spe=function(){function t(e){if(e==null||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return t.prototype.load=function(){return De(this,void 0,void 0,function(){var e,n,r=this;return Me(this,function(a){return e=this.files[0],n=this.files.slice(1),[2,new Promise(function(i,o){var u=new FileReader;u.onload=function(c){var l=JSON.parse(c.target.result),h=l.modelTopology;if(h!=null){n.length===0&&i({modelTopology:h});var d=l.weightsManifest;if(d!=null){var v;try{v=r.checkManifestAndWeightFiles(d,n)}catch(b){return void o(b)}var m=[],y=[],x=[];d.forEach(function(b){b.paths.forEach(function(w){y.push(w),x.push(null)}),m.push.apply(m,b.weights)}),d.forEach(function(b){b.paths.forEach(function(w){var S=new FileReader;S.onload=function(A){var O=A.target.result,E=y.indexOf(w);x[E]=O,x.indexOf(null)===-1&&i({modelTopology:h,weightSpecs:m,weightData:xA(x),format:l.format,generatedBy:l.generatedBy,convertedBy:l.convertedBy,userDefinedMetadata:l.userDefinedMetadata})},S.onerror=function(A){return o("Failed to weights data from file of path '"+w+"'.")},S.readAsArrayBuffer(v[w])})})}else o(new Error("weightManifest field is missing from file "+e.name))}else o(new Error("modelTopology field is missing from file "+e.name))},u.onerror=function(c){return o("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},u.readAsText(e)})]})})},t.prototype.checkManifestAndWeightFiles=function(e,n){for(var r=[],a=n.map(function(c){return eB(c.name)}),i={},o=0,u=e;o<u.length;o++)u[o].paths.forEach(function(c){var l=eB(c);if(r.indexOf(l)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+l+"'");if(r.push(l),a.indexOf(l)===-1)throw new Error("Weight file with basename '"+l+"' is not provided.");i[c]=n[a.indexOf(l)]});if(r.length!==n.length)throw new Error("Mismatch in the number of files in weights manifest ("+r.length+") and the number of weight files provided ("+n.length+").");return i},t}();function iB(t,e,n,r){(function(i){z(i!=null&&Array.isArray(i)&&i.length>0,function(){return"promises must be a none empty array"})})(t),function(i,o){z(i>=0&&i<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+i}),z(o>=0&&o<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+o}),z(o>=i,function(){return"startFraction must be no more than endFraction, but got startFraction "+i+" and endFraction "+o})}(n=n??0,r=r??1);var a=0;return Promise.all(t.map(function(i){return i.then(function(o){var u=n+ ++a/t.length*(r-n);return e(u),o}),i}))}function dz(t,e){return De(this,void 0,void 0,function(){var n,r,a,i,o,u,c,l,h;return Me(this,function(d){switch(d.label){case 0:return e==null&&(e={}),n=e.fetchFunc==null?fe().platform.fetch:e.fetchFunc,r=t.map(function(v){return n(v,e.requestInit,{isBinary:!0})}),a=0,i=.5,e.onProgress!=null?[3,2]:[4,Promise.all(r)];case 1:return o=d.sent(),[3,4];case 2:return[4,iB(r,e.onProgress,a,i)];case 3:o=d.sent(),d.label=4;case 4:return u=o.map(function(v){return v.arrayBuffer()}),c=.5,l=1,e.onProgress!=null?[3,6]:[4,Promise.all(u)];case 5:return h=d.sent(),[3,8];case 6:return[4,iB(u,e.onProgress,c,l)];case 7:h=d.sent(),d.label=8;case 8:return[2,h]}})})}function oB(t){var e=this;return function(n,r,a){return r===void 0&&(r=""),De(e,void 0,void 0,function(){var i,o,u,c,l,h,d,v,m,y;return Me(this,function(x){switch(x.label){case 0:if(i=n.map(function(){return!1}),o={},u=a!=null?a.map(function(){return!1}):[],c=[],n.forEach(function(b,w){var S=0;b.weights.forEach(function(A){var O="quantization"in A?A.quantization.dtype:A.dtype,E=_S[O]*Pe(A.shape),C=function(){i[w]=!0,o[w]==null&&(o[w]=[]),o[w].push({manifestEntry:A,groupOffset:S,sizeBytes:E})};a!=null?a.forEach(function(R,D){R===A.name&&(C(),u[D]=!0)}):C(),c.push(A.name),S+=E})}),!u.every(function(b){return b}))throw l=a.filter(function(b,w){return!u[w]}),new Error("Could not find weights in manifest with names: "+l.join(", ")+`. 
Manifest JSON has weights with names: `+c.join(", ")+".");return h=i.reduce(function(b,w,S){return w&&b.push(S),b},[]),d=[],h.forEach(function(b){n[b].paths.forEach(function(w){var S=r+(r.endsWith("/")?"":"/")+w;d.push(S)})}),[4,t(d)];case 1:return v=x.sent(),m={},y=0,h.forEach(function(b){for(var w=n[b].paths.length,S=0,A=0;A<w;A++)S+=v[y+A].byteLength;for(var O=new ArrayBuffer(S),E=new Uint8Array(O),C=0,R=0;R<w;R++){var D=new Uint8Array(v[y+R]);E.set(D,C),C+=D.byteLength}o[b].forEach(function(M){var N=cz(O.slice(M.groupOffset,M.groupOffset+M.sizeBytes),[M.manifestEntry]);for(var k in N)m[k]=N[k]}),y+=w}),[2,m]}})})}}Ir.registerSaveRouter(function(t){return fe().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(m_.URL_SCHEME)?function(e){return e===void 0&&(e="model"),new m_(e)}(t.slice(m_.URL_SCHEME.length)):null});var pz=function(){function t(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,n.fetchFunc!=null?(z(typeof n.fetchFunc=="function",function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=n.fetchFunc):this.fetch=fe().platform.fetch,z(e!=null&&e.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(e)&&z(e.length===2,function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."}),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return t.prototype.save=function(e){return De(this,void 0,void 0,function(){var n,r,a,i;return Me(this,function(o){switch(o.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:r},n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),e.weightData!=null&&n.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,n)];case 1:if((i=o.sent()).ok)return[2,{modelArtifactsInfo:Ih(e),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}})})},t.prototype.load=function(){return De(this,void 0,void 0,function(){var e,n,r,a,i,o,u,c,l,h,d,v;return Me(this,function(m){switch(m.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=m.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");m.label=2;case 2:return m.trys.push([2,4,,5]),[4,e.json()];case 3:return n=m.sent(),[3,5];case 4:throw m.sent(),r="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 5:if(a=n.modelTopology,i=n.weightsManifest,o=n.generatedBy,u=n.convertedBy,c=n.format,l=n.userDefinedMetadata,a==null&&i==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return i==null?[3,7]:[4,this.loadWeights(i)];case 6:v=m.sent(),h=v[0],d=v[1],m.label=7;case 7:return[2,{modelTopology:a,weightSpecs:h,weightData:d,userDefinedMetadata:l,generatedBy:o,convertedBy:u,format:c}]}})})},t.prototype.loadWeights=function(e){return De(this,void 0,void 0,function(){var n,r,a,i,o,u,c,l,h,d,v;return Me(this,function(m){switch(m.label){case 0:for(n=Array.isArray(this.path)?this.path[1]:this.path,r=function(y){var x=y.lastIndexOf("/"),b=y.lastIndexOf("?"),w=y.substring(0,x),S=b>x?y.substring(b):"";return[w+"/",S]}(n),a=r[0],i=r[1],o=this.weightPathPrefix||a,u=[],c=0,l=e;c<l.length;c++)h=l[c],u.push.apply(u,h.weights);return d=[],e.forEach(function(y){y.paths.forEach(function(x){d.push(o+x+i)})}),[4,dz(d,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return v=m.sent(),[2,[u,xA(v)]]}})})},t.URL_SCHEME_REGEX=/^https?:\/\//,t}();function AS(t){return t.match(pz.URL_SCHEME_REGEX)!=null}var uB=function(t,e){return typeof fetch>"u"?null:(Array.isArray(t)?t.every(function(n){return AS(n)}):AS(t))?OS(t,{onProgress:e}):null};function OS(t,e){return new pz(t,e)}Ir.registerSaveRouter(uB),Ir.registerLoadRouter(uB);var g_=function(){function t(e){this.modelArtifacts=e}return t.prototype.load=function(){return De(this,void 0,void 0,function(){return Me(this,function(e){return[2,this.modelArtifacts]})})},t}(),Epe=function(){function t(e){this.saveHandler=e}return t.prototype.save=function(e){return De(this,void 0,void 0,function(){return Me(this,function(n){return[2,this.saveHandler(e)]})})},t}(),vz=Object.freeze({browserFiles:function(t){return new Spe(t)},browserHTTPRequest:function(t,e){return OS(t,e)},concatenateArrayBuffers:xA,decodeWeights:cz,encodeWeights:function(t,e){return De(this,void 0,void 0,function(){var n,r,a,i,o,u=this;return Me(this,function(c){switch(c.label){case 0:for(n=[],r=[],a=Array.isArray(t)?t.map(function(l){return l.name}):Object.keys(t),i=function(l){var h=a[l],d=Array.isArray(t)?t[l].tensor:t[h];if(d.dtype!=="float32"&&d.dtype!=="int32"&&d.dtype!=="bool"&&d.dtype!=="string")throw new Error("Unsupported dtype in weight '"+h+"': "+d.dtype);var v={name:h,shape:d.shape,dtype:d.dtype};if(d.dtype==="string"){var m=new Promise(function(y){return De(u,void 0,void 0,function(){var x,b,w,S,A,O,E;return Me(this,function(C){switch(C.label){case 0:return[4,d.bytes()];case 1:for(x=C.sent(),b=x.reduce(function(R,D){return R+D.length},0)+Jv*x.length,w=new Uint8Array(b),S=0,A=0;A<x.length;A++)O=x[A],E=new Uint8Array(new Uint32Array([O.length]).buffer),w.set(E,S),S+=Jv,w.set(O,S),S+=O.length;return y(w),[2]}})})});r.push(m)}else r.push(d.data());e!=null&&(v.group=e),n.push(v)},o=0;o<a.length;++o)i(o);return[4,Promise.all(r)];case 1:return[2,{data:hpe(c.sent()),specs:n}]}})})},fromMemory:function(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new g_(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new g_({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new g_({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))},getLoadHandlers:function(t,e){return Ir.getLoadHandlers(t,e)},getModelArtifactsInfoForJSON:Ih,getSaveHandlers:function(t){return Ir.getSaveHandlers(t)},http:OS,isHTTPScheme:AS,loadWeights:function(t,e,n,r){return e===void 0&&(e=""),De(this,void 0,void 0,function(){return Me(this,function(a){return[2,oB(function(i){return dz(i,{requestInit:r})})(t,e,n)]})})},registerLoadRouter:function(t){return Ir.registerLoadRouter(t)},registerSaveRouter:function(t){return Ir.registerSaveRouter(t)},weightsLoaderFactory:oB,withSaveHandler:function(t){return new Epe(t)},copyModel:function(t,e){return De(this,void 0,void 0,function(){return Me(this,function(n){return[2,tB(t,e,!1)]})})},listModels:function(){return De(this,void 0,void 0,function(){var t,e,n,r,a,i,o;return Me(this,function(u){switch(u.label){case 0:t=Co.getSchemes(),e={},n=0,r=t,u.label=1;case 1:return n<r.length?(a=r[n],[4,Co.getManager(a).listModels()]):[3,4];case 2:for(o in i=u.sent())e[a+ec+o]=i[o];u.label=3;case 3:return n++,[3,1];case 4:return[2,e]}})})},moveModel:function(t,e){return De(this,void 0,void 0,function(){return Me(this,function(n){return[2,tB(t,e,!0)]})})},removeModel:function(t){return De(this,void 0,void 0,function(){var e;return Me(this,function(n){return e=Bp(t),[2,Co.getManager(e.scheme).removeModel(e.path)]})})}}),ks;X({confusionMatrix_:function(t,e,n){var r=F(t,"labels","confusionMatrix"),a=F(e,"predictions","confusionMatrix");z(n==null||n>0&&Number.isInteger(n),function(){return"If provided, numClasses must be a positive integer, but got "+n}),z(r.rank===1,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),z(a.rank===1,function(){return"Expected the rank of predictions to be 1, but got "+a.rank}),z(r.shape[0]===a.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+a.shape[0]+". Labels and predictions should have the same number of elements."}),z(n>0&&Number.isInteger(n),function(){return"numClasses is required to be a positive integer, but got "+n});var i=gS(r.asType("int32"),n),o=gS(a.asType("int32"),n);return i.transpose().matMul(o).asType("int32")}});var Ape=X({fromPixels_:function(t,e){if(e===void 0&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,i=!1,o=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)i=!0;else{if(t.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+t.constructor.name);o=!0}if(a&&a&&t.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(FU("FromPixels",ee.backendName)!=null)return ee.runKernel("FromPixels",{pixels:t},{numChannels:e});var u,c,l=a?[t.videoWidth,t.videoHeight]:[t.width,t.height],h=l[0],d=l[1];if(o?u=t.getContext("2d").getImageData(0,0,h,d).data:r||n?u=t.data:(i||a)&&(ks==null&&(ks=document.createElement("canvas").getContext("2d")),ks.canvas.width=h,ks.canvas.height=d,ks.drawImage(t,0,0,h,d),u=ks.getImageData(0,0,h,d).data),e===4)c=new Int32Array(u);else{var v=h*d;c=new Int32Array(v*e);for(var m=0;m<v;m++)for(var y=0;y<e;++y)c[m*e+y]=u[4*m+y]}return XE(c,[d,h,e],"int32")}}),wA=Object.freeze({toPixels:function(t,e){return De(this,void 0,void 0,function(){var n,r,a,i,o,u,c,l,h,d,v,m,y,x,b,w,S,A,O,E,C,R,D;return Me(this,function(M){switch(M.label){case 0:if(n=F(t,"img","toPixels"),t instanceof qt||(n=n.toInt()),n.rank!==2&&n.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),a=r[0],i=r[1],(o=n.rank===2?1:n.shape[2])>4||o===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+o);return[4,n.data()];case 1:return u=M.sent(),c=n.min(),l=n.max(),[4,Promise.all([c.data(),l.data()])];case 2:if(h=M.sent(),d=h[0],v=h[1],m=d[0],y=v[0],c.dispose(),l.dispose(),n.dtype==="float32"){if(m<0||y>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+m+" - "+y+"].")}else{if(n.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(m<0||y>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+m+" - "+y+"].")}for(x=n.dtype==="float32"?255:1,b=new Uint8ClampedArray(i*a*4),w=0;w<a*i;++w)S=void 0,A=void 0,O=void 0,E=void 0,o===1?(S=u[w]*x,A=u[w]*x,O=u[w]*x,E=255):o===3?(S=u[3*w]*x,A=u[3*w+1]*x,O=u[3*w+2]*x,E=255):o===4&&(S=u[4*w]*x,A=u[4*w+1]*x,O=u[4*w+2]*x,E=u[4*w+3]*x),b[(C=4*w)+0]=Math.round(S),b[C+1]=Math.round(A),b[C+2]=Math.round(O),b[C+3]=Math.round(E);return e!=null&&(e.width=i,e.height=a,R=e.getContext("2d"),D=new ImageData(b,i,a),R.putImageData(D,0,0)),n!==t&&n.dispose(),[2,b]}})})},fromPixels:Ape}),Ope=function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(e,n){return new e(n)},t}(),Tpe=function(){function t(){this.classNameMap={}}return t.getMap=function(){return t.instance==null&&(t.instance=new t),t.instance},t.register=function(e){t.getMap().classNameMap[e.className]=[e,e.fromConfig]},t}();function zu(t){z(t.className!=null,function(){return"Class being registered does not have the static className property defined."}),z(typeof t.className=="string",function(){return"className is required to be a string, but got type "+typeof t.className}),z(t.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),Tpe.register(t)}var $u=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Aa(e,t),e.prototype.minimize=function(n,r,a){r===void 0&&(r=!1);var i=this.computeGradients(n,a),o=i.value,u=i.grads;if(a!=null){var c=a.map(function(l){return{name:l.name,tensor:u[l.name]}});this.applyGradients(c)}else this.applyGradients(u);return yr(u),r?o:(o.dispose(),null)},Object.defineProperty(e.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),e.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},e.prototype.computeGradients=function(n,r){return Lce(n,r)},e.prototype.dispose=function(){this.iterations_!=null&&yr(this.iterations_)},e.prototype.saveIterations=function(){return De(this,void 0,void 0,function(){return Me(this,function(n){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:Ee(this.iterations_,"int32")}]})})},e.prototype.getWeights=function(){return De(this,void 0,void 0,function(){return Me(this,function(n){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},e.prototype.setWeights=function(n){return De(this,void 0,void 0,function(){return Me(this,function(r){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},e.prototype.extractIterations=function(n){return De(this,void 0,void 0,function(){var r;return Me(this,function(a){switch(a.label){case 0:return r=this,[4,n[0].tensor.data()];case 1:return r.iterations_=a.sent()[0],[2,n.slice(1)]}})})},e}(Ope);Object.defineProperty($u,Symbol.hasInstance,{value:function(t){return t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null}});var Cpe=function(t){function e(n,r,a){a===void 0&&(a=null);var i=t.call(this)||this;return i.learningRate=n,i.rho=r,i.epsilon=a,i.accumulatedGrads=[],i.accumulatedUpdates=[],a==null&&(i.epsilon=ee.backend.epsilon()),i}return Aa(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=ee.registeredVariables[a];r.accumulatedGrads[i]==null&&(r.accumulatedGrads[i]={originalName:a+"/accum_grad",variable:Oe(function(){return ht(o).variable(!1)})}),r.accumulatedUpdates[i]==null&&(r.accumulatedUpdates[i]={originalName:a+"/accum_var",variable:Oe(function(){return ht(o).variable(!1)})});var u=Array.isArray(n)?n[i].tensor:n[a];if(u!=null){var c=r.accumulatedGrads[i].variable,l=r.accumulatedUpdates[i].variable;Oe(function(){var h=c.mul(r.rho).add(u.square().mul(1-r.rho)),d=l.add(r.epsilon).sqrt().div(c.add(r.epsilon).sqrt()).mul(u),v=l.mul(r.rho).add(d.square().mul(1-r.rho));c.assign(h),l.assign(v);var m=d.mul(-r.learningRate).add(o);o.assign(m)})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedUpdates!=null&&(yr(this.accumulatedGrads.map(function(n){return n.variable})),yr(this.accumulatedUpdates.map(function(n){return n.variable})))},e.prototype.getWeights=function(){return De(this,void 0,void 0,function(){var n;return Me(this,function(r){switch(r.label){case 0:return n=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},e.prototype.setWeights=function(n){return De(this,void 0,void 0,function(){var r;return Me(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(n)];case 1:return n=a.sent(),r=n.length/2,this.accumulatedGrads=n.slice(0,r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.accumulatedUpdates=n.slice(r,2*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(n,r){return new n(r.learningRate,r.rho,r.epsilon)},e.className="Adadelta",e}($u);zu(Cpe);var Rpe=function(t){function e(n,r){r===void 0&&(r=.1);var a=t.call(this)||this;return a.learningRate=n,a.initialAccumulatorValue=r,a.accumulatedGrads=[],a}return Aa(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=ee.registeredVariables[a];r.accumulatedGrads[i]==null&&(r.accumulatedGrads[i]={originalName:a+"/accumulator",variable:Oe(function(){return Wa(o.shape,r.initialAccumulatorValue).variable(!1)})});var u=Array.isArray(n)?n[i].tensor:n[a];if(u!=null){var c=r.accumulatedGrads[i].variable;Oe(function(){var l=c.add(u.square());c.assign(l);var h=u.div(l.add(ee.backend.epsilon()).sqrt()).mul(-r.learningRate).add(o);o.assign(h)})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedGrads!=null&&yr(this.accumulatedGrads.map(function(n){return n.variable}))},e.prototype.getWeights=function(){return De(this,void 0,void 0,function(){return Me(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulatedGrads.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},e.prototype.setWeights=function(n){return De(this,void 0,void 0,function(){return Me(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulatedGrads=n.map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(n,r){return new n(r.learningRate,r.initialAccumulatorValue)},e.className="Adagrad",e}($u);zu(Rpe);var Dpe=function(t){function e(n,r,a,i){i===void 0&&(i=null);var o=t.call(this)||this;return o.learningRate=n,o.beta1=r,o.beta2=a,o.epsilon=i,o.accumulatedFirstMoment=[],o.accumulatedSecondMoment=[],Oe(function(){o.accBeta1=Ee(r).variable(),o.accBeta2=Ee(a).variable()}),i==null&&(o.epsilon=ee.backend.epsilon()),o}return Aa(e,t),e.prototype.applyGradients=function(n){var r=this,a=Array.isArray(n)?n.map(function(i){return i.name}):Object.keys(n);Oe(function(){var i=yn(1,r.accBeta1),o=yn(1,r.accBeta2);a.forEach(function(u,c){var l=ee.registeredVariables[u];r.accumulatedFirstMoment[c]==null&&(r.accumulatedFirstMoment[c]={originalName:u+"/m",variable:Oe(function(){return ht(l).variable(!1)})}),r.accumulatedSecondMoment[c]==null&&(r.accumulatedSecondMoment[c]={originalName:u+"/v",variable:Oe(function(){return ht(l).variable(!1)})});var h=Array.isArray(n)?n[c].tensor:n[u];if(h!=null){var d=r.accumulatedFirstMoment[c].variable,v=r.accumulatedSecondMoment[c].variable,m=d.mul(r.beta1).add(h.mul(1-r.beta1)),y=v.mul(r.beta2).add(h.square().mul(1-r.beta2)),x=m.div(i),b=y.div(o);d.assign(m),v.assign(y);var w=x.div(b.sqrt().add(r.epsilon)).mul(-r.learningRate).add(l);l.assign(w)}}),r.accBeta1.assign(r.accBeta1.mul(r.beta1)),r.accBeta2.assign(r.accBeta2.mul(r.beta2))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&yr(this.accumulatedFirstMoment.map(function(n){return n.variable})),this.accumulatedSecondMoment!=null&&yr(this.accumulatedSecondMoment.map(function(n){return n.variable}))},e.prototype.getWeights=function(){return De(this,void 0,void 0,function(){var n;return Me(this,function(r){switch(r.label){case 0:return n=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},e.prototype.setWeights=function(n){return De(this,void 0,void 0,function(){var r,a=this;return Me(this,function(i){switch(i.label){case 0:return[4,this.extractIterations(n)];case 1:return n=i.sent(),Oe(function(){a.accBeta1.assign(Qv(a.beta1,a.iterations_+1)),a.accBeta2.assign(Qv(a.beta2,a.iterations_+1))}),r=n.length/2,this.accumulatedFirstMoment=n.slice(0,r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),this.accumulatedSecondMoment=n.slice(r,2*r).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon)},e.className="Adam",e}($u);zu(Dpe);var Mpe=function(t){function e(n,r,a,i,o){i===void 0&&(i=null),o===void 0&&(o=0);var u=t.call(this)||this;return u.learningRate=n,u.beta1=r,u.beta2=a,u.epsilon=i,u.decay=o,u.accumulatedFirstMoment=[],u.accumulatedWeightedInfNorm=[],Oe(function(){u.iteration=Ee(0).variable(),u.accBeta1=Ee(r).variable()}),i==null&&(u.epsilon=ee.backend.epsilon()),u}return Aa(e,t),e.prototype.applyGradients=function(n){var r=this,a=Array.isArray(n)?n.map(function(i){return i.name}):Object.keys(n);Oe(function(){var i=yn(1,r.accBeta1),o=ga(-r.learningRate,r.iteration.mul(r.decay).add(1));a.forEach(function(u,c){var l=ee.registeredVariables[u];r.accumulatedFirstMoment[c]==null&&(r.accumulatedFirstMoment[c]={originalName:u+"/m",variable:ht(l).variable(!1)}),r.accumulatedWeightedInfNorm[c]==null&&(r.accumulatedWeightedInfNorm[c]={originalName:u+"/v",variable:ht(l).variable(!1)});var h=Array.isArray(n)?n[c].tensor:n[u];if(h!=null){var d=r.accumulatedFirstMoment[c].variable,v=r.accumulatedWeightedInfNorm[c].variable,m=d.mul(r.beta1).add(h.mul(1-r.beta1)),y=v.mul(r.beta2),x=h.abs(),b=y.maximum(x);d.assign(m),v.assign(b);var w=o.div(i).mul(m.div(b.add(r.epsilon))).add(l);l.assign(w)}}),r.iteration.assign(r.iteration.add(1)),r.accBeta1.assign(r.accBeta1.mul(r.beta1))}),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&yr(this.accumulatedFirstMoment.map(function(n){return n.variable})),this.accumulatedWeightedInfNorm!=null&&yr(this.accumulatedWeightedInfNorm.map(function(n){return n.variable}))},e.prototype.getWeights=function(){return De(this,void 0,void 0,function(){return Me(this,function(n){throw new Error("getWeights() is not implemented for Adamax yet.")})})},e.prototype.setWeights=function(n){return De(this,void 0,void 0,function(){return Me(this,function(r){throw new Error("setWeights() is not implemented for Adamax yet.")})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon,r.decay)},e.className="Adamax",e}($u);zu(Mpe);var mz=function(t){function e(n){var r=t.call(this)||this;return r.learningRate=n,r.setLearningRate(n),r}return Aa(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=Array.isArray(n)?n[i].tensor:n[a];if(o!=null){var u=ee.registeredVariables[a];Oe(function(){var c=r.c.mul(o).add(u);u.assign(c)})}}),this.incrementIterations()},e.prototype.setLearningRate=function(n){this.learningRate=n,this.c!=null&&this.c.dispose(),this.c=Qse(Ee(-n))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getWeights=function(){return De(this,void 0,void 0,function(){return Me(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()]]}})})},e.prototype.setWeights=function(n){return De(this,void 0,void 0,function(){return Me(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:if((n=r.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(n,r){return new n(r.learningRate)},e.className="SGD",e}($u);zu(mz);var Ppe=function(t){function e(n,r,a){a===void 0&&(a=!1);var i=t.call(this,n)||this;return i.learningRate=n,i.momentum=r,i.useNesterov=a,i.accumulations=[],i.m=Ee(i.momentum),i}return Aa(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=ee.registeredVariables[a];r.accumulations[i]==null&&(r.accumulations[i]={originalName:a+"/momentum",variable:Oe(function(){return ht(o).variable(!1)})});var u=r.accumulations[i].variable,c=Array.isArray(n)?n[i].tensor:n[a];c!=null&&Oe(function(){var l,h=r.m.mul(u).add(c);l=r.useNesterov?r.c.mul(c.add(h.mul(r.m))).add(o):r.c.mul(h).add(o),u.assign(h),o.assign(l)})}),this.incrementIterations()},e.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&yr(this.accumulations.map(function(n){return n.variable}))},e.prototype.setMomentum=function(n){this.momentum=n},e.prototype.getWeights=function(){return De(this,void 0,void 0,function(){return Me(this,function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulations.map(function(r){return{name:r.originalName,tensor:r.variable}}))]}})})},e.prototype.setWeights=function(n){return De(this,void 0,void 0,function(){return Me(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulations=n.map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(n,r){return new n(r.learningRate,r.momentum,r.useNesterov)},e.className="Momentum",e}(mz);zu(Ppe);var Npe=function(t){function e(n,r,a,i,o){r===void 0&&(r=.9),a===void 0&&(a=0),i===void 0&&(i=null),o===void 0&&(o=!1);var u=t.call(this)||this;if(u.learningRate=n,u.decay=r,u.momentum=a,u.epsilon=i,u.accumulatedMeanSquares=[],u.accumulatedMoments=[],u.accumulatedMeanGrads=[],u.centered=o,i==null&&(u.epsilon=ee.backend.epsilon()),n==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return u}return Aa(e,t),e.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map(function(a){return a.name}):Object.keys(n)).forEach(function(a,i){var o=ee.registeredVariables[a];r.accumulatedMeanSquares[i]==null&&(r.accumulatedMeanSquares[i]={originalName:a+"/rms",variable:Oe(function(){return ht(o).variable(!1)})}),r.accumulatedMoments[i]==null&&(r.accumulatedMoments[i]={originalName:a+"/momentum",variable:Oe(function(){return ht(o).variable(!1)})}),r.accumulatedMeanGrads[i]==null&&r.centered&&(r.accumulatedMeanGrads[i]={originalName:a+"/mg",variable:Oe(function(){return ht(o).variable(!1)})});var u=Array.isArray(n)?n[i].tensor:n[a];if(u!=null){var c=r.accumulatedMeanSquares[i].variable,l=r.accumulatedMoments[i].variable;Oe(function(){var h=c.mul(r.decay).add(u.square().mul(1-r.decay));if(r.centered){var d=r.accumulatedMeanGrads[i].variable,v=d.mul(r.decay).add(u.mul(1-r.decay)),m=l.mul(r.momentum).add(u.mul(r.learningRate).div(h.sub(v.square().add(r.epsilon)).sqrt()));c.assign(h),d.assign(v),l.assign(m);var y=o.sub(m);o.assign(y)}else{var x=c.mul(r.decay).add(u.square().mul(1-r.decay));m=l.mul(r.momentum).add(u.mul(r.learningRate).div(x.add(r.epsilon).sqrt())),c.assign(x),l.assign(m),y=o.sub(m),o.assign(y)}})}}),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&yr(this.accumulatedMeanSquares.map(function(n){return n.variable})),this.accumulatedMeanGrads!=null&&this.centered&&yr(this.accumulatedMeanGrads.map(function(n){return n.variable})),this.accumulatedMoments!=null&&yr(this.accumulatedMoments.map(function(n){return n.variable}))},e.prototype.getWeights=function(){return De(this,void 0,void 0,function(){var n;return Me(this,function(r){switch(r.label){case 0:return n=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&n.push.apply(n,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map(function(a){return{name:a.originalName,tensor:a.variable}}))]}})})},e.prototype.setWeights=function(n){return De(this,void 0,void 0,function(){var r;return Me(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(n)];case 1:return n=a.sent(),r=this.centered?n.length/3:n.length/2,this.accumulatedMeanSquares=n.slice(0,r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.accumulatedMoments=n.slice(r,2*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=n.slice(2*r,3*r).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),[2]}})})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(n,r){return new n(r.learningRate,r.decay,r.momentum,r.epsilon,r.centered)},e.className="RMSProp",e}($u);zu(Npe);qt.prototype.squaredDifference=function(t){return Mq(this,t)},se=ipe;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TS=function(t,e){return TS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},TS(t,e)};function Qe(t,e){TS(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Kn=function(){return Kn=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Kn.apply(this,arguments)};function Ne(t,e,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(h){try{l(r.next(h))}catch(d){o(d)}}function c(h){try{l(r.throw(h))}catch(d){o(d)}}function l(h){h.done?i(h.value):a(h.value).then(u,c)}l((r=r.apply(t,[])).next())})}function ke(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(l){return function(h){return c([l,h])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=l[0]&2?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,a=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(h){l=[6,h],a=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function wf(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,u=i.length;o<u;o++,a++)r[a]=i[o];return r}var rc=function(){function t(e,n){if(!Eu(e)||!Eu(n))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:n}));this._width=e,this._height=n}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.reverse=function(){return new t(1/this.width,1/this.height)},t}();function hg(t,e){return t instanceof qt&&t.shape.length===e}function kpe(t){return hg(t,2)}function dg(t){return hg(t,3)}function Ro(t){return hg(t,4)}function Ipe(t){return t%1!==0}function sB(t){return t%2===0}function Bpe(t,e){e===void 0&&(e=2);var n=Math.pow(10,e);return Math.floor(t*n)/n}function cB(t){return t&&t.width&&t.height}function Lpe(t,e){var n=t.width,r=t.height,a=e/Math.max(r,n);return new rc(Math.round(n*a),Math.round(r*a))}function _A(t){return t.reduce(function(e,n){return e.add(n)},new mt(0,0)).div(new mt(t.length,t.length))}function hh(t,e,n){return Array(t).fill(0).map(function(r,a){return e+a*n})}function Eu(t){return!!t&&t!==1/0&&t!==-1/0&&!isNaN(t)||t===0}function lB(t){return Eu(t)&&0<=t&&t<=1}var mt=function(){function t(e,n){this._x=e,this._y=n}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.mul=function(e){return new t(this.x*e.x,this.y*e.y)},t.prototype.div=function(e){return new t(this.x/e.x,this.y/e.y)},t.prototype.abs=function(){return new t(Math.abs(this.x),Math.abs(this.y))},t.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y))},t}(),Mo=function(){function t(e,n){n===void 0&&(n=!0);var r=e||{},a=[r.left,r.top,r.right,r.bottom].every(Eu),i=[r.x,r.y,r.width,r.height].every(Eu);if(!i&&!a)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var o=i?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],u=o[0],c=o[1],l=o[2],h=o[3];t.assertIsValidBox({x:u,y:c,width:l,height:h},"Box.constructor",n),this._x=u,this._y=c,this._width=l,this._height=h}return t.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(Eu)},t.assertIsValidBox=function(e,n,r){if(r===void 0&&(r=!1),!t.isRect(e))throw new Error(n+" - invalid box: "+JSON.stringify(e)+", expected object with properties x, y, width, height");if(!r&&(e.width<0||e.height<0))throw new Error(n+" - width ("+e.width+") and height ("+e.height+") must be positive numbers")},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeft",{get:function(){return new mt(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRight",{get:function(){return new mt(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeft",{get:function(){return new mt(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRight",{get:function(){return new mt(this.right,this.bottom)},enumerable:!0,configurable:!0}),t.prototype.round=function(){var e=[this.x,this.y,this.width,this.height].map(function(o){return Math.round(o)}),n=e[0],r=e[1],a=e[2],i=e[3];return new t({x:n,y:r,width:a,height:i})},t.prototype.floor=function(){var e=[this.x,this.y,this.width,this.height].map(function(o){return Math.floor(o)}),n=e[0],r=e[1],a=e[2],i=e[3];return new t({x:n,y:r,width:a,height:i})},t.prototype.toSquare=function(){var e=this,n=e.x,r=e.y,a=e.width,i=e.height,o=Math.abs(a-i);return a<i&&(n-=o/2,a+=o),i<a&&(r-=o/2,i+=o),new t({x:n,y:r,width:a,height:i})},t.prototype.rescale=function(e){var n=cB(e)?e.width:e,r=cB(e)?e.height:e;return new t({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},t.prototype.pad=function(e,n){var r=[this.x-e/2,this.y-n/2,this.width+e,this.height+n],a=r[0],i=r[1],o=r[2],u=r[3];return new t({x:a,y:i,width:o,height:u})},t.prototype.clipAtImageBorders=function(e,n){var r=this,a=r.x,i=r.y,o=r.right,u=r.bottom,c=Math.max(a,0),l=Math.max(i,0),h=o-c,d=u-l,v=Math.min(h,e-c),m=Math.min(d,n-l);return new t({x:c,y:l,width:v,height:m}).floor()},t.prototype.shift=function(e,n){var r=this,a=r.width,i=r.height,o=this.x+e,u=this.y+n;return new t({x:o,y:u,width:a,height:i})},t.prototype.padAtBorders=function(e,n){var r=this.width+1,a=this.height+1,i=1,o=1,u=r,c=a,l=this.left,h=this.top,d=this.right,v=this.bottom;return d>n&&(u=-d+n+r,d=n),v>e&&(c=-v+e+a,v=e),l<1&&(c=2-l,l=1),h<1&&(c=2-h,h=1),{dy:o,edy:c,dx:i,edx:u,y:h,ey:v,x:l,ex:d,w:r,h:a}},t.prototype.calibrate=function(e){return new t({left:this.left+e.left*this.width,top:this.top+e.top*this.height,right:this.right+e.right*this.width,bottom:this.bottom+e.bottom*this.height}).toSquare().round()},t}(),pg=function(t){Qe(e,t);function e(n,r,a,i,o){return o===void 0&&(o=!1),t.call(this,{left:n,top:r,right:a,bottom:i},o)||this}return e}(Mo),gz=function(){function t(e,n,r,a,i){this._imageDims=new rc(i.width,i.height),this._score=e,this._classScore=n,this._className=r,this._box=new Mo(a).rescale(this._imageDims)}return Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeBox",{get:function(){return new Mo(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),t.prototype.forSize=function(e,n){return new t(this.score,this.classScore,this.className,this.relativeBox,{width:e,height:n})},t}(),ei=function(t){Qe(e,t);function e(n,r,a){return t.call(this,n,n,"",r,a)||this}return e.prototype.forSize=function(n,r){var a=t.prototype.forSize.call(this,n,r),i=a.score,o=a.relativeBox,u=a.imageDims;return new e(i,o,u)},e}(gz);function jpe(t,e,n){n===void 0&&(n=!0);var r=Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left)),a=Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top)),i=r*a;return n?i/(t.area+e.area-i):i/Math.min(t.area,e.area)}function Fpe(t){var e=t.map(function(u){return u.x}),n=t.map(function(u){return u.y}),r=e.reduce(function(u,c){return c<u?c:u},1/0),a=n.reduce(function(u,c){return c<u?c:u},1/0),i=e.reduce(function(u,c){return u<c?c:u},0),o=n.reduce(function(u,c){return u<c?c:u},0);return new pg(r,a,i,o)}function dh(t,e,n,r){r===void 0&&(r=!0);for(var a=e.map(function(u,c){return{score:u,boxIndex:c}}).sort(function(u,c){return u.score-c.score}).map(function(u){return u.boxIndex}),i=[],o=function(){var u=a.pop();i.push(u);for(var c=a,l=[],h=0;h<c.length;h++){var d=c[h],v=t[u],m=t[d];l.push(jpe(v,m,r))}a=a.filter(function(y,x){return l[x]<=n})};a.length>0;)o();return i}function Bh(t,e){return Oe(function(){var n=e[0],r=e[1],a=e[2],i=Wa(wf(t.shape.slice(0,3),[1]),n),o=Wa(wf(t.shape.slice(0,3),[1]),r),u=Wa(wf(t.shape.slice(0,3),[1]),a),c=vn([i,o,u],3);return yn(t,c)})}function Upe(t,e){return e===void 0&&(e=!1),Oe(function(){var n=t.shape.slice(1),r=n[0],a=n[1];if(r===a)return t;var i=Math.abs(r-a),o=Math.round(i*(e?.5:1)),u=r>a?2:1,c=function(m){var y=t.shape.slice();return y[u]=m,Wa(y,0)},l=c(o),h=i-l.shape[u],d=e&&h?c(h):null,v=[d,t,l].filter(function(m){return!!m}).map(function(m){return m.toFloat()});return vn(v,u)})}function y_(t){return 1/(1+Math.exp(-t))}var SA=function(t){Qe(e,t);function e(n,r,a,i,o){return o===void 0&&(o=!1),t.call(this,{x:n,y:r,width:a,height:i},o)||this}return e}(Mo),qpe=.5,zpe=.43,$pe=.45,em=function(){function t(e,n,r){r===void 0&&(r=new mt(0,0));var a=n.width,i=n.height;this._imgDims=new rc(a,i),this._shift=r,this._positions=e.map(function(o){return o.mul(new mt(a,i)).add(r)})}return Object.defineProperty(t.prototype,"shift",{get:function(){return new mt(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map(function(n){return n.sub(e._shift).div(new mt(e.imageWidth,e.imageHeight))})},enumerable:!0,configurable:!0}),t.prototype.forSize=function(e,n){return new this.constructor(this.relativePositions,{width:e,height:n})},t.prototype.shiftBy=function(e,n){return new this.constructor(this.relativePositions,this._imgDims,new mt(e,n))},t.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},t.prototype.align=function(e,n){if(n===void 0&&(n={}),e){var r=e instanceof ei?e.box.floor():new Mo(e);return this.shiftBy(r.x,r.y).align(null,n)}var a=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},n),i=a.useDlibAlignment,o=a.minBoxPadding;return i?this.alignDlib():this.alignMinBbox(o)},t.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),n=e[0],r=e[1],a=e[2],i=function(d){return a.sub(d).magnitude()},o=(i(n)+i(r))/2,u=Math.floor(o/$pe),c=_A(e),l=Math.floor(Math.max(0,c.x-qpe*u)),h=Math.floor(Math.max(0,c.y-zpe*u));return new SA(l,h,Math.min(u,this.imageWidth+l),Math.min(u,this.imageHeight+h))},t.prototype.alignMinBbox=function(e){var n=Fpe(this.positions);return n.pad(n.width*e,n.height*e)},t.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},t}(),Wpe=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getRefPointsForAlignment=function(){var n=this.positions;return[n[0],n[1],_A([n[3],n[4]])]},e}(em),Hpe=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getJawOutline=function(){return this.positions.slice(0,17)},e.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},e.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},e.prototype.getNose=function(){return this.positions.slice(27,36)},e.prototype.getLeftEye=function(){return this.positions.slice(36,42)},e.prototype.getRightEye=function(){return this.positions.slice(42,48)},e.prototype.getMouth=function(){return this.positions.slice(48,68)},e.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(_A)},e}(em),fB=function(){function t(e,n){this._label=e,this._distance=n}return Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return e===void 0&&(e=!0),""+this.label+(e?" ("+Bpe(this.distance)+")":"")},t}(),hB=function(t){Qe(e,t);function e(n,r){var a=t.call(this,n)||this;return a._label=r,a}return e.assertIsValidLabeledBox=function(n,r){if(Mo.assertIsValidBox(n,r),!Eu(n.label))throw new Error(r+" - expected property label ("+n.label+") to be a number")},Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),e}(Mo),xp=function(){function t(e,n){if(typeof e!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(n)||n.some(function(r){return!(r instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=n}return Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(e){return Array.from(e)})}},t.fromJSON=function(e){var n=e.descriptors.map(function(r){return new Float32Array(r)});return new t(e.label,n)},t}();(function(t){Qe(e,t);function e(n,r,a,i){var o=t.call(this,n,r)||this;return o._score=a,o._classScore=i,o}return e.assertIsValidPredictedBox=function(n,r){if(hB.assertIsValidLabeledBox(n,r),!lB(n.score)||!lB(n.classScore))throw new Error(r+" - expected properties score ("+n.score+") and ("+n.classScore+") to be a number between [0, 1]")},Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),e})(hB);function Vpe(t){return t.detection instanceof ei}function EA(t,e){var n={detection:e};return Object.assign({},t,n)}function yz(){var t=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},e=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:t,readFile:e}}function bz(t){var e="";if(!t)try{t=require("fs")}catch(r){e=r.toString()}var n=t?function(r){return new Promise(function(a,i){t.readFile(r,function(o,u){return o?i(o):a(u)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+e)};return{readFile:n}}function xz(){var t=global.Canvas||global.HTMLCanvasElement,e=global.Image||global.HTMLImageElement,n=function(){if(t)return new t;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},r=function(){if(e)return new e;throw new Error("createImageElement - missing Image implementation for nodejs environment")},a=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},i=bz();return Kn({Canvas:t||function(){function o(){}return o}(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||function(){function o(){}return o}(),Image:e||function(){function o(){}return o}(),ImageData:global.ImageData||function(){function o(){}return o}(),Video:global.HTMLVideoElement||function(){function o(){}return o}(),createCanvasElement:n,createImageElement:r,fetch:a},i)}function wz(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function _z(){return typeof global=="object"&&typeof require=="function"&&typeof e6<"u"&&typeof process<"u"&&!!process.version}var dn;function Gpe(){if(!dn)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return dn}function CS(t){dn=t}function AA(){wz()&&CS(yz()),_z()&&CS(xz())}function Kpe(t){if(dn||AA(),!dn)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var e=t.Canvas,n=e===void 0?dn.Canvas:e,r=t.Image,a=r===void 0?dn.Image:r;dn.Canvas=n,dn.Image=a,dn.createCanvasElement=t.createCanvasElement||function(){return new n},dn.createImageElement=t.createImageElement||function(){return new a},dn.ImageData=t.ImageData||dn.ImageData,dn.Video=t.Video||dn.Video,dn.fetch=t.fetch||dn.fetch,dn.readFile=t.readFile||dn.readFile}var Un={getEnv:Gpe,setEnv:CS,initialize:AA,createBrowserEnv:yz,createFileSystem:bz,createNodejsEnv:xz,monkeyPatch:Kpe,isBrowser:wz,isNodejs:_z};AA();function Sz(t){return!Un.isNodejs()&&typeof t=="string"?document.getElementById(t):t}function Nu(t){var e=Un.getEnv(),n=e.Canvas,r=e.CanvasRenderingContext2D;if(t instanceof r)return t;var a=Sz(t);if(!(a instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var i=a.getContext("2d");if(!i)throw new Error("resolveContext2d - canvas 2d context is null");return i}var dB;(function(t){t.TOP_LEFT="TOP_LEFT",t.TOP_RIGHT="TOP_RIGHT",t.BOTTOM_LEFT="BOTTOM_LEFT",t.BOTTOM_RIGHT="BOTTOM_RIGHT"})(dB||(dB={}));function Ez(t){var e=Un.getEnv(),n=e.Image,r=e.Video;return t instanceof n&&t.complete||t instanceof r&&t.readyState>=3}function Xpe(t){return new Promise(function(e,n){if(t instanceof Un.getEnv().Canvas||Ez(t))return e();function r(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",r),i.currentTarget.removeEventListener("error",a),e(i))}function a(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",r),i.currentTarget.removeEventListener("error",a),n(i))}t.addEventListener("load",r),t.addEventListener("error",a)})}function Ype(t){return new Promise(function(e,n){if(!(t instanceof Blob))return n("bufferToImage - expected buf to be of type: Blob");var r=new FileReader;r.onload=function(){if(typeof r.result!="string")return n("bufferToImage - expected reader.result to be a string, in onload");var a=Un.getEnv().createImageElement();a.onload=function(){return e(a)},a.onerror=n,a.src=r.result},r.onerror=n,r.readAsDataURL(t)})}function Az(t){var e=Un.getEnv(),n=e.Image,r=e.Video;return t instanceof n?new rc(t.naturalWidth,t.naturalHeight):t instanceof r?new rc(t.videoWidth,t.videoHeight):new rc(t.width,t.height)}function vg(t){var e=t.width,n=t.height,r=Un.getEnv().createCanvasElement,a=r();return a.width=e,a.height=n,a}function OA(t,e){var n=Un.getEnv().ImageData;if(!(t instanceof n)&&!Ez(t))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=Az(t),a=r.width,i=r.height,o=vg({width:a,height:i});return t instanceof n?Nu(o).putImageData(t,0,0):Nu(o).drawImage(t,0,0,a,i),o}function Qpe(t,e){return Ne(this,void 0,void 0,function(){var n,r,a,i,o,u;return ke(this,function(c){switch(c.label){case 0:return n=Un.getEnv().createCanvasElement(),r=t.shape.slice(Ro(t)?1:0),a=r[0],i=r[1],o=r[2],u=Oe(function(){return t.as3D(a,i,o).toInt()}),[4,wA.toPixels(u,n)];case 1:return c.sent(),u.dispose(),[2,n]}})})}function pB(t){var e=Un.getEnv(),n=e.Image,r=e.Canvas,a=e.Video;return t instanceof n||t instanceof r||t instanceof a}function Zpe(t,e,n){n===void 0&&(n=!1);var r=Un.getEnv(),a=r.Image,i=r.Canvas;if(!(t instanceof a||t instanceof i))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var o=Az(t),u=e/Math.max(o.height,o.width),c=u*o.width,l=u*o.height,h=vg({width:e,height:e}),d=t instanceof i?t:OA(t),v=Math.abs(c-l)/2,m=n&&c<l?v:0,y=n&&l<c?v:0;return Nu(h).drawImage(d,m,y,c,l),h}var tm=function(){function t(e,n){var r=this;if(n===void 0&&(n=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=n,this._batchSize=e.length,e.forEach(function(a,i){if(dg(a)){r._imageTensors[i]=a,r._inputDimensions[i]=a.shape;return}if(Ro(a)){var o=a.shape[0];if(o!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+o+" passed, but not supported in input array");r._imageTensors[i]=a,r._inputDimensions[i]=a.shape.slice(1);return}var u=a instanceof Un.getEnv().Canvas?a:OA(a);r._canvases[i]=u,r._inputDimensions[i]=[u.height,u.width,3]})}return Object.defineProperty(t.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reshapedInputDimensions",{get:function(){var e=this;return hh(this.batchSize,0,1).map(function(n,r){return e.getReshapedInputDimensions(r)})},enumerable:!0,configurable:!0}),t.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},t.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},t.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},t.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},t.prototype.getReshapedInputDimensions=function(e){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var n=this.getInputWidth(e),r=this.getInputHeight(e);return Lpe({width:n,height:r},this.inputSize)},t.prototype.toBatchTensor=function(e,n){var r=this;return n===void 0&&(n=!0),this._inputSize=e,Oe(function(){var a=hh(r.batchSize,0,1).map(function(o){var u=r.getInput(o);if(u instanceof qt){var c=Ro(u)?u:u.expandDims();return c=Upe(c,n),(c.shape[1]!==e||c.shape[2]!==e)&&(c=vA.resizeBilinear(c,[e,e])),c.as3D(e,e,3)}if(u instanceof Un.getEnv().Canvas)return wA.fromPixels(Zpe(u,e,n));throw new Error("toBatchTensor - at batchIdx "+o+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+u)}),i=Fr(a.map(function(o){return o.toFloat()})).as4D(r.batchSize,e,e,3);return i})},t}();function Dn(t){return Ne(this,void 0,void 0,function(){var e,n,r;return ke(this,function(a){switch(a.label){case 0:if(t instanceof tm)return[2,t];if(e=Array.isArray(t)?t:[t],!e.length)throw new Error("toNetInput - empty array passed as input");return n=function(i){return Array.isArray(t)?" at input index "+i+":":""},r=e.map(Sz),r.forEach(function(i,o){if(!pB(i)&&!dg(i)&&!Ro(i))throw typeof e[o]=="string"?new Error("toNetInput -"+n(o)+" string passed, but could not resolve HTMLElement for element id "+e[o]):new Error("toNetInput -"+n(o)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(Ro(i)){var u=i.shape[0];if(u!==1)throw new Error("toNetInput -"+n(o)+" tf.Tensor4D with batchSize "+u+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(i){return pB(i)&&Xpe(i)}))];case 1:return a.sent(),[2,new tm(r,Array.isArray(t))]}})})}function TA(t,e){return Ne(this,void 0,void 0,function(){var n,r,a,i,o,u,c;return ke(this,function(l){switch(l.label){case 0:return n=Un.getEnv().Canvas,r=t,t instanceof n?[3,5]:[4,Dn(t)];case 1:if(a=l.sent(),a.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return i=a.getInput(0),i instanceof n?(o=i,[3,4]):[3,2];case 2:return[4,Qpe(i)];case 3:o=l.sent(),l.label=4;case 4:r=o,l.label=5;case 5:return u=Nu(r),c=e.map(function(h){return h instanceof ei?h.forSize(r.width,r.height).box.floor():h}).map(function(h){return h.clipAtImageBorders(r.width,r.height)}),[2,c.map(function(h){var d=h.x,v=h.y,m=h.width,y=h.height,x=vg({width:m,height:y});return Nu(x).putImageData(u.getImageData(d,v,m,y),0,0),x})]}})})}function CA(t,e){return Ne(this,void 0,void 0,function(){return ke(this,function(n){if(!dg(t)&&!Ro(t))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(Ro(t)&&t.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,Oe(function(){var r=t.shape.slice(Ro(t)?1:0),a=r[0],i=r[1],o=r[2],u=e.map(function(l){return l instanceof ei?l.forSize(i,a).box:l}).map(function(l){return l.clipAtImageBorders(i,a)}),c=u.map(function(l){var h=l.x,d=l.y,v=l.width,m=l.height;return Zq(t.as3D(a,i,o),[d,h,0],[m,v,o])});return c})]})})}function Oz(t,e){return Ne(this,void 0,void 0,function(){var n,r;return ke(this,function(a){switch(a.label){case 0:return n=Un.getEnv().fetch,[4,n(t,e)];case 1:if(r=a.sent(),!(r.status<400))throw new Error("failed to fetch: ("+r.status+") "+r.statusText+", from url: "+r.url);return[2,r]}})})}function Jpe(t){return Ne(this,void 0,void 0,function(){var e,n;return ke(this,function(r){switch(r.label){case 0:return[4,Oz(t)];case 1:return e=r.sent(),[4,e.blob()];case 2:if(n=r.sent(),!n.type.startsWith("image/"))throw new Error("fetchImage - expected blob type to be of type image/*, instead have: "+n.type+", for url: "+e.url);return[2,Ype(n)]}})})}function eve(t){return Ne(this,void 0,void 0,function(){return ke(this,function(e){switch(e.label){case 0:return[4,Oz(t)];case 1:return[2,e.sent().json()]}})})}function Tz(t,e){var n=e+"-weights_manifest.json";if(!t)return{modelBaseUri:"",manifestUri:n};if(t==="/")return{modelBaseUri:"/",manifestUri:"/"+n};var r=t.startsWith("http://")?"http://":t.startsWith("https://")?"https://":"";t=t.replace(r,"");var a=t.split("/").filter(function(u){return u}),i=t.endsWith(".json")?a[a.length-1]:n,o=r+(t.endsWith(".json")?a.slice(0,a.length-1):a).join("/");return o=t.startsWith("/")?"/"+o:o,{modelBaseUri:o,manifestUri:o==="/"?"/"+i:o+"/"+i}}function tve(t,e){return Ne(this,void 0,void 0,function(){var n,r,a,i;return ke(this,function(o){switch(o.label){case 0:return n=Tz(t,e),r=n.manifestUri,a=n.modelBaseUri,[4,eve(r)];case 1:return i=o.sent(),[2,vz.loadWeights(i,a)]}})})}var ji=function(){function t(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),t.prototype.getParamFromPath=function(e){var n=this.traversePropertyPath(e),r=n.obj,a=n.objProp;return r[a]},t.prototype.reassignParamFromPath=function(e,n){var r=this.traversePropertyPath(e),a=r.obj,i=r.objProp;a[i].dispose(),a[i]=n},t.prototype.getParamList=function(){var e=this;return this._paramMappings.map(function(n){var r=n.paramPath;return{path:r,tensor:e.getParamFromPath(r)}})},t.prototype.getTrainableParams=function(){return this.getParamList().filter(function(e){return e.tensor instanceof Dc})},t.prototype.getFrozenParams=function(){return this.getParamList().filter(function(e){return!(e.tensor instanceof Dc)})},t.prototype.variable=function(){var e=this;this.getFrozenParams().forEach(function(n){var r=n.path,a=n.tensor;e.reassignParamFromPath(r,a.variable())})},t.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach(function(n){var r=n.path,a=n.tensor,i=Fn(a.dataSync());a.dispose(),e.reassignParamFromPath(r,i)})},t.prototype.dispose=function(e){e===void 0&&(e=!0),this.getParamList().forEach(function(n){if(e&&n.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+n.path);n.tensor.dispose()}),this._params=void 0},t.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(e){var n=e.tensor;return Array.from(n.dataSync())}).reduce(function(e,n){return e.concat(n)}))},t.prototype.load=function(e){return Ne(this,void 0,void 0,function(){return ke(this,function(n){switch(n.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return n.sent(),[2]}})})},t.prototype.loadFromUri=function(e){return Ne(this,void 0,void 0,function(){var n;return ke(this,function(r){switch(r.label){case 0:if(e&&typeof e!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,tve(e,this.getDefaultModelName())];case 1:return n=r.sent(),this.loadFromWeightMap(n),[2]}})})},t.prototype.loadFromDisk=function(e){return Ne(this,void 0,void 0,function(){var n,r,a,i,o,u,c,l,h,d;return ke(this,function(v){switch(v.label){case 0:if(e&&typeof e!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return n=Un.getEnv().readFile,r=Tz(e,this.getDefaultModelName()),a=r.manifestUri,i=r.modelBaseUri,o=function(m){return Promise.all(m.map(function(y){return n(y).then(function(x){return x.buffer})}))},u=vz.weightsLoaderFactory(o),h=(l=JSON).parse,[4,n(a)];case 1:return c=h.apply(l,[v.sent().toString()]),[4,u(c,i)];case 2:return d=v.sent(),this.loadFromWeightMap(d),[2]}})})},t.prototype.loadFromWeightMap=function(e){var n=this.extractParamsFromWeigthMap(e),r=n.paramMappings,a=n.params;this._paramMappings=r,this._params=a},t.prototype.extractWeights=function(e){var n=this.extractParams(e),r=n.paramMappings,a=n.params;this._paramMappings=r,this._params=a},t.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var n=e.split("/").reduce(function(i,o){if(!i.nextObj.hasOwnProperty(o))throw new Error("traversePropertyPath - object does not have property "+o+", for path "+e);return{obj:i.nextObj,objProp:o,nextObj:i.nextObj[o]}},{nextObj:this.params}),r=n.obj,a=n.objProp;if(!r||!a||!(r[a]instanceof qt))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:r,objProp:a}},t}();function Br(t,e,n){return Oe(function(){var r=lA(t,e.depthwise_filter,e.pointwise_filter,n,"same");return r=at(r,e.bias),r})}function b_(t,e,n){return n===void 0&&(n=!1),Oe(function(){var r=zt(n?at(ua(t,e.conv0.filters,[2,2],"same"),e.conv0.bias):Br(t,e.conv0,[2,2])),a=Br(r,e.conv1,[1,1]),i=zt(at(r,a)),o=Br(i,e.conv2,[1,1]);return zt(at(r,at(a,o)))})}function wp(t,e,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!0),Oe(function(){var a=zt(n?at(ua(t,e.conv0.filters,r?[2,2]:[1,1],"same"),e.conv0.bias):Br(t,e.conv0,r?[2,2]:[1,1])),i=Br(a,e.conv1,[1,1]),o=zt(at(a,i)),u=Br(o,e.conv2,[1,1]),c=zt(at(a,at(i,u))),l=Br(c,e.conv3,[1,1]);return zt(at(a,at(i,at(u,l))))})}function _a(t,e,n,r){return n===void 0&&(n="same"),r===void 0&&(r=!1),Oe(function(){var a=at(ua(t,e.filters,[1,1],n),e.bias);return r?zt(a):a})}function Fi(t,e){Object.keys(t).forEach(function(n){e.some(function(r){return r.originalPath===n})||t[n].dispose()})}function mg(t,e){return function(n,r,a,i){var o=pr(t(n*r*a*a),[a,a,n,r]),u=on(t(r));return e.push({paramPath:i+"/filters"},{paramPath:i+"/bias"}),{filters:o,bias:u}}}function RA(t,e){return function(n,r,a){var i=To(t(n*r),[n,r]),o=on(t(r));return e.push({paramPath:a+"/weights"},{paramPath:a+"/bias"}),{weights:i,bias:o}}}var Cz=function(){function t(e,n,r){this.depthwise_filter=e,this.pointwise_filter=n,this.bias=r}return t}();function DA(t,e){return function(n,r,a){var i=pr(t(9*n),[3,3,n,1]),o=pr(t(n*r),[1,1,n,r]),u=on(t(r));return e.push({paramPath:a+"/depthwise_filter"},{paramPath:a+"/pointwise_filter"},{paramPath:a+"/bias"}),new Cz(i,o,u)}}function MA(t){return function(e){var n=t(e+"/depthwise_filter",4),r=t(e+"/pointwise_filter",4),a=t(e+"/bias",1);return new Cz(n,r,a)}}function Uo(t,e){return function(n,r,a){var i=t[n];if(!hg(i,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+i);return e.push({originalPath:n,paramPath:a||n}),i}}function Ui(t){var e=t;function n(a){var i=e.slice(0,a);return e=e.slice(a),i}function r(){return e}return{extractWeights:n,getRemainingWeights:r}}function Rz(t,e){var n=mg(t,e),r=DA(t,e);function a(o,u,c,l){l===void 0&&(l=!1);var h=l?n(o,u,3,c+"/conv0"):r(o,u,c+"/conv0"),d=r(u,u,c+"/conv1"),v=r(u,u,c+"/conv2");return{conv0:h,conv1:d,conv2:v}}function i(o,u,c,l){l===void 0&&(l=!1);var h=a(o,u,c,l),d=h.conv0,v=h.conv1,m=h.conv2,y=r(u,u,c+"/conv3");return{conv0:d,conv1:v,conv2:m,conv3:y}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:i}}function nve(t){var e=[],n=Ui(t),r=n.extractWeights,a=n.getRemainingWeights,i=Rz(r,e).extractDenseBlock4Params,o=i(3,32,"dense0",!0),u=i(32,64,"dense1"),c=i(64,128,"dense2"),l=i(128,256,"dense3");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:e,params:{dense0:o,dense1:u,dense2:c,dense3:l}}}function Dz(t){return function(e){var n=t(e+"/filters",4),r=t(e+"/bias",1);return{filters:n,bias:r}}}function Mz(t,e){var n=Uo(t,e),r=Dz(n),a=MA(n);function i(u,c){c===void 0&&(c=!1);var l=c?r(u+"/conv0"):a(u+"/conv0"),h=a(u+"/conv1"),d=a(u+"/conv2");return{conv0:l,conv1:h,conv2:d}}function o(u,c){c===void 0&&(c=!1);var l=c?r(u+"/conv0"):a(u+"/conv0"),h=a(u+"/conv1"),d=a(u+"/conv2"),v=a(u+"/conv3");return{conv0:l,conv1:h,conv2:d,conv3:v}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:o}}function rve(t){var e=[],n=Mz(t,e).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return Fi(t,e),{params:r,paramMappings:e}}var Pz=function(t){Qe(e,t);function e(){return t.call(this,"FaceFeatureExtractor")||this}return e.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceFeatureExtractor - load model before inference");return Oe(function(){var a=n.toBatchTensor(112,!0),i=[122.782,117.001,104.298],o=Bh(a,i).div(Ee(255)),u=wp(o,r.dense0,!0);return u=wp(u,r.dense1),u=wp(u,r.dense2),u=wp(u,r.dense3),u=kh(u,[7,7],[2,2],"valid"),u})},e.prototype.forward=function(n){return Ne(this,void 0,void 0,function(){var r;return ke(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Dn(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},e.prototype.extractParamsFromWeigthMap=function(n){return rve(n)},e.prototype.extractParams=function(n){return nve(n)},e}(ji);function Fa(t,e){return Oe(function(){return at(cg(t,e.weights),e.bias)})}function ave(t,e,n){var r=[],a=Ui(t),i=a.extractWeights,o=a.getRemainingWeights,u=RA(i,r),c=u(e,n,"fc");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:r,params:{fc:c}}}function ive(t){var e=[],n=Uo(t,e);function r(i){var o=n(i+"/weights",2),u=n(i+"/bias",1);return{weights:o,bias:u}}var a={fc:r("fc")};return Fi(t,e),{params:a,paramMappings:e}}function Nz(t){var e={},n={};return Object.keys(t).forEach(function(r){var a=r.startsWith("fc")?n:e;a[r]=t[r]}),{featureExtractorMap:e,classifierMap:n}}var kz=function(t){Qe(e,t);function e(n,r){var a=t.call(this,n)||this;return a._faceFeatureExtractor=r,a}return Object.defineProperty(e.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),e.prototype.runNet=function(n){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return Oe(function(){var i=n instanceof tm?r.faceFeatureExtractor.forwardInput(n):n;return Fa(i.as2D(i.shape[0],-1),a.fc)})},e.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),t.prototype.dispose.call(this,n)},e.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),a=r.params,i=r.paramMappings;this._params=a,this._paramMappings=i},e.prototype.extractClassifierParams=function(n){return ave(n,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},e.prototype.extractParamsFromWeigthMap=function(n){var r=Nz(n),a=r.featureExtractorMap,i=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),ive(i)},e.prototype.extractParams=function(n){var r=this.getClassifierChannelsIn(),a=this.getClassifierChannelsOut(),i=a*r+a,o=n.slice(0,n.length-i),u=n.slice(n.length-i);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(u)},e}(ji),vB=["neutral","happy","sad","angry","fearful","disgusted","surprised"],ove=function(){function t(e){var n=this;if(e.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);vB.forEach(function(r,a){n[r]=e[a]})}return t.prototype.asSortedArray=function(){var e=this;return vB.map(function(n){return{expression:n,probability:e[n]}}).sort(function(n,r){return r.probability-n.probability})},t}(),uve=function(t){Qe(e,t);function e(n){return n===void 0&&(n=new Pz),t.call(this,"FaceExpressionNet",n)||this}return e.prototype.forwardInput=function(n){var r=this;return Oe(function(){return Bi(r.runNet(n))})},e.prototype.forward=function(n){return Ne(this,void 0,void 0,function(){var r;return ke(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Dn(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.predictExpressions=function(n){return Ne(this,void 0,void 0,function(){var r,a,i,o,u=this;return ke(this,function(c){switch(c.label){case 0:return[4,Dn(n)];case 1:return r=c.sent(),[4,this.forwardInput(r)];case 2:return a=c.sent(),[4,Promise.all(mn(a).map(function(l){return Ne(u,void 0,void 0,function(){var h;return ke(this,function(d){switch(d.label){case 0:return[4,l.data()];case 1:return h=d.sent(),l.dispose(),[2,h]}})})}))];case 3:return i=c.sent(),a.dispose(),o=i.map(function(l){return new ove(l)}),[2,r.isBatchInput?o:o[0]]}})})},e.prototype.getDefaultModelName=function(){return"face_expression_model"},e.prototype.getClassifierChannelsIn=function(){return 256},e.prototype.getClassifierChannelsOut=function(){return 7},e}(kz);function Iz(t,e){var n={expressions:e};return Object.assign({},t,n)}function sve(t){return Vpe(t)&&t.landmarks instanceof em&&t.unshiftedLandmarks instanceof em&&t.alignedRect instanceof ei}function PA(t,e){var n=t.detection.box,r=e.shiftBy(n.x,n.y),a=r.align(),i=t.detection.imageDims,o=new ei(t.detection.score,a.rescale(i.reverse()),i),u={landmarks:r,unshiftedLandmarks:e,alignedRect:o};return Object.assign({},t,u)}function cve(t,e){var n=mg(t,e),r=DA(t,e);function a(o,u,c){var l=r(o,u,c+"/separable_conv0"),h=r(u,u,c+"/separable_conv1"),d=n(o,u,1,c+"/expansion_conv");return{separable_conv0:l,separable_conv1:h,expansion_conv:d}}function i(o,u){var c=r(o,o,u+"/separable_conv0"),l=r(o,o,u+"/separable_conv1"),h=r(o,o,u+"/separable_conv2");return{separable_conv0:c,separable_conv1:l,separable_conv2:h}}return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:a,extractMainBlockParams:i}}function lve(t,e){var n=[],r=Ui(t),a=r.extractWeights,i=r.getRemainingWeights,o=cve(a,n),u=o.extractConvParams,c=o.extractSeparableConvParams,l=o.extractReductionBlockParams,h=o.extractMainBlockParams,d=u(3,32,3,"entry_flow/conv_in"),v=l(32,64,"entry_flow/reduction_block_0"),m=l(64,128,"entry_flow/reduction_block_1"),y={conv_in:d,reduction_block_0:v,reduction_block_1:m},x={};hh(e,0,1).forEach(function(A){x["main_block_"+A]=h(128,"middle_flow/main_block_"+A)});var b=l(128,256,"exit_flow/reduction_block"),w=c(256,512,"exit_flow/separable_conv"),S={reduction_block:b,separable_conv:w};if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:n,params:{entry_flow:y,middle_flow:x,exit_flow:S}}}function fve(t,e){var n=Uo(t,e),r=Dz(n),a=MA(n);function i(u){var c=a(u+"/separable_conv0"),l=a(u+"/separable_conv1"),h=r(u+"/expansion_conv");return{separable_conv0:c,separable_conv1:l,expansion_conv:h}}function o(u){var c=a(u+"/separable_conv0"),l=a(u+"/separable_conv1"),h=a(u+"/separable_conv2");return{separable_conv0:c,separable_conv1:l,separable_conv2:h}}return{extractConvParams:r,extractSeparableConvParams:a,extractReductionBlockParams:i,extractMainBlockParams:o}}function hve(t,e){var n=[],r=fve(t,n),a=r.extractConvParams,i=r.extractSeparableConvParams,o=r.extractReductionBlockParams,u=r.extractMainBlockParams,c=a("entry_flow/conv_in"),l=o("entry_flow/reduction_block_0"),h=o("entry_flow/reduction_block_1"),d={conv_in:c,reduction_block_0:l,reduction_block_1:h},v={};hh(e,0,1).forEach(function(b){v["main_block_"+b]=u("middle_flow/main_block_"+b)});var m=o("exit_flow/reduction_block"),y=i("exit_flow/separable_conv"),x={reduction_block:m,separable_conv:y};return Fi(t,n),{params:{entry_flow:d,middle_flow:v,exit_flow:x},paramMappings:n}}function Bz(t,e,n){return at(ua(t,e.filters,n,"same"),e.bias)}function x_(t,e,n){n===void 0&&(n=!0);var r=n?zt(t):t;return r=Br(r,e.separable_conv0,[1,1]),r=Br(zt(r),e.separable_conv1,[1,1]),r=On(r,[3,3],[2,2],"same"),r=at(r,Bz(t,e.expansion_conv,[2,2])),r}function dve(t,e){var n=Br(zt(t),e.separable_conv0,[1,1]);return n=Br(zt(n),e.separable_conv1,[1,1]),n=Br(zt(n),e.separable_conv2,[1,1]),n=at(n,t),n}var pve=function(t){Qe(e,t);function e(n){var r=t.call(this,"TinyXception")||this;return r._numMainBlocks=n,r}return e.prototype.forwardInput=function(n){var r=this,a=this.params;if(!a)throw new Error("TinyXception - load model before inference");return Oe(function(){var i=n.toBatchTensor(112,!0),o=[122.782,117.001,104.298],u=Bh(i,o).div(Ee(256)),c=zt(Bz(u,a.entry_flow.conv_in,[2,2]));return c=x_(c,a.entry_flow.reduction_block_0,!1),c=x_(c,a.entry_flow.reduction_block_1),hh(r._numMainBlocks,0,1).forEach(function(l){c=dve(c,a.middle_flow["main_block_"+l])}),c=x_(c,a.exit_flow.reduction_block),c=zt(Br(c,a.exit_flow.separable_conv,[1,1])),c})},e.prototype.forward=function(n){return Ne(this,void 0,void 0,function(){var r;return ke(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Dn(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"tiny_xception_model"},e.prototype.extractParamsFromWeigthMap=function(n){return hve(n,this._numMainBlocks)},e.prototype.extractParams=function(n){return lve(n,this._numMainBlocks)},e}(ji);function vve(t){var e=[],n=Ui(t),r=n.extractWeights,a=n.getRemainingWeights,i=RA(r,e),o=i(512,1,"fc/age"),u=i(512,2,"fc/gender");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:e,params:{fc:{age:o,gender:u}}}}function mve(t){var e=[],n=Uo(t,e);function r(i){var o=n(i+"/weights",2),u=n(i+"/bias",1);return{weights:o,bias:u}}var a={fc:{age:r("fc/age"),gender:r("fc/gender")}};return Fi(t,e),{params:a,paramMappings:e}}var nm;(function(t){t.FEMALE="female",t.MALE="male"})(nm||(nm={}));var gve=function(t){Qe(e,t);function e(n){n===void 0&&(n=new pve(2));var r=t.call(this,"AgeGenderNet")||this;return r._faceFeatureExtractor=n,r}return Object.defineProperty(e.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),e.prototype.runNet=function(n){var r=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return Oe(function(){var i=n instanceof tm?r.faceFeatureExtractor.forwardInput(n):n,o=kh(i,[7,7],[2,2],"valid").as2D(i.shape[0],-1),u=Fa(o,a.fc.age).as1D(),c=Fa(o,a.fc.gender);return{age:u,gender:c}})},e.prototype.forwardInput=function(n){var r=this;return Oe(function(){var a=r.runNet(n),i=a.age,o=a.gender;return{age:i,gender:Bi(o)}})},e.prototype.forward=function(n){return Ne(this,void 0,void 0,function(){var r;return ke(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Dn(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.predictAgeAndGender=function(n){return Ne(this,void 0,void 0,function(){var r,a,i,o,u,c,l=this;return ke(this,function(h){switch(h.label){case 0:return[4,Dn(n)];case 1:return r=h.sent(),[4,this.forwardInput(r)];case 2:return a=h.sent(),i=mn(a.age),o=mn(a.gender),u=i.map(function(d,v){return{ageTensor:d,genderTensor:o[v]}}),[4,Promise.all(u.map(function(d){var v=d.ageTensor,m=d.genderTensor;return Ne(l,void 0,void 0,function(){var y,x,b,w,S;return ke(this,function(A){switch(A.label){case 0:return[4,v.data()];case 1:return y=A.sent()[0],[4,m.data()];case 2:return x=A.sent()[0],b=x>.5,w=b?nm.MALE:nm.FEMALE,S=b?x:1-x,v.dispose(),m.dispose(),[2,{age:y,gender:w,genderProbability:S}]}})})}))];case 3:return c=h.sent(),a.age.dispose(),a.gender.dispose(),[2,r.isBatchInput?c:c[0]]}})})},e.prototype.getDefaultModelName=function(){return"age_gender_model"},e.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),t.prototype.dispose.call(this,n)},e.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),a=r.params,i=r.paramMappings;this._params=a,this._paramMappings=i},e.prototype.extractClassifierParams=function(n){return vve(n)},e.prototype.extractParamsFromWeigthMap=function(n){var r=Nz(n),a=r.featureExtractorMap,i=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),mve(i)},e.prototype.extractParams=function(n){var r=1539,a=n.slice(0,n.length-r),i=n.slice(n.length-r);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(i)},e}(ji),Lz=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.postProcess=function(n,r,a){var i=a.map(function(u){var c=u.width,l=u.height,h=r/Math.max(l,c);return{width:c*h,height:l*h}}),o=i.length;return Oe(function(){var u=function(v,m){return Fr([Wa([68],v),Wa([68],m)],1).as2D(1,136).as1D()},c=function(v,m){var y=i[v],x=y.width,b=y.height;return m(x,b)?Math.abs(x-b)/2:0},l=function(v){return c(v,function(m,y){return m<y})},h=function(v){return c(v,function(m,y){return y<m})},d=n.mul(Wa([o,136],r)).sub(Fr(Array.from(Array(o),function(v,m){return u(l(m),h(m))}))).div(Fr(Array.from(Array(o),function(v,m){return u(i[m].width,i[m].height)})));return d})},e.prototype.forwardInput=function(n){var r=this;return Oe(function(){var a=r.runNet(n);return r.postProcess(a,n.inputSize,n.inputDimensions.map(function(i){var o=i[0],u=i[1];return{height:o,width:u}}))})},e.prototype.forward=function(n){return Ne(this,void 0,void 0,function(){var r;return ke(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Dn(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.detectLandmarks=function(n){return Ne(this,void 0,void 0,function(){var r,a,i,o=this;return ke(this,function(u){switch(u.label){case 0:return[4,Dn(n)];case 1:return r=u.sent(),a=Oe(function(){return mn(o.forwardInput(r))}),[4,Promise.all(a.map(function(c,l){return Ne(o,void 0,void 0,function(){var h,d,v,m,y;return ke(this,function(x){switch(x.label){case 0:return v=(d=Array).from,[4,c.data()];case 1:return h=v.apply(d,[x.sent()]),m=h.filter(function(b,w){return sB(w)}),y=h.filter(function(b,w){return!sB(w)}),[2,new Hpe(Array(68).fill(0).map(function(b,w){return new mt(m[w],y[w])}),{height:r.getInputHeight(l),width:r.getInputWidth(l)})]}})})}))];case 2:return i=u.sent(),a.forEach(function(c){return c.dispose()}),[2,r.isBatchInput?i:i[0]]}})})},e.prototype.getClassifierChannelsOut=function(){return 136},e}(kz),jz=function(t){Qe(e,t);function e(n){return n===void 0&&(n=new Pz),t.call(this,"FaceLandmark68Net",n)||this}return e.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},e.prototype.getClassifierChannelsIn=function(){return 256},e}(Lz);function yve(t){var e=[],n=Mz(t,e).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return Fi(t,e),{params:r,paramMappings:e}}function bve(t){var e=[],n=Ui(t),r=n.extractWeights,a=n.getRemainingWeights,i=Rz(r,e).extractDenseBlock3Params,o=i(3,32,"dense0",!0),u=i(32,64,"dense1"),c=i(64,128,"dense2");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:e,params:{dense0:o,dense1:u,dense2:c}}}var xve=function(t){Qe(e,t);function e(){return t.call(this,"TinyFaceFeatureExtractor")||this}return e.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("TinyFaceFeatureExtractor - load model before inference");return Oe(function(){var a=n.toBatchTensor(112,!0),i=[122.782,117.001,104.298],o=Bh(a,i).div(Ee(255)),u=b_(o,r.dense0,!0);return u=b_(u,r.dense1),u=b_(u,r.dense2),u=kh(u,[14,14],[2,2],"valid"),u})},e.prototype.forward=function(n){return Ne(this,void 0,void 0,function(){var r;return ke(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Dn(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},e.prototype.extractParamsFromWeigthMap=function(n){return yve(n)},e.prototype.extractParams=function(n){return bve(n)},e}(ji),wve=function(t){Qe(e,t);function e(n){return n===void 0&&(n=new xve),t.call(this,"FaceLandmark68TinyNet",n)||this}return e.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},e.prototype.getClassifierChannelsIn=function(){return 128},e}(Lz);(function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(jz);function _ve(t,e){return at(Jn(t,e.weights),e.biases)}function NA(t,e,n,r,a){a===void 0&&(a="same");var i=e.conv,o=i.filters,u=i.bias,c=ua(t,o,n,a);return c=at(c,u),c=_ve(c,e.scale),r?zt(c):c}function Sve(t,e){return NA(t,e,[1,1],!0)}function Fz(t,e){return NA(t,e,[1,1],!1)}function Uz(t,e){return NA(t,e,[2,2],!0,"valid")}function Eve(t,e){function n(u,c,l){var h=t(u),d=h.length/(c*l*l);if(Ipe(d))throw new Error("depth has to be an integer: "+d+", weights.length: "+h.length+", numFilters: "+c+", filterSize: "+l);return Oe(function(){return Do(pr(h,[c,d,l,l]),[2,3,1,0])})}function r(u,c,l,h){var d=n(u,c,l),v=on(t(c));return e.push({paramPath:h+"/filters"},{paramPath:h+"/bias"}),{filters:d,bias:v}}function a(u,c){var l=on(t(u)),h=on(t(u));return e.push({paramPath:c+"/weights"},{paramPath:c+"/biases"}),{weights:l,biases:h}}function i(u,c,l,h){var d=r(u,c,l,h+"/conv"),v=a(c,h+"/scale");return{conv:d,scale:v}}function o(u,c,l,h,d){d===void 0&&(d=!1);var v=i((d?.5:1)*u,c,l,h+"/conv1"),m=i(u,c,l,h+"/conv2");return{conv1:v,conv2:m}}return{extractConvLayerParams:i,extractResidualLayerParams:o}}function Ave(t){var e=Ui(t),n=e.extractWeights,r=e.getRemainingWeights,a=[],i=Eve(n,a),o=i.extractConvLayerParams,u=i.extractResidualLayerParams,c=o(4704,32,7,"conv32_down"),l=u(9216,32,3,"conv32_1"),h=u(9216,32,3,"conv32_2"),d=u(9216,32,3,"conv32_3"),v=u(36864,64,3,"conv64_down",!0),m=u(36864,64,3,"conv64_1"),y=u(36864,64,3,"conv64_2"),x=u(36864,64,3,"conv64_3"),b=u(147456,128,3,"conv128_down",!0),w=u(147456,128,3,"conv128_1"),S=u(147456,128,3,"conv128_2"),A=u(589824,256,3,"conv256_down",!0),O=u(589824,256,3,"conv256_1"),E=u(589824,256,3,"conv256_2"),C=u(589824,256,3,"conv256_down_out"),R=Oe(function(){return Do(To(n(256*128),[128,256]),[1,0])});if(a.push({paramPath:"fc"}),r().length!==0)throw new Error("weights remaing after extract: "+r().length);var D={conv32_down:c,conv32_1:l,conv32_2:h,conv32_3:d,conv64_down:v,conv64_1:m,conv64_2:y,conv64_3:x,conv128_down:b,conv128_1:w,conv128_2:S,conv256_down:A,conv256_1:O,conv256_2:E,conv256_down_out:C,fc:R};return{params:D,paramMappings:a}}function Ove(t,e){var n=Uo(t,e);function r(o){var u=n(o+"/scale/weights",1),c=n(o+"/scale/biases",1);return{weights:u,biases:c}}function a(o){var u=n(o+"/conv/filters",4),c=n(o+"/conv/bias",1),l=r(o);return{conv:{filters:u,bias:c},scale:l}}function i(o){return{conv1:a(o+"/conv1"),conv2:a(o+"/conv2")}}return{extractConvLayerParams:a,extractResidualLayerParams:i}}function Tve(t){var e=[],n=Ove(t,e),r=n.extractConvLayerParams,a=n.extractResidualLayerParams,i=r("conv32_down"),o=a("conv32_1"),u=a("conv32_2"),c=a("conv32_3"),l=a("conv64_down"),h=a("conv64_1"),d=a("conv64_2"),v=a("conv64_3"),m=a("conv128_down"),y=a("conv128_1"),x=a("conv128_2"),b=a("conv256_down"),w=a("conv256_1"),S=a("conv256_2"),A=a("conv256_down_out"),O=t.fc;if(e.push({originalPath:"fc",paramPath:"fc"}),!kpe(O))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+O);var E={conv32_down:i,conv32_1:o,conv32_2:u,conv32_3:c,conv64_down:l,conv64_1:h,conv64_2:d,conv64_3:v,conv128_down:m,conv128_1:y,conv128_2:x,conv256_down:b,conv256_1:w,conv256_2:S,conv256_down_out:A,fc:O};return Fi(t,e),{params:E,paramMappings:e}}function Na(t,e){var n=Sve(t,e.conv1);return n=Fz(n,e.conv2),n=at(n,t),n=zt(n),n}function _p(t,e){var n=Uz(t,e.conv1);n=Fz(n,e.conv2);var r=kh(t,2,2,"valid"),a=It(r.shape),i=r.shape[3]!==n.shape[3],o=r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2];if(o){var u=wf(n.shape);u[1]=1;var c=It(u);n=vn([n,c],1);var l=wf(n.shape);l[2]=1;var h=It(l);n=vn([n,h],2)}return r=i?vn([r,a],3):r,n=at(r,n),n=zt(n),n}var Cve=function(t){Qe(e,t);function e(){return t.call(this,"FaceRecognitionNet")||this}return e.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceRecognitionNet - load model before inference");return Oe(function(){var a=n.toBatchTensor(150,!0).toFloat(),i=[122.782,117.001,104.298],o=Bh(a,i).div(Ee(256)),u=Uz(o,r.conv32_down);u=On(u,3,2,"valid"),u=Na(u,r.conv32_1),u=Na(u,r.conv32_2),u=Na(u,r.conv32_3),u=_p(u,r.conv64_down),u=Na(u,r.conv64_1),u=Na(u,r.conv64_2),u=Na(u,r.conv64_3),u=_p(u,r.conv128_down),u=Na(u,r.conv128_1),u=Na(u,r.conv128_2),u=_p(u,r.conv256_down),u=Na(u,r.conv256_1),u=Na(u,r.conv256_2),u=_p(u,r.conv256_down_out);var c=u.mean([1,2]),l=cg(c,r.fc);return l})},e.prototype.forward=function(n){return Ne(this,void 0,void 0,function(){var r;return ke(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Dn(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.computeFaceDescriptor=function(n){return Ne(this,void 0,void 0,function(){var r,a,i,o=this;return ke(this,function(u){switch(u.label){case 0:return[4,Dn(n)];case 1:return r=u.sent(),a=Oe(function(){return mn(o.forwardInput(r))}),[4,Promise.all(a.map(function(c){return c.data()}))];case 2:return i=u.sent(),a.forEach(function(c){return c.dispose()}),[2,r.isBatchInput?i:i[0]]}})})},e.prototype.getDefaultModelName=function(){return"face_recognition_model"},e.prototype.extractParamsFromWeigthMap=function(n){return Tve(n)},e.prototype.extractParams=function(n){return Ave(n)},e}(ji);function qz(t,e){var n={descriptor:e};return Object.assign({},t,n)}function zz(t,e){var n={age:e};return Object.assign({},t,n)}function $z(t,e,n){var r={gender:e,genderProbability:n};return Object.assign({},t,r)}var Wz=function(){function t(e){var n=e===void 0?{}:e,r=n.minFaceSize,a=n.scaleFactor,i=n.maxNumScales,o=n.scoreThresholds,u=n.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=r||20,this._scaleFactor=a||.709,this._maxNumScales=i||10,this._scoreThresholds=o||[.6,.7,.7],this._scaleSteps=u,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(c){return typeof c!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(c){return typeof c!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(t.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),t}();function Rve(t,e){function n(c,l){var h=pr(t(9*c),[3,3,c,1]),d=on(t(c)),v=on(t(c)),m=on(t(c)),y=on(t(c));return e.push({paramPath:l+"/filters"},{paramPath:l+"/batch_norm_scale"},{paramPath:l+"/batch_norm_offset"},{paramPath:l+"/batch_norm_mean"},{paramPath:l+"/batch_norm_variance"}),{filters:h,batch_norm_scale:d,batch_norm_offset:v,batch_norm_mean:m,batch_norm_variance:y}}function r(c,l,h,d,v){var m=pr(t(c*l*h*h),[h,h,c,l]),y=on(t(l));return e.push({paramPath:d+"/filters"},{paramPath:d+"/"+(v?"batch_norm_offset":"bias")}),{filters:m,bias:y}}function a(c,l,h,d){var v=r(c,l,h,d,!0),m=v.filters,y=v.bias;return{filters:m,batch_norm_offset:y}}function i(c,l,h){var d=n(c,h+"/depthwise_conv"),v=a(c,l,1,h+"/pointwise_conv");return{depthwise_conv:d,pointwise_conv:v}}function o(){var c=a(3,32,3,"mobilenetv1/conv_0"),l=i(32,64,"mobilenetv1/conv_1"),h=i(64,128,"mobilenetv1/conv_2"),d=i(128,128,"mobilenetv1/conv_3"),v=i(128,256,"mobilenetv1/conv_4"),m=i(256,256,"mobilenetv1/conv_5"),y=i(256,512,"mobilenetv1/conv_6"),x=i(512,512,"mobilenetv1/conv_7"),b=i(512,512,"mobilenetv1/conv_8"),w=i(512,512,"mobilenetv1/conv_9"),S=i(512,512,"mobilenetv1/conv_10"),A=i(512,512,"mobilenetv1/conv_11"),O=i(512,1024,"mobilenetv1/conv_12"),E=i(1024,1024,"mobilenetv1/conv_13");return{conv_0:c,conv_1:l,conv_2:h,conv_3:d,conv_4:v,conv_5:m,conv_6:y,conv_7:x,conv_8:b,conv_9:w,conv_10:S,conv_11:A,conv_12:O,conv_13:E}}function u(){var c=a(1024,256,1,"prediction_layer/conv_0"),l=a(256,512,3,"prediction_layer/conv_1"),h=a(512,128,1,"prediction_layer/conv_2"),d=a(128,256,3,"prediction_layer/conv_3"),v=a(256,128,1,"prediction_layer/conv_4"),m=a(128,256,3,"prediction_layer/conv_5"),y=a(256,64,1,"prediction_layer/conv_6"),x=a(64,128,3,"prediction_layer/conv_7"),b=r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),w=r(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),S=r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),A=r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),O=r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),E=r(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),C=r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),R=r(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),D=r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),M=r(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),N=r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),k=r(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),I={box_encoding_predictor:b,class_predictor:w},q={box_encoding_predictor:S,class_predictor:A},W={box_encoding_predictor:O,class_predictor:E},$={box_encoding_predictor:C,class_predictor:R},j={box_encoding_predictor:D,class_predictor:M},U={box_encoding_predictor:N,class_predictor:k};return{conv_0:c,conv_1:l,conv_2:h,conv_3:d,conv_4:v,conv_5:m,conv_6:y,conv_7:x,box_predictor_0:I,box_predictor_1:q,box_predictor_2:W,box_predictor_3:$,box_predictor_4:j,box_predictor_5:U}}return{extractMobilenetV1Params:o,extractPredictionLayerParams:u}}function Dve(t){var e=[],n=Ui(t),r=n.extractWeights,a=n.getRemainingWeights,i=Rve(r,e),o=i.extractMobilenetV1Params,u=i.extractPredictionLayerParams,c=o(),l=u(),h=XE(r(5118*4),[1,5118,4]),d={extra_dim:h};if(e.push({paramPath:"output_layer/extra_dim"}),a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{params:{mobilenetv1:c,prediction_layer:l,output_layer:d},paramMappings:e}}function Mve(t,e){var n=Uo(t,e);function r(l,h,d){var v=n(l+"/Conv2d_"+h+"_pointwise/weights",4,d+"/filters"),m=n(l+"/Conv2d_"+h+"_pointwise/convolution_bn_offset",1,d+"/batch_norm_offset");return{filters:v,batch_norm_offset:m}}function a(l){var h="mobilenetv1/conv_"+l,d="MobilenetV1/Conv2d_"+l+"_depthwise",v=h+"/depthwise_conv",m=h+"/pointwise_conv",y=n(d+"/depthwise_weights",4,v+"/filters"),x=n(d+"/BatchNorm/gamma",1,v+"/batch_norm_scale"),b=n(d+"/BatchNorm/beta",1,v+"/batch_norm_offset"),w=n(d+"/BatchNorm/moving_mean",1,v+"/batch_norm_mean"),S=n(d+"/BatchNorm/moving_variance",1,v+"/batch_norm_variance");return{depthwise_conv:{filters:y,batch_norm_scale:x,batch_norm_offset:b,batch_norm_mean:w,batch_norm_variance:S},pointwise_conv:r("MobilenetV1",l,m)}}function i(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:a(1),conv_2:a(2),conv_3:a(3),conv_4:a(4),conv_5:a(5),conv_6:a(6),conv_7:a(7),conv_8:a(8),conv_9:a(9),conv_10:a(10),conv_11:a(11),conv_12:a(12),conv_13:a(13)}}function o(l,h){var d=n(l+"/weights",4,h+"/filters"),v=n(l+"/biases",1,h+"/bias");return{filters:d,bias:v}}function u(l){var h=o("Prediction/BoxPredictor_"+l+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+l+"/box_encoding_predictor"),d=o("Prediction/BoxPredictor_"+l+"/ClassPredictor","prediction_layer/box_predictor_"+l+"/class_predictor");return{box_encoding_predictor:h,class_predictor:d}}function c(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:u(0),box_predictor_1:u(1),box_predictor_2:u(2),box_predictor_3:u(3),box_predictor_4:u(4),box_predictor_5:u(5)}}return{extractMobilenetV1Params:i,extractPredictionLayerParams:c}}function Pve(t){var e=[],n=Mve(t,e),r=n.extractMobilenetV1Params,a=n.extractPredictionLayerParams,i=t["Output/extra_dim"];if(e.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!dg(i))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+i);var o={mobilenetv1:r(),prediction_layer:a(),output_layer:{extra_dim:i}};return Fi(t,e),{params:o,paramMappings:e}}function ka(t,e,n){return Oe(function(){var r=ua(t,e.filters,n,"same");return r=at(r,e.batch_norm_offset),oA(r,0,6)})}var Nve=.0010000000474974513;function kve(t,e,n){return Oe(function(){var r=sg(t,e.filters,n,"same");return r=Lq(r,e.batch_norm_mean,e.batch_norm_variance,e.batch_norm_offset,e.batch_norm_scale,Nve),oA(r,0,6)})}function Ive(t){return[2,4,6,12].some(function(e){return e===t})?[2,2]:[1,1]}function Bve(t,e){return Oe(function(){var n=null,r=ka(t,e.conv_0,[2,2]),a=[e.conv_1,e.conv_2,e.conv_3,e.conv_4,e.conv_5,e.conv_6,e.conv_7,e.conv_8,e.conv_9,e.conv_10,e.conv_11,e.conv_12,e.conv_13];if(a.forEach(function(i,o){var u=o+1,c=Ive(u);r=kve(r,i.depthwise_conv,c),r=ka(r,i.pointwise_conv,[1,1]),u===11&&(n=r)}),n===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}})}function Lve(t,e,n,r,a){var i=t.shape[0],o=Math.min(n,i),u=e.map(function(h,d){return{score:h,boxIndex:d}}).filter(function(h){return h.score>a}).sort(function(h,d){return d.score-h.score}),c=function(h){return h<=r?1:0},l=[];return u.forEach(function(h){if(!(l.length>=o)){for(var d=h.score,v=l.length-1;v>=0;--v){var m=jve(t,h.boxIndex,l[v]);if(m!==0&&(h.score*=c(m),h.score<=a))break}d===h.score&&l.push(h.boxIndex)}}),l}function jve(t,e,n){var r=t.arraySync(),a=Math.min(r[e][0],r[e][2]),i=Math.min(r[e][1],r[e][3]),o=Math.max(r[e][0],r[e][2]),u=Math.max(r[e][1],r[e][3]),c=Math.min(r[n][0],r[n][2]),l=Math.min(r[n][1],r[n][3]),h=Math.max(r[n][0],r[n][2]),d=Math.max(r[n][1],r[n][3]),v=(o-a)*(u-i),m=(h-c)*(d-l);if(v<=0||m<=0)return 0;var y=Math.max(a,c),x=Math.max(i,l),b=Math.min(o,h),w=Math.min(u,d),S=Math.max(b-y,0)*Math.max(w-x,0);return S/(v+m-S)}function Fve(t){var e=mn(Do(t,[1,0])),n=[yn(e[2],e[0]),yn(e[3],e[1])],r=[at(e[0],ga(n[0],Ee(2))),at(e[1],ga(n[1],Ee(2)))];return{sizes:n,centers:r}}function Uve(t,e){var n=Fve(t),r=n.sizes,a=n.centers,i=mn(Do(e,[1,0])),o=ga(Jn(wS(ga(i[2],Ee(5))),r[0]),Ee(2)),u=at(Jn(ga(i[0],Ee(10)),r[0]),a[0]),c=ga(Jn(wS(ga(i[3],Ee(5))),r[1]),Ee(2)),l=at(Jn(ga(i[1],Ee(10)),r[1]),a[1]);return Do(Fr([yn(u,o),yn(l,c),at(u,o),at(l,c)]),[1,0])}function qve(t,e,n){return Oe(function(){var r=t.shape[0],a=Uve(xa(Zs(n.extra_dim,[r,1,1]),[-1,4]),xa(t,[-1,4]));a=xa(a,[r,a.shape[0]/r,4]);var i=Nq(Ka(e,[0,0,1],[-1,-1,-1])),o=Ka(i,[0,0,0],[-1,-1,1]);o=xa(o,[r,o.shape[1]]);var u=mn(a),c=mn(o);return{boxes:u,scores:c}})}function Is(t,e){return Oe(function(){var n=t.shape[0],r=xa(_a(t,e.box_encoding_predictor),[n,-1,1,4]),a=xa(_a(t,e.class_predictor),[n,-1,3]);return{boxPredictionEncoding:r,classPrediction:a}})}function zve(t,e,n){return Oe(function(){var r=ka(t,n.conv_0,[1,1]),a=ka(r,n.conv_1,[2,2]),i=ka(a,n.conv_2,[1,1]),o=ka(i,n.conv_3,[2,2]),u=ka(o,n.conv_4,[1,1]),c=ka(u,n.conv_5,[2,2]),l=ka(c,n.conv_6,[1,1]),h=ka(l,n.conv_7,[2,2]),d=Is(e,n.box_predictor_0),v=Is(t,n.box_predictor_1),m=Is(a,n.box_predictor_2),y=Is(o,n.box_predictor_3),x=Is(c,n.box_predictor_4),b=Is(h,n.box_predictor_5),w=vn([d.boxPredictionEncoding,v.boxPredictionEncoding,m.boxPredictionEncoding,y.boxPredictionEncoding,x.boxPredictionEncoding,b.boxPredictionEncoding],1),S=vn([d.classPrediction,v.classPrediction,m.classPrediction,y.classPrediction,x.classPrediction,b.classPrediction],1);return{boxPredictions:w,classPredictions:S}})}var gg=function(){function t(e){var n=e===void 0?{}:e,r=n.minConfidence,a=n.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=r||.5,this._maxResults=a||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(t.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),t}(),Hz=function(t){Qe(e,t);function e(){return t.call(this,"SsdMobilenetv1")||this}return e.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("SsdMobilenetv1 - load model before inference");return Oe(function(){var a=n.toBatchTensor(512,!1).toFloat(),i=yn(Jn(a,Ee(.007843137718737125)),Ee(1)),o=Bve(i,r.mobilenetv1),u=zve(o.out,o.conv11,r.prediction_layer),c=u.boxPredictions,l=u.classPredictions;return qve(c,l,r.output_layer)})},e.prototype.forward=function(n){return Ne(this,void 0,void 0,function(){var r;return ke(this,function(a){switch(a.label){case 0:return r=this.forwardInput,[4,Dn(n)];case 1:return[2,r.apply(this,[a.sent()])]}})})},e.prototype.locateFaces=function(n,r){return r===void 0&&(r={}),Ne(this,void 0,void 0,function(){var a,i,o,u,c,l,h,d,v,m,y,x,b,w,S,A,O,E,C,R,D;return ke(this,function(M){switch(M.label){case 0:return a=new gg(r),i=a.maxResults,o=a.minConfidence,[4,Dn(n)];case 1:for(u=M.sent(),c=this.forwardInput(u),l=c.boxes,h=c.scores,d=l[0],v=h[0],m=1;m<l.length;m++)l[m].dispose(),h[m].dispose();return b=(x=Array).from,[4,v.data()];case 2:return y=b.apply(x,[M.sent()]),w=.5,S=Lve(d,y,i,w,o),A=u.getReshapedInputDimensions(0),O=u.inputSize,E=O/A.width,C=O/A.height,R=d.arraySync(),D=S.map(function(N){var k=[Math.max(0,R[N][0]),Math.min(1,R[N][2])].map(function(U){return U*C}),I=k[0],q=k[1],W=[Math.max(0,R[N][1]),Math.min(1,R[N][3])].map(function(U){return U*E}),$=W[0],j=W[1];return new ei(y[N],new SA($,I,j-$,q-I),{height:u.getInputHeight(0),width:u.getInputWidth(0)})}),d.dispose(),v.dispose(),[2,D]}})})},e.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},e.prototype.extractParamsFromWeigthMap=function(n){return Pve(n)},e.prototype.extractParams=function(n){return Dve(n)},e}(ji);(function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(Hz);var $ve=.4,Wve=[new mt(.738768,.874946),new mt(2.42204,2.65704),new mt(4.30971,7.04493),new mt(10.246,4.59428),new mt(12.6868,11.8741)],Hve=[new mt(1.603231,2.094468),new mt(6.041143,7.080126),new mt(2.882459,3.518061),new mt(4.266906,5.178857),new mt(9.041765,10.66308)],Vve=[117.001,114.697,97.404],Gve="tiny_yolov2_model",Kve="tiny_yolov2_separable_conv_model",Sp=function(t){return typeof t=="number"};function Xve(t){if(!t)throw new Error("invalid config: "+t);if(typeof t.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+t.withSeparableConvs);if(!Sp(t.iouThreshold)||t.iouThreshold<0||t.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+t.iouThreshold);if(!Array.isArray(t.classes)||!t.classes.length||!t.classes.every(function(e){return typeof e=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(t.classes));if(!Array.isArray(t.anchors)||!t.anchors.length||!t.anchors.map(function(e){return e||{}}).every(function(e){return Sp(e.x)&&Sp(e.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(t.anchors));if(t.meanRgb&&(!Array.isArray(t.meanRgb)||t.meanRgb.length!==3||!t.meanRgb.every(Sp)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(t.meanRgb))}function kA(t){return Oe(function(){var e=Jn(t,Ee(.10000000149011612));return at(zt(yn(t,e)),e)})}function ho(t,e){return Oe(function(){var n=Uu(t,[[0,0],[1,1],[1,1],[0,0]]);return n=ua(n,e.conv.filters,[1,1],"valid"),n=yn(n,e.bn.sub),n=Jn(n,e.bn.truediv),n=at(n,e.conv.bias),kA(n)})}function po(t,e){return Oe(function(){var n=Uu(t,[[0,0],[1,1],[1,1],[0,0]]);return n=lA(n,e.depthwise_filter,e.pointwise_filter,[1,1],"valid"),n=at(n,e.bias),kA(n)})}function Yve(t,e){var n=mg(t,e);function r(o,u){var c=on(t(o)),l=on(t(o));return e.push({paramPath:u+"/sub"},{paramPath:u+"/truediv"}),{sub:c,truediv:l}}function a(o,u,c){var l=n(o,u,3,c+"/conv"),h=r(u,c+"/bn");return{conv:l,bn:h}}var i=DA(t,e);return{extractConvParams:n,extractConvWithBatchNormParams:a,extractSeparableConvParams:i}}function Qve(t,e,n,r){var a=Ui(t),i=a.extractWeights,o=a.getRemainingWeights,u=[],c=Yve(i,u),l=c.extractConvParams,h=c.extractConvWithBatchNormParams,d=c.extractSeparableConvParams,v;if(e.withSeparableConvs){var m=r[0],y=r[1],x=r[2],b=r[3],w=r[4],S=r[5],A=r[6],O=r[7],E=r[8],C=e.isFirstLayerConv2d?l(m,y,3,"conv0"):d(m,y,"conv0"),R=d(y,x,"conv1"),D=d(x,b,"conv2"),M=d(b,w,"conv3"),N=d(w,S,"conv4"),k=d(S,A,"conv5"),I=O?d(A,O,"conv6"):void 0,q=E?d(O,E,"conv7"):void 0,W=l(E||O||A,5*n,1,"conv8");v={conv0:C,conv1:R,conv2:D,conv3:M,conv4:N,conv5:k,conv6:I,conv7:q,conv8:W}}else{var m=r[0],y=r[1],x=r[2],b=r[3],w=r[4],S=r[5],A=r[6],O=r[7],E=r[8],C=h(m,y,"conv0"),R=h(y,x,"conv1"),D=h(x,b,"conv2"),M=h(b,w,"conv3"),N=h(w,S,"conv4"),k=h(S,A,"conv5"),I=h(A,O,"conv6"),q=h(O,E,"conv7"),W=l(E,5*n,1,"conv8");v={conv0:C,conv1:R,conv2:D,conv3:M,conv4:N,conv5:k,conv6:I,conv7:q,conv8:W}}if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{params:v,paramMappings:u}}function Zve(t,e){var n=Uo(t,e);function r(u){var c=n(u+"/sub",1),l=n(u+"/truediv",1);return{sub:c,truediv:l}}function a(u){var c=n(u+"/filters",4),l=n(u+"/bias",1);return{filters:c,bias:l}}function i(u){var c=a(u+"/conv"),l=r(u+"/bn");return{conv:c,bn:l}}var o=MA(n);return{extractConvParams:a,extractConvWithBatchNormParams:i,extractSeparableConvParams:o}}function Jve(t,e){var n=[],r=Zve(t,n),a=r.extractConvParams,i=r.extractConvWithBatchNormParams,o=r.extractSeparableConvParams,u;if(e.withSeparableConvs){var c=e.filterSizes&&e.filterSizes.length||9;u={conv0:e.isFirstLayerConv2d?a("conv0"):o("conv0"),conv1:o("conv1"),conv2:o("conv2"),conv3:o("conv3"),conv4:o("conv4"),conv5:o("conv5"),conv6:c>7?o("conv6"):void 0,conv7:c>8?o("conv7"):void 0,conv8:a("conv8")}}else u={conv0:i("conv0"),conv1:i("conv1"),conv2:i("conv2"),conv3:i("conv3"),conv4:i("conv4"),conv5:i("conv5"),conv6:i("conv6"),conv7:i("conv7"),conv8:a("conv8")};return Fi(t,n),{params:u,paramMappings:n}}var mB;(function(t){t[t.XS=224]="XS",t[t.SM=320]="SM",t[t.MD=416]="MD",t[t.LG=608]="LG"})(mB||(mB={}));var IA=function(){function t(e){var n=e===void 0?{}:e,r=n.inputSize,a=n.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=r||416,this._scoreThreshold=a||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(t.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),t}(),Vz=function(t){Qe(e,t);function e(n){var r=t.call(this,"TinyYolov2")||this;return Xve(n),r._config=n,r}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),e.prototype.runTinyYolov2=function(n,r){var a=ho(n,r.conv0);return a=On(a,[2,2],[2,2],"same"),a=ho(a,r.conv1),a=On(a,[2,2],[2,2],"same"),a=ho(a,r.conv2),a=On(a,[2,2],[2,2],"same"),a=ho(a,r.conv3),a=On(a,[2,2],[2,2],"same"),a=ho(a,r.conv4),a=On(a,[2,2],[2,2],"same"),a=ho(a,r.conv5),a=On(a,[2,2],[1,1],"same"),a=ho(a,r.conv6),a=ho(a,r.conv7),_a(a,r.conv8,"valid",!1)},e.prototype.runMobilenet=function(n,r){var a=this.config.isFirstLayerConv2d?kA(_a(n,r.conv0,"valid",!1)):po(n,r.conv0);return a=On(a,[2,2],[2,2],"same"),a=po(a,r.conv1),a=On(a,[2,2],[2,2],"same"),a=po(a,r.conv2),a=On(a,[2,2],[2,2],"same"),a=po(a,r.conv3),a=On(a,[2,2],[2,2],"same"),a=po(a,r.conv4),a=On(a,[2,2],[2,2],"same"),a=po(a,r.conv5),a=On(a,[2,2],[1,1],"same"),a=r.conv6?po(a,r.conv6):a,a=r.conv7?po(a,r.conv7):a,_a(a,r.conv8,"valid",!1)},e.prototype.forwardInput=function(n,r){var a=this,i=this.params;if(!i)throw new Error("TinyYolov2 - load model before inference");return Oe(function(){var o=n.toBatchTensor(r,!1).toFloat();return o=a.config.meanRgb?Bh(o,a.config.meanRgb):o,o=o.div(Ee(256)),a.config.withSeparableConvs?a.runMobilenet(o,i):a.runTinyYolov2(o,i)})},e.prototype.forward=function(n,r){return Ne(this,void 0,void 0,function(){var a;return ke(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,Dn(n)];case 1:return[4,a.apply(this,[i.sent(),r])];case 2:return[2,i.sent()]}})})},e.prototype.detect=function(n,r){return r===void 0&&(r={}),Ne(this,void 0,void 0,function(){var a,i,o,u,c,l,h,d,v,m,y,x,b,w,S=this;return ke(this,function(A){switch(A.label){case 0:return a=new IA(r),i=a.inputSize,o=a.scoreThreshold,[4,Dn(n)];case 1:return u=A.sent(),[4,this.forwardInput(u,i)];case 2:return c=A.sent(),l=Oe(function(){return mn(c)[0].expandDims()}),h={width:u.getInputWidth(0),height:u.getInputHeight(0)},[4,this.extractBoxes(l,u.getReshapedInputDimensions(0),o)];case 3:return d=A.sent(),c.dispose(),l.dispose(),v=d.map(function(O){return O.box}),m=d.map(function(O){return O.score}),y=d.map(function(O){return O.classScore}),x=d.map(function(O){return S.config.classes[O.label]}),b=dh(v.map(function(O){return O.rescale(i)}),m,this.config.iouThreshold,!0),w=b.map(function(O){return new gz(m[O],y[O],x[O],v[O],h)}),[2,w]}})})},e.prototype.getDefaultModelName=function(){return""},e.prototype.extractParamsFromWeigthMap=function(n){return Jve(n,this.config)},e.prototype.extractParams=function(n){var r=this.config.filterSizes||e.DEFAULT_FILTER_SIZES,a=r?r.length:void 0;if(a!==7&&a!==8&&a!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+a+" filterSizes in config");return Qve(n,this.config,this.boxEncodingSize,r)},e.prototype.extractBoxes=function(n,r,a){return Ne(this,void 0,void 0,function(){var i,o,u,c,l,h,d,v,m,y,x,b,w,S,A,O,E,C,R,D,M,N,k,I,q,W,$,j,U,H=this;return ke(this,function(Y){switch(Y.label){case 0:return i=r.width,o=r.height,u=Math.max(i,o),c=u/i,l=u/o,h=n.shape[1],d=this.config.anchors.length,v=Oe(function(){var B=n.reshape([h,h,d,H.boxEncodingSize]),K=B.slice([0,0,0,0],[h,h,d,4]),J=B.slice([0,0,0,4],[h,h,d,1]),ne=H.withClassScores?Bi(B.slice([0,0,0,5],[h,h,d,H.config.classes.length]),3):Ee(0);return[K,J,ne]}),m=v[0],y=v[1],x=v[2],b=[],[4,y.array()];case 1:return w=Y.sent(),[4,m.array()];case 2:S=Y.sent(),A=0,Y.label=3;case 3:if(!(A<h))return[3,12];O=0,Y.label=4;case 4:if(!(O<h))return[3,11];E=0,Y.label=5;case 5:return E<d?(C=y_(w[A][O][E][0]),!a||C>a?(R=(O+y_(S[A][O][E][0]))/h*c,D=(A+y_(S[A][O][E][1]))/h*l,M=Math.exp(S[A][O][E][2])*this.config.anchors[E].x/h*c,N=Math.exp(S[A][O][E][3])*this.config.anchors[E].y/h*l,k=R-M/2,I=D-N/2,q={row:A,col:O,anchor:E},this.withClassScores?[4,this.extractPredictedClass(x,q)]:[3,7]):[3,9]):[3,10];case 6:return U=Y.sent(),[3,8];case 7:U={classScore:1,label:0},Y.label=8;case 8:W=U,$=W.classScore,j=W.label,b.push(Kn({box:new pg(k,I,k+M,I+N),score:C,classScore:C*$,label:j},q)),Y.label=9;case 9:return E++,[3,5];case 10:return O++,[3,4];case 11:return A++,[3,3];case 12:return m.dispose(),y.dispose(),x.dispose(),[2,b]}})})},e.prototype.extractPredictedClass=function(n,r){return Ne(this,void 0,void 0,function(){var a,i,o,u;return ke(this,function(c){switch(c.label){case 0:return a=r.row,i=r.col,o=r.anchor,[4,n.array()];case 1:return u=c.sent(),[2,Array(this.config.classes.length).fill(0).map(function(l,h){return u[a][i][o][h]}).map(function(l,h){return{classScore:l,label:h}}).reduce(function(l,h){return l.classScore>h.classScore?l:h})]}})})},e.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],e}(ji),eme=function(t){Qe(e,t);function e(n){n===void 0&&(n=!0);var r=this,a=Object.assign({},{withSeparableConvs:n,iouThreshold:$ve,classes:["face"]},n?{anchors:Hve,meanRgb:Vve}:{anchors:Wve,withClassScores:!0});return r=t.call(this,a)||this,r}return Object.defineProperty(e.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),e.prototype.locateFaces=function(n,r){return Ne(this,void 0,void 0,function(){var a;return ke(this,function(i){switch(i.label){case 0:return[4,this.detect(n,r)];case 1:return a=i.sent(),[2,a.map(function(o){return new ei(o.score,o.relativeBox,{width:o.imageWidth,height:o.imageHeight})})]}})})},e.prototype.getDefaultModelName=function(){return this.withSeparableConvs?Kve:Gve},e.prototype.extractParamsFromWeigthMap=function(n){return t.prototype.extractParamsFromWeigthMap.call(this,n)},e}(Vz),tme=function(t){Qe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._name="TinyFaceDetectorOptions",n}return e}(IA),Lh=function(){function t(){}return t.prototype.then=function(e){return Ne(this,void 0,void 0,function(){var n;return ke(this,function(r){switch(r.label){case 0:return n=e,[4,this.run()];case 1:return[2,n.apply(void 0,[r.sent()])]}})})},t.prototype.run=function(){return Ne(this,void 0,void 0,function(){return ke(this,function(e){throw new Error("ComposableTask - run is not implemented")})})},t}();function yg(t,e,n,r,a){return a===void 0&&(a=function(i){var o=i.alignedRect;return o}),Ne(this,void 0,void 0,function(){var i,o,u,c,l;return ke(this,function(h){switch(h.label){case 0:return i=t.map(function(d){return sve(d)?a(d):d.detection}),u=r,u?[3,5]:e instanceof qt?[4,CA(e,i)]:[3,2];case 1:return c=h.sent(),[3,4];case 2:return[4,TA(e,i)];case 3:c=h.sent(),h.label=4;case 4:u=c,h.label=5;case 5:return o=u,[4,n(o)];case 6:return l=h.sent(),o.forEach(function(d){return d instanceof qt&&d.dispose()}),[2,l]}})})}function BA(t,e,n,r,a){return Ne(this,void 0,void 0,function(){var i=this;return ke(this,function(o){return[2,yg([t],e,function(u){return Ne(i,void 0,void 0,function(){return ke(this,function(c){return[2,n(u[0])]})})},r,a)]})})}function nme(t){return Oe(function(){return Fr(mn(t,3).reverse(),3)})}var Ep=2,rm=12;function rme(t,e){var n=mg(t,e),r=RA(t,e);function a(l,h){var d=on(t(l));return e.push({paramPath:h}),d}function i(l,h,d){d===void 0&&(d=!1);var v=n(l[0],l[1],3,h+"/conv1"),m=a(l[1],h+"/prelu1_alpha"),y=n(l[1],l[2],3,h+"/conv2"),x=a(l[2],h+"/prelu2_alpha"),b=n(l[2],l[3],d?2:3,h+"/conv3"),w=a(l[3],h+"/prelu3_alpha");return{conv1:v,prelu1_alpha:m,conv2:y,prelu2_alpha:x,conv3:b,prelu3_alpha:w}}function o(){var l=i([3,10,16,32],"pnet"),h=n(32,2,1,"pnet/conv4_1"),d=n(32,4,1,"pnet/conv4_2");return Kn(Kn({},l),{conv4_1:h,conv4_2:d})}function u(){var l=i([3,28,48,64],"rnet",!0),h=r(576,128,"rnet/fc1"),d=a(128,"rnet/prelu4_alpha"),v=r(128,2,"rnet/fc2_1"),m=r(128,4,"rnet/fc2_2");return Kn(Kn({},l),{fc1:h,prelu4_alpha:d,fc2_1:v,fc2_2:m})}function c(){var l=i([3,32,64,64],"onet"),h=n(64,128,2,"onet/conv4"),d=a(128,"onet/prelu4_alpha"),v=r(1152,256,"onet/fc1"),m=a(256,"onet/prelu5_alpha"),y=r(256,2,"onet/fc2_1"),x=r(256,4,"onet/fc2_2"),b=r(256,10,"onet/fc2_3");return Kn(Kn({},l),{conv4:h,prelu4_alpha:d,fc1:v,prelu5_alpha:m,fc2_1:y,fc2_2:x,fc2_3:b})}return{extractPNetParams:o,extractRNetParams:u,extractONetParams:c}}function ame(t){var e=Ui(t),n=e.extractWeights,r=e.getRemainingWeights,a=[],i=rme(n,a),o=i.extractPNetParams,u=i.extractRNetParams,c=i.extractONetParams,l=o(),h=u(),d=c();if(r().length!==0)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:l,rnet:h,onet:d},paramMappings:a}}function ime(t,e){var n=Uo(t,e);function r(h){var d=n(h+"/weights",4,h+"/filters"),v=n(h+"/bias",1);return{filters:d,bias:v}}function a(h){var d=n(h+"/weights",2),v=n(h+"/bias",1);return{weights:d,bias:v}}function i(h){return n(h,1)}function o(h){var d=r(h+"/conv1"),v=i(h+"/prelu1_alpha"),m=r(h+"/conv2"),y=i(h+"/prelu2_alpha"),x=r(h+"/conv3"),b=i(h+"/prelu3_alpha");return{conv1:d,prelu1_alpha:v,conv2:m,prelu2_alpha:y,conv3:x,prelu3_alpha:b}}function u(){var h=o("pnet"),d=r("pnet/conv4_1"),v=r("pnet/conv4_2");return Kn(Kn({},h),{conv4_1:d,conv4_2:v})}function c(){var h=o("rnet"),d=a("rnet/fc1"),v=i("rnet/prelu4_alpha"),m=a("rnet/fc2_1"),y=a("rnet/fc2_2");return Kn(Kn({},h),{fc1:d,prelu4_alpha:v,fc2_1:m,fc2_2:y})}function l(){var h=o("onet"),d=r("onet/conv4"),v=i("onet/prelu4_alpha"),m=a("onet/fc1"),y=i("onet/prelu5_alpha"),x=a("onet/fc2_1"),b=a("onet/fc2_2"),w=a("onet/fc2_3");return Kn(Kn({},h),{conv4:d,prelu4_alpha:v,fc1:m,prelu5_alpha:y,fc2_1:x,fc2_2:b,fc2_3:w})}return{extractPNetParams:u,extractRNetParams:c,extractONetParams:l}}function ome(t){var e=[],n=ime(t,e),r=n.extractPNetParams,a=n.extractRNetParams,i=n.extractONetParams,o=r(),u=a(),c=i();return Fi(t,e),{params:{pnet:o,rnet:u,onet:c},paramMappings:e}}function RS(t,e){var n=e[0],r=e[1];return{height:Math.floor(n*t),width:Math.floor(r*t)}}function ume(t,e,n){for(var r=n[0],a=n[1],i=rm/t,o=[],u=Math.min(r,a)*i,c=0;u>=12;)o.push(i*Math.pow(e,c)),u=u*e,c+=1;return o}var LA=function(t){Qe(e,t);function e(n,r,a,i){return t.call(this,{left:n,top:r,right:a,bottom:i},!0)||this}return e}(Mo);function Gz(t){return Oe(function(){return Jn(yn(t,Ee(127.5)),Ee(.0078125))})}function ac(t,e){return Oe(function(){return at(zt(t),Jn(e,Yv(zt(Yv(t)))))})}function jA(t,e,n){return n===void 0&&(n=!1),Oe(function(){var r=_a(t,e.conv1,"valid");return r=ac(r,e.prelu1_alpha),r=On(r,n?[2,2]:[3,3],[2,2],"same"),r=_a(r,e.conv2,"valid"),r=ac(r,e.prelu2_alpha),r=n?r:On(r,[3,3],[2,2],"valid"),r=_a(r,e.conv3,"valid"),r=ac(r,e.prelu3_alpha),r})}function sme(t,e){return Oe(function(){var n=jA(t,e,!0),r=_a(n,e.conv4_1,"valid"),a=Jr(lg(r,3),3),i=Bi(yn(r,a),3),o=_a(n,e.conv4_2,"valid");return{prob:i,regions:o}})}function cme(t,e){return Oe(function(){var n=RS(e,t.shape.slice(1)),r=n.height,a=n.width,i=vA.resizeBilinear(t,[r,a]),o=Gz(i);return Do(o,[0,2,1,3])})}function lme(t,e,n,r){for(var a=[],i=t.arraySync(),o=0;o<t.shape[0];o++)for(var u=0;u<t.shape[1];u++)i[o][u]>=r&&a.push(new mt(u,o));var c=a.map(function(l){var h=new pg(Math.round((l.y*Ep+1)/n),Math.round((l.x*Ep+1)/n),Math.round((l.y*Ep+rm)/n),Math.round((l.x*Ep+rm)/n)),d=i[l.y][l.x],v=e.arraySync(),m=new LA(v[l.y][l.x][0],v[l.y][l.x][1],v[l.y][l.x][2],v[l.y][l.x][3]);return{cell:h,score:d,region:m}});return c}function fme(t,e,n,r,a){a.stage1=[];var i=e.map(function(v){return Oe(function(){var m={scale:v},y=cme(t,v),x=Date.now(),b=sme(y,r),w=b.prob,S=b.regions;m.pnet=Date.now()-x;var A=mn(mn(w,3)[1])[0],O=mn(S)[0];return{scoresTensor:A,regionsTensor:O,scale:v,statsForScale:m}})}),o=i.map(function(v){var m=v.scoresTensor,y=v.regionsTensor,x=v.scale,b=v.statsForScale,w=lme(m,y,x,n);if(m.dispose(),y.dispose(),!w.length)return a.stage1.push(b),[];var S=Date.now(),A=dh(w.map(function(O){return O.cell}),w.map(function(O){return O.score}),.5);return b.nms=Date.now()-S,b.numBoxes=A.length,a.stage1.push(b),A.map(function(O){return w[O]})}),u=o.reduce(function(v,m){return v.concat(m)},[]),c=[],l=[];if(u.length>0){var h=Date.now(),d=dh(u.map(function(v){return v.cell}),u.map(function(v){return v.score}),.7);a.stage1_nms=Date.now()-h,l=d.map(function(v){return u[v].score}),c=d.map(function(v){return u[v]}).map(function(v){var m=v.cell,y=v.region;return new pg(m.left+y.left*m.width,m.top+y.top*m.height,m.right+y.right*m.width,m.bottom+y.bottom*m.height).toSquare().round()})}return{boxes:c,scores:l}}function Kz(t,e,n){var r=n.width,a=n.height;return Ne(this,void 0,void 0,function(){var i,o,u,c=this;return ke(this,function(l){switch(l.label){case 0:return i=Nu(t),[4,Promise.all(e.map(function(h){return Ne(c,void 0,void 0,function(){var d,v,m,y,x,b,w,S;return ke(this,function(A){return d=h.padAtBorders(t.height,t.width),v=d.y,m=d.ey,y=d.x,x=d.ex,b=y-1,w=v-1,S=i.getImageData(b,w,x-b,m-w),[2,Un.isNodejs()?OA(S):createImageBitmap(S)]})})}))];case 1:return o=l.sent(),u=[],o.forEach(function(h){var d=vg({width:r,height:a}),v=Nu(d);v.drawImage(h,0,0,r,a);for(var m=v.getImageData(0,0,r,a).data,y=[],x=0;x<m.length;x+=4)y.push(m[x+2]),y.push(m[x+1]),y.push(m[x]);u.push(y)}),[2,u.map(function(h){var d=Oe(function(){var v=Do(pr(h,[1,r,a,3]),[0,2,1,3]).toFloat();return Gz(v)});return d})]}})})}function hme(t,e){return Oe(function(){var n=jA(t,e),r=xa(n,[n.shape[0],e.fc1.weights.shape[0]]),a=Fa(r,e.fc1),i=ac(a,e.prelu4_alpha),o=Fa(i,e.fc2_1),u=Jr(lg(o,1),1),c=Bi(yn(o,u),1),l=Fa(i,e.fc2_2),h=mn(c,1)[1];return{scores:h,regions:l}})}function dme(t,e,n,r,a){return Ne(this,void 0,void 0,function(){var i,o,u,c,l,h,d,v,m,y,x,b,w,S;return ke(this,function(A){switch(A.label){case 0:return i=Date.now(),[4,Kz(t,e,{width:24,height:24})];case 1:return o=A.sent(),a.stage2_extractImagePatches=Date.now()-i,i=Date.now(),u=o.map(function(O){var E=hme(O,r);return O.dispose(),E}),a.stage2_rnet=Date.now()-i,c=u.length>1?vn(u.map(function(O){return O.scores})):u[0].scores,d=(h=Array).from,[4,c.data()];case 2:return l=d.apply(h,[A.sent()]),c.dispose(),v=l.map(function(O,E){return{score:O,idx:E}}).filter(function(O){return O.score>n}).map(function(O){var E=O.idx;return E}),m=v.map(function(O){return e[O]}),y=v.map(function(O){return l[O]}),x=[],b=[],m.length>0&&(i=Date.now(),w=dh(m,y,.7),a.stage2_nms=Date.now()-i,S=w.map(function(O){var E=u[v[O]].regions.arraySync();return new LA(E[0][0],E[0][1],E[0][2],E[0][3])}),b=w.map(function(O){return y[O]}),x=w.map(function(O,E){return m[O].calibrate(S[E])})),u.forEach(function(O){O.regions.dispose(),O.scores.dispose()}),[2,{boxes:x,scores:b}]}})})}function pme(t,e){return Oe(function(){var n=jA(t,e);n=On(n,[2,2],[2,2],"same"),n=_a(n,e.conv4,"valid"),n=ac(n,e.prelu4_alpha);var r=xa(n,[n.shape[0],e.fc1.weights.shape[0]]),a=Fa(r,e.fc1),i=ac(a,e.prelu5_alpha),o=Fa(i,e.fc2_1),u=Jr(lg(o,1),1),c=Bi(yn(o,u),1),l=Fa(i,e.fc2_2),h=Fa(i,e.fc2_3),d=mn(c,1)[1];return{scores:d,regions:l,points:h}})}function vme(t,e,n,r,a){return Ne(this,void 0,void 0,function(){var i,o,u,c,l,h,d,v,m,y,x,b,w,S,A;return ke(this,function(O){switch(O.label){case 0:return i=Date.now(),[4,Kz(t,e,{width:48,height:48})];case 1:return o=O.sent(),a.stage3_extractImagePatches=Date.now()-i,i=Date.now(),u=o.map(function(E){var C=pme(E,r);return E.dispose(),C}),a.stage3_onet=Date.now()-i,c=u.length>1?vn(u.map(function(E){return E.scores})):u[0].scores,d=(h=Array).from,[4,c.data()];case 2:return l=d.apply(h,[O.sent()]),c.dispose(),v=l.map(function(E,C){return{score:E,idx:C}}).filter(function(E){return E.score>n}).map(function(E){var C=E.idx;return C}),m=v.map(function(E){var C=u[E].regions.arraySync();return new LA(C[0][0],C[0][1],C[0][2],C[0][3])}),y=v.map(function(E,C){return e[E].calibrate(m[C])}),x=v.map(function(E){return l[E]}),b=[],w=[],S=[],y.length>0&&(i=Date.now(),A=dh(y,x,.7,!1),a.stage3_nms=Date.now()-i,b=A.map(function(E){return y[E]}),w=A.map(function(E){return x[E]}),S=A.map(function(E,C){return Array(5).fill(0).map(function(R,D){var M=u[E].points.arraySync();return new mt(M[0][D]*(b[C].width+1)+b[C].left,M[0][D+5]*(b[C].height+1)+b[C].top)})})),u.forEach(function(E){E.regions.dispose(),E.scores.dispose(),E.points.dispose()}),[2,{boxes:b,scores:w,points:S}]}})})}var mme=function(t){Qe(e,t);function e(){return t.call(this,"Mtcnn")||this}return e.prototype.load=function(n){return Ne(this,void 0,void 0,function(){return ke(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,t.prototype.load.call(this,n)]})})},e.prototype.loadFromDisk=function(n){return Ne(this,void 0,void 0,function(){return ke(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,t.prototype.loadFromDisk.call(this,n)]})})},e.prototype.forwardInput=function(n,r){return r===void 0&&(r={}),Ne(this,void 0,void 0,function(){var a,i,o,u,c,l,h,d,v,m,y,x,b,w,S,A,O,E,C,R,D;return ke(this,function(M){switch(M.label){case 0:if(a=this.params,!a)throw new Error("Mtcnn - load model before inference");if(i=n.canvases[0],!i)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return o={},u=Date.now(),c=Oe(function(){return nme(Jr(wA.fromPixels(i)).toFloat())}),l=function(N){return c.dispose(),o.total=Date.now()-u,N},h=c.shape.slice(1),d=h[0],v=h[1],m=new Wz(r),y=m.minFaceSize,x=m.scaleFactor,b=m.maxNumScales,w=m.scoreThresholds,S=m.scaleSteps,A=(S||ume(y,x,[d,v])).filter(function(N){var k=RS(N,[d,v]);return Math.min(k.width,k.height)>rm}).slice(0,b),o.scales=A,o.pyramid=A.map(function(N){return RS(N,[d,v])}),O=Date.now(),[4,fme(c,A,w[0],a.pnet,o)];case 1:return E=M.sent(),o.total_stage1=Date.now()-O,E.boxes.length?(o.stage2_numInputBoxes=E.boxes.length,O=Date.now(),[4,dme(i,E.boxes,w[1],a.rnet,o)]):[2,l({results:[],stats:o})];case 2:return C=M.sent(),o.total_stage2=Date.now()-O,C.boxes.length?(o.stage3_numInputBoxes=C.boxes.length,O=Date.now(),[4,vme(i,C.boxes,w[2],a.onet,o)]):[2,l({results:[],stats:o})];case 3:return R=M.sent(),o.total_stage3=Date.now()-O,D=R.boxes.map(function(N,k){return PA(EA({},new ei(R.scores[k],new SA(N.left/v,N.top/d,N.width/v,N.height/d),{height:d,width:v})),new Wpe(R.points[k].map(function(I){return I.sub(new mt(N.left,N.top)).div(new mt(N.width,N.height))}),{width:N.width,height:N.height}))}),[2,l({results:D,stats:o})]}})})},e.prototype.forward=function(n,r){return r===void 0&&(r={}),Ne(this,void 0,void 0,function(){var a;return ke(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,Dn(n)];case 1:return[4,a.apply(this,[i.sent(),r])];case 2:return[2,i.sent().results]}})})},e.prototype.forwardWithStats=function(n,r){return r===void 0&&(r={}),Ne(this,void 0,void 0,function(){var a;return ke(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,Dn(n)];case 1:return[2,a.apply(this,[i.sent(),r])]}})})},e.prototype.getDefaultModelName=function(){return"mtcnn_model"},e.prototype.extractParamsFromWeigthMap=function(n){return ome(n)},e.prototype.extractParams=function(n){return ame(n)},e}(ji),gme=.4,yme=[new mt(1.603231,2.094468),new mt(6.041143,7.080126),new mt(2.882459,3.518061),new mt(4.266906,5.178857),new mt(9.041765,10.66308)],bme=[117.001,114.697,97.404],xme=function(t){Qe(e,t);function e(){var n=this,r={withSeparableConvs:!0,iouThreshold:gme,classes:["face"],anchors:yme,meanRgb:bme,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return n=t.call(this,r)||this,n}return Object.defineProperty(e.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),e.prototype.locateFaces=function(n,r){return Ne(this,void 0,void 0,function(){var a;return ke(this,function(i){switch(i.label){case 0:return[4,this.detect(n,r)];case 1:return a=i.sent(),[2,a.map(function(o){return new ei(o.score,o.relativeBox,{width:o.imageWidth,height:o.imageHeight})})]}})})},e.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},e.prototype.extractParamsFromWeigthMap=function(n){return t.prototype.extractParamsFromWeigthMap.call(this,n)},e}(Vz),or={ssdMobilenetv1:new Hz,tinyFaceDetector:new xme,tinyYolov2:new eme,mtcnn:new mme,faceLandmark68Net:new jz,faceLandmark68TinyNet:new wve,faceRecognitionNet:new Cve,faceExpressionNet:new uve,ageGenderNet:new gve},Xz=function(t){Qe(e,t);function e(n,r,a){var i=t.call(this)||this;return i.parentTask=n,i.input=r,i.extractedFaces=a,i}return e}(Lh),FA=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Ne(this,void 0,void 0,function(){var n,r,a=this;return ke(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return n=i.sent(),[4,yg(n,this.input,function(o){return Ne(a,void 0,void 0,function(){return ke(this,function(u){switch(u.label){case 0:return[4,Promise.all(o.map(function(c){return or.faceExpressionNet.predictExpressions(c)}))];case 1:return[2,u.sent()]}})})},this.extractedFaces)];case 2:return r=i.sent(),[2,n.map(function(o,u){return Iz(o,r[u])})]}})})},e.prototype.withAgeAndGender=function(){return new $A(this,this.input)},e}(Xz),UA=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Ne(this,void 0,void 0,function(){var n,r;return ke(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),n?[4,BA(n,this.input,function(i){return or.faceExpressionNet.predictExpressions(i)},this.extractedFaces)]:[2];case 2:return r=a.sent(),[2,Iz(n,r)]}})})},e.prototype.withAgeAndGender=function(){return new WA(this,this.input)},e}(Xz),qA=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.withAgeAndGender=function(){return new HA(this,this.input)},e.prototype.withFaceDescriptors=function(){return new GA(this,this.input)},e}(FA),zA=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.withAgeAndGender=function(){return new VA(this,this.input)},e.prototype.withFaceDescriptor=function(){return new KA(this,this.input)},e}(UA),Yz=function(t){Qe(e,t);function e(n,r,a){var i=t.call(this)||this;return i.parentTask=n,i.input=r,i.extractedFaces=a,i}return e}(Lh),$A=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Ne(this,void 0,void 0,function(){var n,r,a=this;return ke(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return n=i.sent(),[4,yg(n,this.input,function(o){return Ne(a,void 0,void 0,function(){return ke(this,function(u){switch(u.label){case 0:return[4,Promise.all(o.map(function(c){return or.ageGenderNet.predictAgeAndGender(c)}))];case 1:return[2,u.sent()]}})})},this.extractedFaces)];case 2:return r=i.sent(),[2,n.map(function(o,u){var c=r[u],l=c.age,h=c.gender,d=c.genderProbability;return zz($z(o,h,d),l)})]}})})},e.prototype.withFaceExpressions=function(){return new FA(this,this.input)},e}(Yz),WA=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Ne(this,void 0,void 0,function(){var n,r,a,i,o;return ke(this,function(u){switch(u.label){case 0:return[4,this.parentTask];case 1:return n=u.sent(),n?[4,BA(n,this.input,function(c){return or.ageGenderNet.predictAgeAndGender(c)},this.extractedFaces)]:[2];case 2:return r=u.sent(),a=r.age,i=r.gender,o=r.genderProbability,[2,zz($z(n,i,o),a)]}})})},e.prototype.withFaceExpressions=function(){return new UA(this,this.input)},e}(Yz),HA=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.withFaceExpressions=function(){return new qA(this,this.input)},e.prototype.withFaceDescriptors=function(){return new GA(this,this.input)},e}($A),VA=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.withFaceExpressions=function(){return new zA(this,this.input)},e.prototype.withFaceDescriptor=function(){return new KA(this,this.input)},e}(WA),Qz=function(t){Qe(e,t);function e(n,r){var a=t.call(this)||this;return a.parentTask=n,a.input=r,a}return e}(Lh),GA=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Ne(this,void 0,void 0,function(){var n,r;return ke(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),[4,yg(n,this.input,function(i){return Promise.all(i.map(function(o){return or.faceRecognitionNet.computeFaceDescriptor(o)}))},null,function(i){return i.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return r=a.sent(),[2,r.map(function(i,o){return qz(n[o],i)})]}})})},e.prototype.withFaceExpressions=function(){return new qA(this,this.input)},e.prototype.withAgeAndGender=function(){return new HA(this,this.input)},e}(Qz),KA=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Ne(this,void 0,void 0,function(){var n,r;return ke(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),n?[4,BA(n,this.input,function(i){return or.faceRecognitionNet.computeFaceDescriptor(i)},null,function(i){return i.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return r=a.sent(),[2,qz(n,r)]}})})},e.prototype.withFaceExpressions=function(){return new zA(this,this.input)},e.prototype.withAgeAndGender=function(){return new VA(this,this.input)},e}(Qz),Zz=function(t){Qe(e,t);function e(n,r,a){var i=t.call(this)||this;return i.parentTask=n,i.input=r,i.useTinyLandmarkNet=a,i}return Object.defineProperty(e.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?or.faceLandmark68TinyNet:or.faceLandmark68Net},enumerable:!0,configurable:!0}),e}(Lh),wme=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Ne(this,void 0,void 0,function(){var n,r,a,i,o,u=this;return ke(this,function(c){switch(c.label){case 0:return[4,this.parentTask];case 1:return n=c.sent(),r=n.map(function(l){return l.detection}),this.input instanceof qt?[4,CA(this.input,r)]:[3,3];case 2:return i=c.sent(),[3,5];case 3:return[4,TA(this.input,r)];case 4:i=c.sent(),c.label=5;case 5:return a=i,[4,Promise.all(a.map(function(l){return u.landmarkNet.detectLandmarks(l)}))];case 6:return o=c.sent(),a.forEach(function(l){return l instanceof qt&&l.dispose()}),[2,n.map(function(l,h){return PA(l,o[h])})]}})})},e.prototype.withFaceExpressions=function(){return new qA(this,this.input)},e.prototype.withAgeAndGender=function(){return new HA(this,this.input)},e.prototype.withFaceDescriptors=function(){return new GA(this,this.input)},e}(Zz),_me=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Ne(this,void 0,void 0,function(){var n,r,a,i,o;return ke(this,function(u){switch(u.label){case 0:return[4,this.parentTask];case 1:return n=u.sent(),n?(r=n.detection,this.input instanceof qt?[4,CA(this.input,[r])]:[3,3]):[2];case 2:return i=u.sent(),[3,5];case 3:return[4,TA(this.input,[r])];case 4:i=u.sent(),u.label=5;case 5:return a=i,[4,this.landmarkNet.detectLandmarks(a[0])];case 6:return o=u.sent(),a.forEach(function(c){return c instanceof qt&&c.dispose()}),[2,PA(n,o)]}})})},e.prototype.withFaceExpressions=function(){return new zA(this,this.input)},e.prototype.withAgeAndGender=function(){return new VA(this,this.input)},e.prototype.withFaceDescriptor=function(){return new KA(this,this.input)},e}(Zz),Jz=function(t){Qe(e,t);function e(n,r){r===void 0&&(r=new gg);var a=t.call(this)||this;return a.input=n,a.options=r,a}return e}(Lh),Sme=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Ne(this,void 0,void 0,function(){var n,r,a,i;return ke(this,function(o){switch(o.label){case 0:return n=this,r=n.input,a=n.options,a instanceof Wz?[4,or.mtcnn.forward(r,a)]:[3,2];case 1:return[2,o.sent().map(function(u){return u.detection})];case 2:if(i=a instanceof tme?function(u){return or.tinyFaceDetector.locateFaces(u,a)}:a instanceof gg?function(u){return or.ssdMobilenetv1.locateFaces(u,a)}:a instanceof IA?function(u){return or.tinyYolov2.locateFaces(u,a)}:null,!i)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,i(r)]}})})},e.prototype.runAndExtendWithFaceDetections=function(){var n=this;return new Promise(function(r){return Ne(n,void 0,void 0,function(){var a;return ke(this,function(i){switch(i.label){case 0:return[4,this.run()];case 1:return a=i.sent(),[2,r(a.map(function(o){return EA({},o)}))]}})})})},e.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new wme(this.runAndExtendWithFaceDetections(),this.input,n)},e.prototype.withFaceExpressions=function(){return new FA(this.runAndExtendWithFaceDetections(),this.input)},e.prototype.withAgeAndGender=function(){return new $A(this.runAndExtendWithFaceDetections(),this.input)},e}(Jz),Eme=function(t){Qe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.run=function(){return Ne(this,void 0,void 0,function(){var n,r;return ke(this,function(a){switch(a.label){case 0:return[4,new Sme(this.input,this.options)];case 1:return n=a.sent(),r=n[0],n.forEach(function(i){i.score>r.score&&(r=i)}),[2,r]}})})},e.prototype.runAndExtendWithFaceDetection=function(){var n=this;return new Promise(function(r){return Ne(n,void 0,void 0,function(){var a;return ke(this,function(i){switch(i.label){case 0:return[4,this.run()];case 1:return a=i.sent(),[2,r(a?EA({},a):void 0)]}})})})},e.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new _me(this.runAndExtendWithFaceDetection(),this.input,n)},e.prototype.withFaceExpressions=function(){return new UA(this.runAndExtendWithFaceDetection(),this.input)},e.prototype.withAgeAndGender=function(){return new WA(this.runAndExtendWithFaceDetection(),this.input)},e}(Jz);function Ame(t,e){return e===void 0&&(e=new gg),new Eme(t,e)}function Ome(t,e){if(t.length!==e.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(t),r=Array.from(e);return Math.sqrt(n.map(function(a,i){return a-r[i]}).reduce(function(a,i){return a+Math.pow(i,2)},0))}(function(){function t(e,n){n===void 0&&(n=.6),this._distanceThreshold=n;var r=Array.isArray(e)?e:[e];if(!r.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var a=1,i=function(){return"person "+a++};this._labeledDescriptors=r.map(function(o){if(o instanceof xp)return o;if(o instanceof Float32Array)return new xp(i(),[o]);if(o.descriptor&&o.descriptor instanceof Float32Array)return new xp(i(),[o.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(t.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),t.prototype.computeMeanDistance=function(e,n){return n.map(function(r){return Ome(r,e)}).reduce(function(r,a){return r+a},0)/(n.length||1)},t.prototype.matchDescriptor=function(e){var n=this;return this.labeledDescriptors.map(function(r){var a=r.descriptors,i=r.label;return new fB(i,n.computeMeanDistance(e,a))}).reduce(function(r,a){return r.distance<a.distance?r:a})},t.prototype.findBestMatch=function(e){var n=this.matchDescriptor(e);return n.distance<this.distanceThreshold?n:new fB("unknown",n.distance)},t.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(e){return e.toJSON()})}},t.fromJSON=function(e){var n=e.labeledDescriptors.map(function(r){return xp.fromJSON(r)});return new t(n,e.distanceThreshold)},t})();const Tme=()=>{const t=Q.useRef(null),[e,n]=Q.useState(!0),[r,a]=Q.useState(""),[i,o]=Q.useState(!1),[u,c]=Q.useState(""),[l,h]=Q.useState(!1);Q.useEffect(()=>{(async()=>{const m="/models";try{await or.ssdMobilenetv1.loadFromUri(m),await or.faceLandmark68Net.loadFromUri(m),await or.faceRecognitionNet.loadFromUri(m),a("")}catch{a("Failed to load face models"),Xe.error("Error loading face modelscheck your /models folder")}finally{n(!1)}})()},[]);const d=()=>{o(!0),c("")},v=async()=>{if(!l){if(e){Xe.info("Still loading face models");return}if(r){Xe.error(r);return}if(t.current){h(!0),c("");try{const m=t.current.getScreenshot(),y=await Jpe(m),x=await Ame(y).withFaceLandmarks().withFaceDescriptor();if(!x){c("No face detected. Try again."),Xe.error("No face detected. Please try again.");return}const b=Array.from(x.descriptor),w=await ba.post("/api/students/upload-face",{descriptor:b});if(w.data&&w.data.success)c("Face registered successfully!"),Xe.success("Face registered successfully!"),window.dispatchEvent(new Event("storage")),setTimeout(()=>o(!1),1e3);else{const S=w.data&&w.data.message||"Unknown error";c(`Registration failed: ${S}`),Xe.error(`Registration failed: ${S}`)}}catch(m){console.error(m),c("Registration failed"),Xe.error("Failed to register face. Please retry.")}finally{h(!1)}}}};return de.jsxs("div",{className:"flex flex-col items-center py-10 pt-24",children:[de.jsx("h2",{className:"text-xl mb-4",children:"Register Your Face"}),!i&&de.jsx("button",{onClick:d,className:"bg-blue-600 px-4 py-2 rounded hover:bg-blue-700 transition mb-4",children:"Open Camera"}),i&&de.jsxs(de.Fragment,{children:[de.jsx(tse,{audio:!1,ref:t,width:320,screenshotFormat:"image/jpeg",className:"rounded shadow-lg mb-4"}),de.jsx("button",{onClick:v,disabled:l,className:`px-4 py-2 rounded transition ${l?"bg-green-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:l?"Registering":"Capture & Register"})]}),e&&de.jsx("p",{className:"mt-4 text-gray-400",children:"Loading face models"}),r&&de.jsxs("p",{className:"mt-4 text-red-400",children:["Model load error: ",r]}),u&&de.jsx("p",{className:"mt-4",children:u})]})},Cme=()=>{const t=om(),[e,n]=Q.useState(localStorage.getItem("role")),[r,a]=Q.useState(localStorage.getItem("name"));Q.useEffect(()=>{const u=()=>{n(localStorage.getItem("role")),a(localStorage.getItem("name"))};return window.addEventListener("storage",u),()=>window.removeEventListener("storage",u)},[]);const i=()=>t(e?e==="admin"?"/admin":"/student":"/"),o=()=>{localStorage.clear(),window.dispatchEvent(new Event("storage")),t("/")};return de.jsxs("nav",{className:"fixed top-0 left-0 right-0 h-16 flex items-center px-4 bg-gray-800 shadow-lg z-50",children:[de.jsx("img",{src:"/logo.png",alt:"Smart Attendance",className:"h-8 w-8 mr-2 flex-shrink-0"}),de.jsx("h1",{className:"text-2xl font-bold text-white cursor-pointer hover:text-gray-300 ml-1 flex-shrink-0",onClick:i,children:"Smart Attendance"}),de.jsx("div",{className:"flex-1"}),de.jsxs("div",{className:"flex items-center space-x-2",children:[r&&de.jsxs("span",{className:"text-gray-200 max-w-xs truncate hidden sm:block",children:["Welcome, ",r]}),e&&de.jsx("button",{onClick:o,className:"bg-red-600 px-3 py-1 rounded hover:bg-red-700 transition text-sm text-white flex-shrink-0",children:"Logout"})]})]})},Rme=()=>de.jsx(Xue,{position:"top-right",autoClose:3e3}),Dme="http://localhost:5000",Ap=Dp(Dme);function Mme(){const[t,e]=Q.useState(localStorage.getItem("token")),[n,r]=Q.useState(localStorage.getItem("role"));return Q.useEffect(()=>(Ap.on("attendance-updated",a=>{console.log("Realtime update:",a)}),()=>Ap.disconnect()),[]),Q.useEffect(()=>{const a=()=>{e(localStorage.getItem("token")),r(localStorage.getItem("role"))};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),de.jsx(E8,{children:de.jsxs("div",{className:"bg-gray-900 min-h-screen text-white",children:[de.jsx(Cme,{}),de.jsx(Rme,{}),de.jsxs(g8,{children:[de.jsx(Bs,{path:"/",element:t?de.jsx(Vl,{to:n==="admin"?"/admin":"/student",replace:!0}):de.jsx(QH,{})}),de.jsx(Bs,{path:"/admin",element:t&&n==="admin"?de.jsx(Yue,{socket:Ap}):de.jsx(Vl,{to:"/",replace:!0})}),de.jsx(Bs,{path:"/student/register-face",element:t&&n==="student"?de.jsx(Tme,{}):de.jsx(Vl,{to:"/",replace:!0})}),de.jsx(Bs,{path:"/student",element:t&&n==="student"?de.jsx(Que,{socket:Ap}):de.jsx(Vl,{to:"/",replace:!0})}),de.jsx(Bs,{path:"*",element:de.jsx(Vl,{to:"/",replace:!0})})]})]})})}O$.createRoot(document.getElementById("root")).render(de.jsx(V.StrictMode,{children:de.jsx(Mme,{})}))});export default Pme();
